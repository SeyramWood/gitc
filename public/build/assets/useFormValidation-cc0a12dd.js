import{r as f,b}from"./app-8b4d67ed.js";import{O as E,c as z}from"./app-6e989420.js";function O(){return O=Object.assign?Object.assign.bind():function(t){for(var h=1;h<arguments.length;h++){var n=arguments[h];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},O.apply(this,arguments)}var R=f.forwardRef(function(t,h){var n=f.useRef(h),l=function(){return t.header?f.createElement("div",{className:"p-card-header"},E.getJSXElement(t.header,t)):null},e=function(){var u=t.title&&f.createElement("div",{className:"p-card-title"},E.getJSXElement(t.title,t)),y=t.subTitle&&f.createElement("div",{className:"p-card-subtitle"},E.getJSXElement(t.subTitle,t)),S=t.children&&f.createElement("div",{className:"p-card-content"},t.children),N=t.footer&&f.createElement("div",{className:"p-card-footer"},E.getJSXElement(t.footer,t));return f.createElement("div",{className:"p-card-body"},u,y,S,N)};f.useEffect(function(){E.combinedRefs(n,h)},[n,h]);var g=E.findDiffKeys(t,R.defaultProps),m=z("p-card p-component",t.className),a=l(),s=e();return f.createElement("div",O({id:t.id,ref:n,className:m,style:t.style},g),a,s)});R.displayName="Card";R.defaultProps={__TYPE:"Card",id:null,header:null,footer:null,title:null,subTitle:null,style:null,className:null};const k=t=>/^[A-Za-z]+$/.test(t),w=t=>/^[0-9A-Za-z+]+$/.test(t),V=t=>typeof t=="string"?!0:/^[0-9A-Za-z-_ ]+$/.test(t),D=t=>/^[0-9A-Za-z-_]+$/.test(t),x=t=>/^[0-9]+$/.test(t),I=t=>/^[0-9.]+$/.test(t),P=t=>{if(typeof t=="boolean")return!0},F=t=>/^GHA-\d{9}-\d{1}$/.test(t),K=t=>/^[A-Z]{2}-\d{1,4}-\d{4}$/.test(t),B=t=>/^[A-Z]{2}\s\d{1,4}(\s[A-Z]{1}$|\s-\s\d{2}$)/.test(t),_=t=>/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase()),J=t=>/^0\d{9}$/.test(t),o=(t,h)=>(h=typeof h>"u"?" ":h,t.includes("_")?t.replace("_"," "):t.replace(/([a-z\d])([A-Z])/g,"$1"+h+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+h+"$2").toLowerCase());let r={};const C=(t,h,n)=>{for(const l in h)for(const e in t)l===e&&(r[`${e}`]=[],h[l].split("|").forEach(m=>{let a="",s="";if(m.includes(">")?(a=m.split(">")[0],s=m.split(">")[1]):a=m,a==="required"&&!t[e])s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field is required`);else if(t[e]){if(a==="alpha"&&!k(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be alphabetic characters`)),a==="alpha_num"&&!w(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be alphanumeric`)),a==="alpha_dash"&&!D(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be alphanumeric with dashes or underscore`)),a==="string"&&!V(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be string`)),a==="numeric"&&!x(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be numeric`)),a==="float"&&!I(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be numeric`)),a==="vehicleReg"&&!B(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be vehicle registration number`)),a==="email"&&!_(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be a valid email`)),a==="bool"&&!P(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be a boolean`)),a==="id_card"&&!F(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push("The ID field must be a valid Ghana Card")),a==="digital_address"&&!K(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push("The address field must be a valid digital address")),a==="email_phone"){const $=/^[A-Za-z]+$/,u=/^0\d{9}$/;$.test(t[e])||t[e].includes("@")?_(t[e])||(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be a valid email`)):u.test(t[e])?u.test(t[e])||(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be a valid phone number`)):s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be a valid phone number`)}if(a==="phone"&&!J(t[e])&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} field must be a valid phone number`)),a.includes(":")){const $=a.split(":")[0],u=a.split(":")[1];switch($.toLowerCase()){case"min":t[e].length<parseInt(u)&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} must be ${u} characters minimum`));break;case"max":t[e].length>parseInt(u)&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} must be ${u} characters maximum`));break;case"match":t[e]!==t[u]&&(s.length>0?r[`${e}`].push(s):r[`${e}`].push(`The ${n?n[e]:o(e)} dose not match ${u}`));break}}}}));return r};function ne(t,h,n=null){const[l,e]=b.useState(t),[g,m]=b.useState(h),[a,s]=b.useState(),[$,u]=b.useState({}),[y,S]=b.useState(!1),N=b.useCallback(()=>{if(y){let i=0;Object.keys(l).forEach(d=>{i+=$[d].length}),i===0?n&&n():S(!1)}},[y]);return b.useEffect(()=>{N()},[y]),{handleChange:(i,d)=>{if(d){e(A=>({...A,[d]:i.htmlValue}));return}const{name:c,value:p,files:T,type:Z,checked:j}=i.target;if(Z==="file")T&&e(A=>({...A,[c]:Object.values(T)}));else if(Z==="tel"){let v=p.replace(/\D/g,"").match(/^(\d{3})(\d{3})(\d{4})$/);e(v?()=>({...l,[c]:`(${v[1]}) ${v[2]} - ${v[3]}`}):{...l,[c]:p})}else e(Z==="checkbox"?{...l,[c]:j}:{...l,[c]:p})},handleBlur:i=>{const{name:d,value:c}=i.target,p=C(l,{[d]:g[`${d}`]},a);u(T=>({...T,...p}))},handleKeyDown:i=>{const{name:d,value:c}=i.target,p=C(l,{[d]:g[`${d}`]},a);u(T=>({...T,...p}))},handleSubmit:i=>{i.preventDefault(),u({}),S(!0),u(C(l,g,a))},isSubmitting:y,updateIsSubmitting:i=>{S(i)},errors:$,state:l,rules:g,clearValues:(i=!0)=>{i&&(e(t),u({}))},setValues:(i={},d)=>{Object.keys(i).length>0?e(c=>c={...c,...i}):d==="replace"&&e(c=>({...i}))},setValidationRules:(i={},d)=>{Object.keys(i).length>0?m(c=>c={...c,...i}):d==="replace"&&m(c=>({...i}))},setFields:(i={},d)=>{Object.keys(i).length>0&&s(d==="replace"?c=>({...i}):c=>c={...c,...i})},setServerErrors:(i={},d)=>{Object.keys(i).length>0?u(c=>c={...c,...i}):d==="replace"&&u(c=>({...i}))}}}export{R as C,ne as u};
