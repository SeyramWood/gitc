var la=Object.defineProperty;var ua=(A,$,H)=>$ in A?la(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var gn=(A,$,H)=>(ua(A,typeof $!="symbol"?$+"":$,H),H),Tr=(A,$,H)=>{if(!$.has(A))throw TypeError("Cannot "+H)};var me=(A,$,H)=>(Tr(A,$,"read from private field"),H?H.call(A):$.get(A)),at=(A,$,H)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,H)},St=(A,$,H,O)=>(Tr(A,$,"write to private field"),O?O.call(A,H):$.set(A,H),H),Mr=(A,$,H,O)=>({set _(R){St(A,$,R,H)},get _(){return me(A,$,O)}}),ft=(A,$,H)=>(Tr(A,$,"access private method"),H);import{h as require$$5,r as reactExports,e as reactDomExports}from"./app-7ee8752f.js";var classnamesExports={},classnames={get exports(){return classnamesExports},set exports(A){classnamesExports=A}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(A){(function(){var $={}.hasOwnProperty;function H(){for(var O=[],R=0;R<arguments.length;R++){var B=arguments[R];if(B){var ie=typeof B;if(ie==="string"||ie==="number")O.push(B);else if(Array.isArray(B)){if(B.length){var se=H.apply(null,B);se&&O.push(se)}}else if(ie==="object"){if(B.toString!==Object.prototype.toString&&!B.toString.toString().includes("[native code]")){O.push(B.toString());continue}for(var he in B)$.call(B,he)&&B[he]&&O.push(he)}}}return O.join(" ")}A.exports?(H.default=H,A.exports=H):window.classNames=H})()})(classnames);const cx=classnamesExports;function _toConsumableArray(A){if(Array.isArray(A)){for(var $=0,H=Array(A.length);$<A.length;$++)H[$]=A[$];return H}else return Array.from(A)}var hasPassiveEvents=!1;if(typeof window<"u"){var passiveTestOptions={get passive(){hasPassiveEvents=!0}};window.addEventListener("testPassive",null,passiveTestOptions),window.removeEventListener("testPassive",null,passiveTestOptions)}var isIosDevice=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),locks=[],documentListenerAdded=!1,initialClientY=-1,previousBodyOverflowSetting=void 0,previousBodyPaddingRight=void 0,allowTouchMove=function($){return locks.some(function(H){return!!(H.options.allowTouchMove&&H.options.allowTouchMove($))})},preventDefault=function($){var H=$||window.event;return allowTouchMove(H.target)||H.touches.length>1?!0:(H.preventDefault&&H.preventDefault(),!1)},setOverflowHidden=function($){if(previousBodyPaddingRight===void 0){var H=!!$&&$.reserveScrollBarGap===!0,O=window.innerWidth-document.documentElement.clientWidth;H&&O>0&&(previousBodyPaddingRight=document.body.style.paddingRight,document.body.style.paddingRight=O+"px")}previousBodyOverflowSetting===void 0&&(previousBodyOverflowSetting=document.body.style.overflow,document.body.style.overflow="hidden")},restoreOverflowSetting=function(){previousBodyPaddingRight!==void 0&&(document.body.style.paddingRight=previousBodyPaddingRight,previousBodyPaddingRight=void 0),previousBodyOverflowSetting!==void 0&&(document.body.style.overflow=previousBodyOverflowSetting,previousBodyOverflowSetting=void 0)},isTargetElementTotallyScrolled=function($){return $?$.scrollHeight-$.scrollTop<=$.clientHeight:!1},handleScroll=function($,H){var O=$.targetTouches[0].clientY-initialClientY;return allowTouchMove($.target)?!1:H&&H.scrollTop===0&&O>0||isTargetElementTotallyScrolled(H)&&O<0?preventDefault($):($.stopPropagation(),!0)},disableBodyScroll=function($,H){if(!$){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!locks.some(function(R){return R.targetElement===$})){var O={targetElement:$,options:H||{}};locks=[].concat(_toConsumableArray(locks),[O]),isIosDevice?($.ontouchstart=function(R){R.targetTouches.length===1&&(initialClientY=R.targetTouches[0].clientY)},$.ontouchmove=function(R){R.targetTouches.length===1&&handleScroll(R,$)},documentListenerAdded||(document.addEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!0)):setOverflowHidden(H)}},enableBodyScroll=function($){if(!$){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}locks=locks.filter(function(H){return H.targetElement!==$}),isIosDevice?($.ontouchstart=null,$.ontouchmove=null,documentListenerAdded&&locks.length===0&&(document.removeEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!1)):locks.length||restoreOverflowSetting()},libExports$h={},lib$h={get exports(){return libExports$h},set exports(A){libExports$h=A}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf={get exports(){return pdfExports},set exports(A){pdfExports=A}};(function(module,exports){(function($,H){module.exports=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.arrayByteLength=le,$.arraysToBytes=ve,$.assert=ye,$.bytesToString=ze,$.createPromiseCapability=bt,$.createValidAbsoluteUrl=ne,$.getModificationDate=nt,$.getVerbosityLevel=Me,$.info=Te,$.isArrayBuffer=$t,$.isArrayEqual=jt,$.objectFromMap=we,$.objectSize=ge,$.setVerbosityLevel=Ie,$.shadow=fe,$.string32=Ae,$.stringToBytes=oe,$.stringToPDFString=pt,$.stringToUTF8String=Ct,$.unreachable=Ze,$.utf8StringToString=yt,$.warn=et;const H=[1,0,0,1,0,0];$.IDENTITY_MATRIX=H;const O=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=O;const R=1.35;$.LINE_FACTOR=R;const B=.35;$.LINE_DESCENT_FACTOR=B;const ie=B/R;$.BASELINE_FACTOR=ie;const se={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=se;const he={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=he;const re="pdfjs_internal_editor_";$.AnnotationEditorPrefix=re;const te={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=te;const pe={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=pe;const J={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=J;const K={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=K;const Y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Y;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=G;const U={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=U;const V={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=V;const q={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=q;const Q={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Q;const Z={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Z;const W={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=W;const X={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=X;const ue={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ue;const be={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=be;const _e={O:"PageOpen",C:"PageClose"};$.PageActionEventType=_e;const Pe={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=Pe;const ce={NONE:0,BINARY:1};$.CMapCompressionType=ce;const $e={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=$e;const Xe={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=Xe;const De={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=De;let Ge=Pe.WARNINGS;function Ie(Ke){Number.isInteger(Ke)&&(Ge=Ke)}function Me(){return Ge}function Te(Ke){Ge>=Pe.INFOS&&console.log(`Info: ${Ke}`)}function et(Ke){Ge>=Pe.WARNINGS&&console.log(`Warning: ${Ke}`)}function Ze(Ke){throw new Error(Ke)}function ye(Ke,Le){Ke||Ze(Le)}function ae(Ke){if(!Ke)return!1;switch(Ke.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function ne(Ke,Le=null,Ve=null){if(!Ke)return null;try{if(Ve&&typeof Ke=="string"){if(Ve.addDefaultProtocol&&Ke.startsWith("www.")){const Be=Ke.match(/\./g);Be&&Be.length>=2&&(Ke=`http://${Ke}`)}if(Ve.tryConvertEncoding)try{Ke=Ct(Ke)}catch{}}const wt=Le?new URL(Ke,Le):new URL(Ke);if(ae(wt))return wt}catch{}return null}function fe(Ke,Le,Ve,wt=!1){return Object.defineProperty(Ke,Le,{value:Ve,enumerable:!wt,configurable:!0,writable:!1}),Ve}const Se=function(){function Le(Ve,wt){this.constructor===Le&&Ze("Cannot initialize BaseException."),this.message=Ve,this.name=wt}return Le.prototype=new Error,Le.constructor=Le,Le}();$.BaseException=Se;class Ee extends Se{constructor(Le,Ve){super(Le,"PasswordException"),this.code=Ve}}$.PasswordException=Ee;class ke extends Se{constructor(Le,Ve){super(Le,"UnknownErrorException"),this.details=Ve}}$.UnknownErrorException=ke;class Fe extends Se{constructor(Le){super(Le,"InvalidPDFException")}}$.InvalidPDFException=Fe;class He extends Se{constructor(Le){super(Le,"MissingPDFException")}}$.MissingPDFException=He;class rt extends Se{constructor(Le,Ve){super(Le,"UnexpectedResponseException"),this.status=Ve}}$.UnexpectedResponseException=rt;class Je extends Se{constructor(Le){super(Le,"FormatError")}}$.FormatError=Je;class tt extends Se{constructor(Le){super(Le,"AbortException")}}$.AbortException=tt;function ze(Ke){(typeof Ke!="object"||Ke===null||Ke.length===void 0)&&Ze("Invalid argument for bytesToString");const Le=Ke.length,Ve=8192;if(Le<Ve)return String.fromCharCode.apply(null,Ke);const wt=[];for(let Be=0;Be<Le;Be+=Ve){const ct=Math.min(Be+Ve,Le),Et=Ke.subarray(Be,ct);wt.push(String.fromCharCode.apply(null,Et))}return wt.join("")}function oe(Ke){typeof Ke!="string"&&Ze("Invalid argument for stringToBytes");const Le=Ke.length,Ve=new Uint8Array(Le);for(let wt=0;wt<Le;++wt)Ve[wt]=Ke.charCodeAt(wt)&255;return Ve}function le(Ke){if(Ke.length!==void 0)return Ke.length;if(Ke.byteLength!==void 0)return Ke.byteLength;Ze("Invalid argument for arrayByteLength")}function ve(Ke){const Le=Ke.length;if(Le===1&&Ke[0]instanceof Uint8Array)return Ke[0];let Ve=0;for(let ct=0;ct<Le;ct++)Ve+=le(Ke[ct]);let wt=0;const Be=new Uint8Array(Ve);for(let ct=0;ct<Le;ct++){let Et=Ke[ct];Et instanceof Uint8Array||(typeof Et=="string"?Et=oe(Et):Et=new Uint8Array(Et));const kt=Et.byteLength;Be.set(Et,wt),wt+=kt}return Be}function Ae(Ke){return String.fromCharCode(Ke>>24&255,Ke>>16&255,Ke>>8&255,Ke&255)}function ge(Ke){return Object.keys(Ke).length}function we(Ke){const Le=Object.create(null);for(const[Ve,wt]of Ke)Le[Ve]=wt;return Le}function Qe(){const Ke=new Uint8Array(4);return Ke[0]=1,new Uint32Array(Ke.buffer,0,1)[0]===1}function st(){try{return new Function(""),!0}catch{return!1}}class it{static get isLittleEndian(){return fe(this,"isLittleEndian",Qe())}static get isEvalSupported(){return fe(this,"isEvalSupported",st())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?fe(this,"platform",{isWin:!1,isMac:!1}):fe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}$.FeatureTest=it;const Ue=[...Array(256).keys()].map(Ke=>Ke.toString(16).padStart(2,"0"));class ht{static makeHexColor(Le,Ve,wt){return`#${Ue[Le]}${Ue[Ve]}${Ue[wt]}`}static scaleMinMax(Le,Ve){let wt;Le[0]?(Le[0]<0&&(wt=Ve[0],Ve[0]=Ve[1],Ve[1]=wt),Ve[0]*=Le[0],Ve[1]*=Le[0],Le[3]<0&&(wt=Ve[2],Ve[2]=Ve[3],Ve[3]=wt),Ve[2]*=Le[3],Ve[3]*=Le[3]):(wt=Ve[0],Ve[0]=Ve[2],Ve[2]=wt,wt=Ve[1],Ve[1]=Ve[3],Ve[3]=wt,Le[1]<0&&(wt=Ve[2],Ve[2]=Ve[3],Ve[3]=wt),Ve[2]*=Le[1],Ve[3]*=Le[1],Le[2]<0&&(wt=Ve[0],Ve[0]=Ve[1],Ve[1]=wt),Ve[0]*=Le[2],Ve[1]*=Le[2]),Ve[0]+=Le[4],Ve[1]+=Le[4],Ve[2]+=Le[5],Ve[3]+=Le[5]}static transform(Le,Ve){return[Le[0]*Ve[0]+Le[2]*Ve[1],Le[1]*Ve[0]+Le[3]*Ve[1],Le[0]*Ve[2]+Le[2]*Ve[3],Le[1]*Ve[2]+Le[3]*Ve[3],Le[0]*Ve[4]+Le[2]*Ve[5]+Le[4],Le[1]*Ve[4]+Le[3]*Ve[5]+Le[5]]}static applyTransform(Le,Ve){const wt=Le[0]*Ve[0]+Le[1]*Ve[2]+Ve[4],Be=Le[0]*Ve[1]+Le[1]*Ve[3]+Ve[5];return[wt,Be]}static applyInverseTransform(Le,Ve){const wt=Ve[0]*Ve[3]-Ve[1]*Ve[2],Be=(Le[0]*Ve[3]-Le[1]*Ve[2]+Ve[2]*Ve[5]-Ve[4]*Ve[3])/wt,ct=(-Le[0]*Ve[1]+Le[1]*Ve[0]+Ve[4]*Ve[1]-Ve[5]*Ve[0])/wt;return[Be,ct]}static getAxialAlignedBoundingBox(Le,Ve){const wt=ht.applyTransform(Le,Ve),Be=ht.applyTransform(Le.slice(2,4),Ve),ct=ht.applyTransform([Le[0],Le[3]],Ve),Et=ht.applyTransform([Le[2],Le[1]],Ve);return[Math.min(wt[0],Be[0],ct[0],Et[0]),Math.min(wt[1],Be[1],ct[1],Et[1]),Math.max(wt[0],Be[0],ct[0],Et[0]),Math.max(wt[1],Be[1],ct[1],Et[1])]}static inverseTransform(Le){const Ve=Le[0]*Le[3]-Le[1]*Le[2];return[Le[3]/Ve,-Le[1]/Ve,-Le[2]/Ve,Le[0]/Ve,(Le[2]*Le[5]-Le[4]*Le[3])/Ve,(Le[4]*Le[1]-Le[5]*Le[0])/Ve]}static singularValueDecompose2dScale(Le){const Ve=[Le[0],Le[2],Le[1],Le[3]],wt=Le[0]*Ve[0]+Le[1]*Ve[2],Be=Le[0]*Ve[1]+Le[1]*Ve[3],ct=Le[2]*Ve[0]+Le[3]*Ve[2],Et=Le[2]*Ve[1]+Le[3]*Ve[3],kt=(wt+Et)/2,Xt=Math.sqrt((wt+Et)**2-4*(wt*Et-ct*Be))/2,en=kt+Xt||1,zt=kt-Xt||1;return[Math.sqrt(en),Math.sqrt(zt)]}static normalizeRect(Le){const Ve=Le.slice(0);return Le[0]>Le[2]&&(Ve[0]=Le[2],Ve[2]=Le[0]),Le[1]>Le[3]&&(Ve[1]=Le[3],Ve[3]=Le[1]),Ve}static intersect(Le,Ve){const wt=Math.max(Math.min(Le[0],Le[2]),Math.min(Ve[0],Ve[2])),Be=Math.min(Math.max(Le[0],Le[2]),Math.max(Ve[0],Ve[2]));if(wt>Be)return null;const ct=Math.max(Math.min(Le[1],Le[3]),Math.min(Ve[1],Ve[3])),Et=Math.min(Math.max(Le[1],Le[3]),Math.max(Ve[1],Ve[3]));return ct>Et?null:[wt,ct,Be,Et]}static bezierBoundingBox(Le,Ve,wt,Be,ct,Et,kt,Xt){const en=[],zt=[[],[]];let Ut,tn,Yt,Jt,dn,hn,vn,$n;for(let Pn=0;Pn<2;++Pn){if(Pn===0?(tn=6*Le-12*wt+6*ct,Ut=-3*Le+9*wt-9*ct+3*kt,Yt=3*wt-3*Le):(tn=6*Ve-12*Be+6*Et,Ut=-3*Ve+9*Be-9*Et+3*Xt,Yt=3*Be-3*Ve),Math.abs(Ut)<1e-12){if(Math.abs(tn)<1e-12)continue;Jt=-Yt/tn,0<Jt&&Jt<1&&en.push(Jt);continue}vn=tn*tn-4*Yt*Ut,$n=Math.sqrt(vn),!(vn<0)&&(dn=(-tn+$n)/(2*Ut),0<dn&&dn<1&&en.push(dn),hn=(-tn-$n)/(2*Ut),0<hn&&hn<1&&en.push(hn))}let xn=en.length,fn;const On=xn;for(;xn--;)Jt=en[xn],fn=1-Jt,zt[0][xn]=fn*fn*fn*Le+3*fn*fn*Jt*wt+3*fn*Jt*Jt*ct+Jt*Jt*Jt*kt,zt[1][xn]=fn*fn*fn*Ve+3*fn*fn*Jt*Be+3*fn*Jt*Jt*Et+Jt*Jt*Jt*Xt;return zt[0][On]=Le,zt[1][On]=Ve,zt[0][On+1]=kt,zt[1][On+1]=Xt,zt[0].length=zt[1].length=On+2,[Math.min(...zt[0]),Math.min(...zt[1]),Math.max(...zt[0]),Math.max(...zt[1])]}}$.Util=ht;const lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pt(Ke){if(Ke[0]>="ï"){let Ve;if(Ke[0]==="þ"&&Ke[1]==="ÿ"?Ve="utf-16be":Ke[0]==="ÿ"&&Ke[1]==="þ"?Ve="utf-16le":Ke[0]==="ï"&&Ke[1]==="»"&&Ke[2]==="¿"&&(Ve="utf-8"),Ve)try{const wt=new TextDecoder(Ve,{fatal:!0}),Be=oe(Ke);return wt.decode(Be)}catch(wt){et(`stringToPDFString: "${wt}".`)}}const Le=[];for(let Ve=0,wt=Ke.length;Ve<wt;Ve++){const Be=lt[Ke.charCodeAt(Ve)];Le.push(Be?String.fromCharCode(Be):Ke.charAt(Ve))}return Le.join("")}function Ct(Ke){return decodeURIComponent(escape(Ke))}function yt(Ke){return unescape(encodeURIComponent(Ke))}function $t(Ke){return typeof Ke=="object"&&Ke!==null&&Ke.byteLength!==void 0}function jt(Ke,Le){if(Ke.length!==Le.length)return!1;for(let Ve=0,wt=Ke.length;Ve<wt;Ve++)if(Ke[Ve]!==Le[Ve])return!1;return!0}function nt(Ke=new Date){return[Ke.getUTCFullYear().toString(),(Ke.getUTCMonth()+1).toString().padStart(2,"0"),Ke.getUTCDate().toString().padStart(2,"0"),Ke.getUTCHours().toString().padStart(2,"0"),Ke.getUTCMinutes().toString().padStart(2,"0"),Ke.getUTCSeconds().toString().padStart(2,"0")].join("")}function bt(){const Ke=Object.create(null);let Le=!1;return Object.defineProperty(Ke,"settled",{get(){return Le}}),Ke.promise=new Promise(function(Ve,wt){Ke.resolve=function(Be){Le=!0,Ve(Be)},Ke.reject=function(Be){Le=!0,wt(Be)}}),Ke}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,$,O,R,B,ie,se,he,re,te,pe,Rr,K,Y;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:U,NodeCMapReaderFactory:V,NodeStandardFontDataFactory:q}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=U,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=V,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=q}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:U}=__w_pdfjs_require__(21);createPDFNetworkStream=V=>new U(V)}else{const{PDFNetworkStream:U}=__w_pdfjs_require__(24),{PDFFetchStream:V}=__w_pdfjs_require__(25);createPDFNetworkStream=q=>(0,_display_utils.isValidFetchUrl)(q.url)?new V(q):new U(q)}function getDocument(U){if(typeof U=="string"||U instanceof URL)U={url:U};else if((0,_util.isArrayBuffer)(U))U={data:U};else if(U instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),U={range:U};else if(typeof U!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!U.url&&!U.data&&!U.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const V=new PDFDocumentLoadingTask,q=Object.create(null);let Q=null,Z=null;for(const X in U){const ue=U[X];switch(X){case"url":if(ue instanceof URL){q[X]=ue.href;continue}try{q[X]=new URL(ue,window.location).href;continue}catch{if(_is_node.isNodeJS&&typeof ue=="string")break}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Q=ue;continue;case"worker":Z=ue;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&ue instanceof Buffer)q[X]=new Uint8Array(ue);else{if(ue instanceof Uint8Array&&ue.byteLength===ue.buffer.byteLength)break;if(typeof ue=="string")q[X]=(0,_util.stringToBytes)(ue);else if(typeof ue=="object"&&ue!==null&&!isNaN(ue.length)||(0,_util.isArrayBuffer)(ue))q[X]=new Uint8Array(ue);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}q[X]=ue}if(q.CMapReaderFactory=q.CMapReaderFactory||DefaultCMapReaderFactory,q.StandardFontDataFactory=q.StandardFontDataFactory||DefaultStandardFontDataFactory,q.ignoreErrors=q.stopAtErrors!==!0,q.fontExtraProperties=q.fontExtraProperties===!0,q.pdfBug=q.pdfBug===!0,q.enableXfa=q.enableXfa===!0,(!Number.isInteger(q.rangeChunkSize)||q.rangeChunkSize<1)&&(q.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof q.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(q.docBaseUrl))&&(q.docBaseUrl=null),(!Number.isInteger(q.maxImageSize)||q.maxImageSize<-1)&&(q.maxImageSize=-1),typeof q.cMapUrl!="string"&&(q.cMapUrl=null),typeof q.standardFontDataUrl!="string"&&(q.standardFontDataUrl=null),typeof q.useWorkerFetch!="boolean"&&(q.useWorkerFetch=q.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&q.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(q.cMapUrl,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(q.standardFontDataUrl,document.baseURI)),typeof q.isEvalSupported!="boolean"&&(q.isEvalSupported=!0),typeof q.isOffscreenCanvasSupported!="boolean"&&(q.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof q.disableFontFace!="boolean"&&(q.disableFontFace=_is_node.isNodeJS),typeof q.useSystemFonts!="boolean"&&(q.useSystemFonts=!_is_node.isNodeJS&&!q.disableFontFace),(typeof q.ownerDocument!="object"||q.ownerDocument===null)&&(q.ownerDocument=globalThis.document),typeof q.disableRange!="boolean"&&(q.disableRange=!1),typeof q.disableStream!="boolean"&&(q.disableStream=!1),typeof q.disableAutoFetch!="boolean"&&(q.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(q.verbosity),!Z){const X={verbosity:q.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Z=X.port?PDFWorker.fromPort(X):new PDFWorker(X),V._worker=Z}const W=V.docId;return Z.promise.then(function(){if(V.destroyed)throw new Error("Loading aborted");const X=_fetchDocument(Z,q,Q,W),ue=new Promise(function(be){let _e;Q?_e=new _transport_stream.PDFDataTransportStream({length:q.length,initialData:q.initialData,progressiveDone:q.progressiveDone,contentDispositionFilename:q.contentDispositionFilename,disableRange:q.disableRange,disableStream:q.disableStream},Q):q.data||(_e=createPDFNetworkStream({url:q.url,length:q.length,httpHeaders:q.httpHeaders,withCredentials:q.withCredentials,rangeChunkSize:q.rangeChunkSize,disableRange:q.disableRange,disableStream:q.disableStream})),be(_e)});return Promise.all([X,ue]).then(function([be,_e]){if(V.destroyed)throw new Error("Loading aborted");const Pe=new _message_handler.MessageHandler(W,be,Z.port),ce=new WorkerTransport(Pe,V,_e,q);V._transport=ce,Pe.send("Ready",null)})}).catch(V._capability.reject),V}async function _fetchDocument(U,V,q,Q){if(U.destroyed)throw new Error("Worker was destroyed");q&&(V.length=q.length,V.initialData=q.initialData,V.progressiveDone=q.progressiveDone,V.contentDispositionFilename=q.contentDispositionFilename);const Z=V.data?[V.data.buffer]:null,W=await U.messageHandler.sendWithPromise("GetDocRequest",{docId:Q,apiVersion:"3.3.122",data:V.data,password:V.password,disableAutoFetch:V.disableAutoFetch,rangeChunkSize:V.rangeChunkSize,length:V.length,docBaseUrl:V.docBaseUrl,enableXfa:V.enableXfa,evaluatorOptions:{maxImageSize:V.maxImageSize,disableFontFace:V.disableFontFace,ignoreErrors:V.ignoreErrors,isEvalSupported:V.isEvalSupported,isOffscreenCanvasSupported:V.isOffscreenCanvasSupported,fontExtraProperties:V.fontExtraProperties,useSystemFonts:V.useSystemFonts,cMapUrl:V.useWorkerFetch?V.cMapUrl:null,standardFontDataUrl:V.useWorkerFetch?V.standardFontDataUrl:null}},Z);if(U.destroyed)throw new Error("Worker was destroyed");return W}const H=class{constructor(){at(this,$,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Mr(H,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return me(this,$)}set onUnsupportedFeature(V){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),St(this,$,V)}get promise(){return this._capability.promise}async destroy(){var V;this.destroyed=!0,await((V=this._transport)==null?void 0:V.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=H;A=new WeakMap,$=new WeakMap,at(PDFDocumentLoadingTask,A,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(V,q,Q=!1,Z=null){this.length=V,this.initialData=q,this.progressiveDone=Q,this.contentDispositionFilename=Z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(V){this._rangeListeners.push(V)}addProgressListener(V){this._progressListeners.push(V)}addProgressiveReadListener(V){this._progressiveReadListeners.push(V)}addProgressiveDoneListener(V){this._progressiveDoneListeners.push(V)}onDataRange(V,q){for(const Q of this._rangeListeners)Q(V,q)}onDataProgress(V,q){this._readyCapability.promise.then(()=>{for(const Q of this._progressListeners)Q(V,q)})}onDataProgressiveRead(V){this._readyCapability.promise.then(()=>{for(const q of this._progressiveReadListeners)q(V)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const V of this._progressiveDoneListeners)V()})}transportReady(){this._readyCapability.resolve()}requestDataRange(V,q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(V,q){this._pdfInfo=V,this._transport=q}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(V){return this._transport.getPage(V)}getPageIndex(V){return this._transport.getPageIndex(V)}getDestinations(){return this._transport.getDestinations()}getDestination(V){return this._transport.getDestination(V)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(V=!1){return this._transport.startCleanup(V||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(V,q,Q,Z,W=!1){this._pageIndex=V,this._pageInfo=q,this._ownerDocument=Z,this._transport=Q,this._stats=W?new _display_utils.StatTimer:null,this._pdfBug=W,this.commonObjs=Q.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:V,rotation:q=this.rotate,offsetX:Q=0,offsetY:Z=0,dontFlip:W=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:V,rotation:q,offsetX:Q,offsetY:Z,dontFlip:W})}getAnnotations({intent:V="display"}={}){const q=this._transport.getRenderingIntent(V);return this._transport.getAnnotations(this._pageIndex,q.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var V;return((V=this._transport._htmlForXfa)==null?void 0:V.children[this._pageIndex])||null}render({canvasContext:V,viewport:q,intent:Q="display",annotationMode:Z=_util.AnnotationMode.ENABLE,transform:W=null,canvasFactory:X=null,background:ue=null,optionalContentConfigPromise:be=null,annotationCanvasMap:_e=null,pageColors:Pe=null,printAnnotationStorage:ce=null}){var et,Ze;(et=this._stats)==null||et.time("Overall");const $e=this._transport.getRenderingIntent(Q,Z,ce);this.pendingCleanup=!1,be||(be=this._transport.getOptionalContentConfig());let Xe=this._intentStates.get($e.cacheKey);Xe||(Xe=Object.create(null),this._intentStates.set($e.cacheKey,Xe)),Xe.streamReaderCancelTimeout&&(clearTimeout(Xe.streamReaderCancelTimeout),Xe.streamReaderCancelTimeout=null);const De=X||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Ge=!!($e.renderingIntent&_util.RenderingIntentFlag.PRINT);Xe.displayReadyCapability||(Xe.displayReadyCapability=(0,_util.createPromiseCapability)(),Xe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ze=this._stats)==null||Ze.time("Page Request"),this._pumpOperatorList($e));const Ie=ye=>{var ae,ne;Xe.renderTasks.delete(Me),(this.cleanupAfterRender||Ge)&&(this.pendingCleanup=!0),this._tryCleanup(),ye?(Me.capability.reject(ye),this._abortOperatorList({intentState:Xe,reason:ye instanceof Error?ye:new Error(ye)})):Me.capability.resolve(),(ae=this._stats)==null||ae.timeEnd("Rendering"),(ne=this._stats)==null||ne.timeEnd("Overall")},Me=new InternalRenderTask({callback:Ie,params:{canvasContext:V,viewport:q,transform:W,background:ue},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:_e,operatorList:Xe.operatorList,pageIndex:this._pageIndex,canvasFactory:De,useRequestAnimationFrame:!Ge,pdfBug:this._pdfBug,pageColors:Pe});(Xe.renderTasks||(Xe.renderTasks=new Set)).add(Me);const Te=Me.task;return Promise.all([Xe.displayReadyCapability.promise,be]).then(([ye,ae])=>{var ne;if(this.pendingCleanup){Ie();return}(ne=this._stats)==null||ne.time("Rendering"),Me.initializeGraphics({transparency:ye,optionalContentConfig:ae}),Me.operatorListChanged()}).catch(Ie),Te}getOperatorList({intent:V="display",annotationMode:q=_util.AnnotationMode.ENABLE,printAnnotationStorage:Q=null}={}){var be;function Z(){X.operatorList.lastChunk&&(X.opListReadCapability.resolve(X.operatorList),X.renderTasks.delete(ue))}const W=this._transport.getRenderingIntent(V,q,Q,!0);let X=this._intentStates.get(W.cacheKey);X||(X=Object.create(null),this._intentStates.set(W.cacheKey,X));let ue;return X.opListReadCapability||(ue=Object.create(null),ue.operatorListChanged=Z,X.opListReadCapability=(0,_util.createPromiseCapability)(),(X.renderTasks||(X.renderTasks=new Set)).add(ue),X.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(be=this._stats)==null||be.time("Page Request"),this._pumpOperatorList(W)),X.opListReadCapability.promise}streamTextContent({disableCombineTextItems:V=!1,includeMarkedContent:q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:V!==!0,includeMarkedContent:q===!0},{highWaterMark:100,size(Z){return Z.items.length}})}getTextContent(V={}){if(this._transport._htmlForXfa)return this.getXfa().then(Q=>_xfa_text.XfaText.textContent(Q));const q=this.streamTextContent(V);return new Promise(function(Q,Z){function W(){X.read().then(function({value:be,done:_e}){if(_e){Q(ue);return}Object.assign(ue.styles,be.styles),ue.items.push(...be.items),W()},Z)}const X=q.getReader(),ue={items:[],styles:Object.create(null)};W()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const V=[];for(const q of this._intentStates.values())if(this._abortOperatorList({intentState:q,reason:new Error("Page was destroyed."),force:!0}),!q.opListReadCapability)for(const Q of q.renderTasks)V.push(Q.completed),Q.cancel();this.objs.clear();for(const q of this._bitmaps)q.close();return this._bitmaps.clear(),this.pendingCleanup=!1,Promise.all(V)}cleanup(V=!1){return this.pendingCleanup=!0,this._tryCleanup(V)}_tryCleanup(V=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:q,operatorList:Q}of this._intentStates.values())if(q.size>0||!Q.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),V&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const q of this._bitmaps)q.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(V,q){var Z,W;const Q=this._intentStates.get(q);Q&&((Z=this._stats)==null||Z.timeEnd("Page Request"),(W=Q.displayReadyCapability)==null||W.resolve(V))}_renderPageChunk(V,q){for(let Q=0,Z=V.length;Q<Z;Q++)q.operatorList.fnArray.push(V.fnArray[Q]),q.operatorList.argsArray.push(V.argsArray[Q]);q.operatorList.lastChunk=V.lastChunk,q.operatorList.separateAnnots=V.separateAnnots;for(const Q of q.renderTasks)Q.operatorListChanged();V.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:V,cacheKey:q,annotationStorageMap:Q}){const W=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:V,cacheKey:q,annotationStorage:Q}).getReader(),X=this._intentStates.get(q);X.streamReader=W;const ue=()=>{W.read().then(({value:be,done:_e})=>{if(_e){X.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(be,X),ue())},be=>{if(X.streamReader=null,!this._transport.destroyed){if(X.operatorList){X.operatorList.lastChunk=!0;for(const _e of X.renderTasks)_e.operatorListChanged();this._tryCleanup()}if(X.displayReadyCapability)X.displayReadyCapability.reject(be);else if(X.opListReadCapability)X.opListReadCapability.reject(be);else throw be}})};ue()}_abortOperatorList({intentState:V,reason:q,force:Q=!1}){if(V.streamReader){if(V.streamReaderCancelTimeout&&(clearTimeout(V.streamReaderCancelTimeout),V.streamReaderCancelTimeout=null),!Q){if(V.renderTasks.size>0)return;if(q instanceof _display_utils.RenderingCancelledException){let Z=RENDERING_CANCELLED_TIMEOUT;q.extraDelay>0&&q.extraDelay<1e3&&(Z+=q.extraDelay),V.streamReaderCancelTimeout=setTimeout(()=>{V.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:V,reason:q,force:!0})},Z);return}}if(V.streamReader.cancel(new _util.AbortException(q.message)).catch(()=>{}),V.streamReader=null,!this._transport.destroyed){for(const[Z,W]of this._intentStates)if(W===V){this._intentStates.delete(Z);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){at(this,O,[]);at(this,R,Promise.resolve())}postMessage(V,q){const Q={data:structuredClone(V,q)};me(this,R).then(()=>{for(const Z of me(this,O))Z.call(this,Q)})}addEventListener(V,q){me(this,O).push(q)}removeEventListener(V,q){const Q=me(this,O).indexOf(q);me(this,O).splice(Q,1)}terminate(){me(this,O).length=0}}O=new WeakMap,R=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const U=(B=document==null?void 0:document.currentScript)==null?void 0:B.src;U&&(PDFWorkerUtil.fallbackWorkerSrc=U.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(U,V){let q;try{if(q=new URL(U),!q.origin||q.origin==="null")return!1}catch{return!1}const Q=new URL(V,q);return q.origin===Q.origin},PDFWorkerUtil.createCDNWrapper=function(U){const V=`importScripts("${U}");`;return URL.createObjectURL(new Blob([V]))}}const _PDFWorker=class{constructor({name:U=null,port:V=null,verbosity:q=(0,_util.getVerbosityLevel)()}={}){if(V&&me(_PDFWorker,ie).has(V))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=U,this.destroyed=!1,this.verbosity=q,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,V){me(_PDFWorker,ie).set(V,this),this._initializeFromPort(V);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(U){this._port=U,this._messageHandler=new _message_handler.MessageHandler("main","worker",U),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:U}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,U)||(U=PDFWorkerUtil.createCDNWrapper(new URL(U,window.location).href));const V=new Worker(U),q=new _message_handler.MessageHandler("main","worker",V),Q=()=>{V.removeEventListener("error",Z),q.destroy(),V.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Z=()=>{this._webWorker||Q()};V.addEventListener("error",Z),q.on("test",X=>{if(V.removeEventListener("error",Z),this.destroyed){Q();return}X?(this._messageHandler=q,this._port=V,this._webWorker=V,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),q.destroy(),V.terminate())}),q.on("ready",X=>{if(V.removeEventListener("error",Z),this.destroyed){Q();return}try{W()}catch{this._setupFakeWorker()}});const W=()=>{const X=new Uint8Array;q.send("test",X,[X.buffer])};W();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(U=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const V=new LoopbackPort;this._port=V;const q=`fake${PDFWorkerUtil.fakeWorkerId++}`,Q=new _message_handler.MessageHandler(q+"_worker",q,V);U.setup(Q,V);const Z=new _message_handler.MessageHandler(q,q+"_worker",V);this._messageHandler=Z,this._readyCapability.resolve(),Z.send("configure",{verbosity:this.verbosity})}).catch(U=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${U.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),me(_PDFWorker,ie).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(U){if(!(U!=null&&U.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return me(this,ie).has(U.port)?me(this,ie).get(U.port):new _PDFWorker(U)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var U;try{return((U=globalThis.pdfjsWorker)==null?void 0:U.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ie=new WeakMap,at(PDFWorker,ie,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(V,q,Q,Z){at(this,se,new Map);at(this,he,new Map);at(this,re,null);this.messageHandler=V,this.loadingTask=q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Z.ownerDocument,styleElement:Z.styleElement}),this._params=Z,Z.useWorkerFetch||(this.CMapReaderFactory=new Z.CMapReaderFactory({baseUrl:Z.cMapUrl,isCompressed:Z.cMapPacked}),this.StandardFontDataFactory=new Z.StandardFontDataFactory({baseUrl:Z.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=Q,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(V,q=_util.AnnotationMode.ENABLE,Q=null,Z=!1){let W=_util.RenderingIntentFlag.DISPLAY,X=null;switch(V){case"any":W=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":W=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${V}`)}switch(q){case _util.AnnotationMode.DISABLE:W+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:W+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:W+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,X=(W&_util.RenderingIntentFlag.PRINT&&Q instanceof _annotation_storage.PrintAnnotationStorage?Q:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${q}`)}return Z&&(W+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:W,cacheKey:`${W}_${_annotation_storage.AnnotationStorage.getHash(X)}`,annotationStorageMap:X}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const V=[];for(const Q of me(this,se).values())V.push(Q._destroy());me(this,se).clear(),me(this,he).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return V.push(q),Promise.all(V).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),St(this,re,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:V,loadingTask:q}=this;V.on("GetReader",(Q,Z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=W=>{this._lastProgress={loaded:W.loaded,total:W.total}},Z.onPull=()=>{this._fullReader.read().then(function({value:W,done:X}){if(X){Z.close();return}(0,_util.assert)(W instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(W),1,[W])}).catch(W=>{Z.error(W)})},Z.onCancel=W=>{this._fullReader.cancel(W),Z.ready.catch(X=>{if(!this.destroyed)throw X})}}),V.on("ReaderHeadersReady",Q=>{const Z=(0,_util.createPromiseCapability)(),W=this._fullReader;return W.headersReady.then(()=>{var X;(!W.isStreamingSupported||!W.isRangeSupported)&&(this._lastProgress&&((X=q.onProgress)==null||X.call(q,this._lastProgress)),W.onProgress=ue=>{var be;(be=q.onProgress)==null||be.call(q,{loaded:ue.loaded,total:ue.total})}),Z.resolve({isStreamingSupported:W.isStreamingSupported,isRangeSupported:W.isRangeSupported,contentLength:W.contentLength})},Z.reject),Z.promise}),V.on("GetRangeReader",(Q,Z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const W=this._networkStream.getRangeReader(Q.begin,Q.end);if(!W){Z.close();return}Z.onPull=()=>{W.read().then(function({value:X,done:ue}){if(ue){Z.close();return}(0,_util.assert)(X instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(X),1,[X])}).catch(X=>{Z.error(X)})},Z.onCancel=X=>{W.cancel(X),Z.ready.catch(ue=>{if(!this.destroyed)throw ue})}}),V.on("GetDoc",({pdfInfo:Q})=>{this._numPages=Q.numPages,this._htmlForXfa=Q.htmlForXfa,delete Q.htmlForXfa,q._capability.resolve(new PDFDocumentProxy(Q,this))}),V.on("DocException",function(Q){let Z;switch(Q.name){case"PasswordException":Z=new _util.PasswordException(Q.message,Q.code);break;case"InvalidPDFException":Z=new _util.InvalidPDFException(Q.message);break;case"MissingPDFException":Z=new _util.MissingPDFException(Q.message);break;case"UnexpectedResponseException":Z=new _util.UnexpectedResponseException(Q.message,Q.status);break;case"UnknownErrorException":Z=new _util.UnknownErrorException(Q.message,Q.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}q._capability.reject(Z)}),V.on("PasswordRequest",Q=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),q.onPassword){const Z=W=>{W instanceof Error?this._passwordCapability.reject(W):this._passwordCapability.resolve({password:W})};try{q.onPassword(Z,Q.code)}catch(W){this._passwordCapability.reject(W)}}else this._passwordCapability.reject(new _util.PasswordException(Q.message,Q.code));return this._passwordCapability.promise}),V.on("DataLoaded",Q=>{var Z;(Z=q.onProgress)==null||Z.call(q,{loaded:Q.length,total:Q.length}),this.downloadInfoCapability.resolve(Q)}),V.on("StartRenderPage",Q=>{if(this.destroyed)return;me(this,se).get(Q.pageIndex)._startRenderPage(Q.transparency,Q.cacheKey)}),V.on("commonobj",([Q,Z,W])=>{var X;if(!this.destroyed&&!this.commonObjs.has(Q))switch(Z){case"Font":const ue=this._params;if("error"in W){const Pe=W.error;(0,_util.warn)(`Error during font loading: ${Pe}`),this.commonObjs.resolve(Q,Pe);break}let be=null;ue.pdfBug&&((X=globalThis.FontInspector)!=null&&X.enabled)&&(be={registerFont(Pe,ce){globalThis.FontInspector.fontAdded(Pe,ce)}});const _e=new _font_loader.FontFaceObject(W,{isEvalSupported:ue.isEvalSupported,disableFontFace:ue.disableFontFace,ignoreErrors:ue.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:be});this.fontLoader.bind(_e).catch(Pe=>V.sendWithPromise("FontFallback",{id:Q})).finally(()=>{!ue.fontExtraProperties&&_e.data&&(_e.data=null),this.commonObjs.resolve(Q,_e)});break;case"FontPath":case"Image":this.commonObjs.resolve(Q,W);break;default:throw new Error(`Got unknown common object type ${Z}`)}}),V.on("obj",([Q,Z,W,X])=>{var be;if(this.destroyed)return;const ue=me(this,se).get(Z);if(!ue.objs.has(Q))switch(W){case"Image":ue.objs.resolve(Q,X);const _e=8e6;if(X){let Pe;if(X.bitmap){const{bitmap:ce,width:$e,height:Xe}=X;Pe=$e*Xe*4,ue._bitmaps.add(ce)}else Pe=((be=X.data)==null?void 0:be.length)||0;Pe>_e&&(ue.cleanupAfterRender=!0)}break;case"Pattern":ue.objs.resolve(Q,X);break;default:throw new Error(`Got unknown object type ${W}`)}}),V.on("DocProgress",Q=>{var Z;this.destroyed||(Z=q.onProgress)==null||Z.call(q,{loaded:Q.loaded,total:Q.total})}),V.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),V.on("FetchBuiltInCMap",Q=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(Q):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),V.on("FetchStandardFontData",Q=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(Q):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:V}){var q,Q;this.destroyed||(Q=(q=this.loadingTask).onUnsupportedFeature)==null||Q.call(q,V)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var V;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((V=this._fullReader)==null?void 0:V.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(V){if(!Number.isInteger(V)||V<=0||V>this._numPages)return Promise.reject(new Error("Invalid page request."));const q=V-1,Q=me(this,he).get(q);if(Q)return Q;const Z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:q}).then(W=>{if(this.destroyed)throw new Error("Transport destroyed");const X=new PDFPageProxy(q,W,this,this._params.ownerDocument,this._params.pdfBug);return me(this,se).set(q,X),X});return me(this,he).set(q,Z),Z}getPageIndex(V){return typeof V!="object"||V===null||!Number.isInteger(V.num)||V.num<0||!Number.isInteger(V.gen)||V.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:V.num,gen:V.gen})}getAnnotations(V,q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:V,intent:q})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(V){return typeof V!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:V})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(V){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:V})}getStructTree(V){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:V})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(V=>new _optional_content_config.OptionalContentConfig(V))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return me(this,re)||St(this,re,this.messageHandler.sendWithPromise("GetMetadata",null).then(V=>{var q,Q;return{info:V[0],metadata:V[1]?new _metadata.Metadata(V[1]):null,contentDispositionFilename:((q=this._fullReader)==null?void 0:q.filename)??null,contentLength:((Q=this._fullReader)==null?void 0:Q.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(V=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const q of me(this,se).values())if(!q.cleanup())throw new Error(`startCleanup: Page ${q.pageNumber} is currently rendering.`);this.commonObjs.clear(),V||this.fontLoader.clear(),St(this,re,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const V=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:V.disableAutoFetch,enableXfa:V.enableXfa})}}se=new WeakMap,he=new WeakMap,re=new WeakMap;class PDFObjects{constructor(){at(this,pe);at(this,te,Object.create(null))}get(V,q=null){if(q){const Z=ft(this,pe,Rr).call(this,V);return Z.capability.promise.then(()=>q(Z.data)),null}const Q=me(this,te)[V];if(!(Q!=null&&Q.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${V}.`);return Q.data}has(V){const q=me(this,te)[V];return(q==null?void 0:q.capability.settled)||!1}resolve(V,q=null){const Q=ft(this,pe,Rr).call(this,V);Q.data=q,Q.capability.resolve()}clear(){St(this,te,Object.create(null))}}te=new WeakMap,pe=new WeakSet,Rr=function(V){const q=me(this,te)[V];return q||(me(this,te)[V]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(V){at(this,K,null);St(this,K,V),this.onContinue=null}get promise(){return me(this,K).capability.promise}cancel(V=0){me(this,K).cancel(null,V)}get separateAnnots(){const{separateAnnots:V}=me(this,K).operatorList;if(!V)return!1;const{annotationCanvasMap:q}=me(this,K);return V.form||V.canvas&&(q==null?void 0:q.size)>0}}K=new WeakMap,exports.RenderTask=RenderTask;const G=class{constructor({callback:V,params:q,objs:Q,commonObjs:Z,annotationCanvasMap:W,operatorList:X,pageIndex:ue,canvasFactory:be,useRequestAnimationFrame:_e=!1,pdfBug:Pe=!1,pageColors:ce=null}){this.callback=V,this.params=q,this.objs=Q,this.commonObjs=Z,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=X,this._pageIndex=ue,this.canvasFactory=be,this._pdfBug=Pe,this.pageColors=ce,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=_e===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:V=!1,optionalContentConfig:q}){var ue,be;if(this.cancelled)return;if(this._canvas){if(me(G,Y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");me(G,Y).add(this._canvas)}this._pdfBug&&((ue=globalThis.StepperManager)!=null&&ue.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Q,viewport:Z,transform:W,background:X}=this.params;this.gfx=new _canvas.CanvasGraphics(Q,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:q},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:W,viewport:Z,transparency:V,background:X}),this.operatorListIdx=0,this.graphicsReady=!0,(be=this.graphicsReadyCallback)==null||be.call(this)}cancel(V=null,q=0){var Q;this.running=!1,this.cancelled=!0,(Q=this.gfx)==null||Q.endDrawing(),this._canvas&&me(G,Y).delete(this._canvas),this.callback(V||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",q))}operatorListChanged(){var V;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(V=this.stepper)==null||V.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&me(G,Y).delete(this._canvas),this.callback())))}};let InternalRenderTask=G;Y=new WeakMap,at(InternalRenderTask,Y,new WeakSet);const version="3.3.122";exports.version=version;const build="562045607";exports.build=build},(A,$,H)=>{var he,re,te,ui,J;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var O=H(1),R=H(4),B=H(8);class ie{constructor(){at(this,te);at(this,he,!1);at(this,re,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Y,G){const U=me(this,re).get(Y);return U===void 0?G:Object.assign(G,U)}getRawValue(Y){return me(this,re).get(Y)}remove(Y){if(me(this,re).delete(Y),me(this,re).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of me(this,re).values())if(G instanceof R.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Y,G){const U=me(this,re).get(Y);let V=!1;if(U!==void 0)for(const[q,Q]of Object.entries(G))U[q]!==Q&&(V=!0,U[q]=Q);else V=!0,me(this,re).set(Y,G);V&&ft(this,te,ui).call(this),G instanceof R.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(Y){return me(this,re).has(Y)}getAll(){return me(this,re).size>0?(0,O.objectFromMap)(me(this,re)):null}get size(){return me(this,re).size}resetModified(){me(this,he)&&(St(this,he,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new se(this)}get serializable(){if(me(this,re).size===0)return null;const Y=new Map;for(const[G,U]of me(this,re)){const V=U instanceof R.AnnotationEditor?U.serialize():U;V&&Y.set(G,V)}return Y}static getHash(Y){if(!Y)return"";const G=new B.MurmurHash3_64;for(const[U,V]of Y)G.update(`${U}:${JSON.stringify(V)}`);return G.hexdigest()}}he=new WeakMap,re=new WeakMap,te=new WeakSet,ui=function(){me(this,he)||(St(this,he,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=ie;class se extends ie{constructor(G){super();at(this,J,null);St(this,J,structuredClone(G.serializable))}get print(){(0,O.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return me(this,J)}}J=new WeakMap,$.PrintAnnotationStorage=se},(A,$,H)=>{var ie,se,he,re,te,pe;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var O=H(5),R=H(1);const J=class{constructor(Y){at(this,ie,this.focusin.bind(this));at(this,se,this.focusout.bind(this));at(this,he,!1);at(this,re,!1);at(this,te,!1);gn(this,"_uiManager",null);at(this,pe,J._zIndex++);this.constructor===J&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Y.parent,this.id=Y.id,this.width=this.height=null,this.pageIndex=Y.parent.pageIndex,this.name=Y.name,this.div=null,this._uiManager=Y.uiManager;const{rotation:G,rawDims:{pageWidth:U,pageHeight:V,pageX:q,pageY:Q}}=this.parent.viewport;this.rotation=G,this.pageDimensions=[U,V],this.pageTranslation=[q,Q];const[Z,W]=this.parentDimensions;this.x=Y.x/Z,this.y=Y.y/W,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(Y){this._uiManager.addCommands(Y)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=me(this,pe)}setParent(Y){Y!==null&&(this.pageIndex=Y.pageIndex,this.pageDimensions=Y.pageDimensions),this.parent=Y}focusin(Y){me(this,he)?St(this,he,!1):this.parent.setSelected(this)}focusout(Y){var U;if(!this.isAttachedToDOM)return;const G=Y.relatedTarget;G!=null&&G.closest(`#${this.id}`)||(Y.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(Y){const G=this.parent.div.getBoundingClientRect();this.startX=Y.clientX-G.x,this.startY=Y.clientY-G.y,Y.dataTransfer.setData("text/plain",this.id),Y.dataTransfer.effectAllowed="move"}setAt(Y,G,U,V){const[q,Q]=this.parentDimensions;[U,V]=this.screenToPageTranslation(U,V),this.x=(Y+U)/q,this.y=(G+V)/Q,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Y,G){const[U,V]=this.parentDimensions;[Y,G]=this.screenToPageTranslation(Y,G),this.x+=Y/U,this.y+=G/V,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Y,G){switch(this.parentRotation){case 90:return[G,-Y];case 180:return[-Y,-G];case 270:return[-G,Y];default:return[Y,G]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:Y}=this._uiManager.viewParameters,[G,U]=this.pageDimensions;return[G*Y,U*Y]}setDims(Y,G){const[U,V]=this.parentDimensions;this.div.style.width=`${100*Y/U}%`,this.div.style.height=`${100*G/V}%`}fixDims(){const{style:Y}=this.div,{height:G,width:U}=Y,V=U.endsWith("%"),q=G.endsWith("%");if(V&&q)return;const[Q,Z]=this.parentDimensions;V||(Y.width=`${100*parseFloat(U)/Q}%`),q||(Y.height=`${100*parseFloat(G)/Z}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",me(this,ie)),this.div.addEventListener("focusout",me(this,se));const[Y,G]=this.getInitialTranslation();return this.translate(Y,G),(0,O.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Y){const{isMac:G}=R.FeatureTest.platform;if(Y.button!==0||Y.ctrlKey&&G){Y.preventDefault();return}Y.ctrlKey&&!G||Y.shiftKey||Y.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this),St(this,he,!0)}getRect(Y,G){const U=this.parentScale,[V,q]=this.pageDimensions,[Q,Z]=this.pageTranslation,W=Y/U,X=G/U,ue=this.x*V,be=this.y*q,_e=this.width*V,Pe=this.height*q;switch(this.rotation){case 0:return[ue+W+Q,q-be-X-Pe+Z,ue+W+_e+Q,q-be-X+Z];case 90:return[ue+X+Q,q-be+W+Z,ue+X+Pe+Q,q-be+W+_e+Z];case 180:return[ue-W-_e+Q,q-be+X+Z,ue-W+Q,q-be+X+Pe+Z];case 270:return[ue-X-Pe+Q,q-be-W-_e+Z,ue-X+Q,q-be-W+Z];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Y,G){const[U,V,q,Q]=Y,Z=q-U,W=Q-V;switch(this.rotation){case 0:return[U,G-Q,Z,W];case 90:return[U,G-V,W,Z];case 180:return[q,G-V,Z,W];case 270:return[q,G-Q,W,Z];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){St(this,te,!0)}disableEditMode(){St(this,te,!1)}isInEditMode(){return me(this,te)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Y;(Y=this.div)==null||Y.addEventListener("focusin",me(this,ie))}serialize(){(0,R.unreachable)("An editor must be serializable")}static deserialize(Y,G,U){const V=new this.prototype.constructor({parent:G,id:G.getNextId(),uiManager:U});V.rotation=Y.rotation;const[q,Q]=V.pageDimensions,[Z,W,X,ue]=V.getRectInCurrentCoords(Y.rect,Q);return V.x=Z/q,V.y=W/Q,V.width=X/q,V.height=ue/Q,V}remove(){this.div.removeEventListener("focusin",me(this,ie)),this.div.removeEventListener("focusout",me(this,se)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Y;(Y=this.div)==null||Y.classList.add("selectedEditor")}unselect(){var Y;(Y=this.div)==null||Y.classList.remove("selectedEditor")}updateParams(Y,G){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return me(this,re)}set isEditing(Y){St(this,re,Y),Y?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let B=J;ie=new WeakMap,se=new WeakMap,he=new WeakMap,re=new WeakMap,te=new WeakMap,pe=new WeakMap,gn(B,"_colorManager",new O.ColorManager),gn(B,"_zIndex",1),$.AnnotationEditor=B},(A,$,H)=>{var J,K,Y,G,U,V,di,Z,W,X,ue,be,_e,Pe,ce,$e,Xe,De,Ge,Ie,Me,Te,et,Ze,ye,ae,ne,fe,Se,Ee,ke,hi,He,Fr,Je,fi,ze,pi,le,Ln,Ae,fr,we,mi,st,gi,Ue,Or,lt,pr,Ct,Ir;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=ie;var O=H(1),R=H(6);function B(jt,nt,bt){for(const Ke of bt)nt.addEventListener(Ke,jt[Ke].bind(jt))}function ie(jt){return Math.round(Math.min(255,Math.max(1,255*jt))).toString(16).padStart(2,"0")}class se{constructor(){at(this,J,0)}getId(){return`${O.AnnotationEditorPrefix}${Mr(this,J)._++}`}}J=new WeakMap;class he{constructor(nt=128){at(this,K,[]);at(this,Y,!1);at(this,G,void 0);at(this,U,-1);St(this,G,nt)}add({cmd:nt,undo:bt,mustExec:Ke,type:Le=NaN,overwriteIfSameType:Ve=!1,keepUndo:wt=!1}){if(Ke&&nt(),me(this,Y))return;const Be={cmd:nt,undo:bt,type:Le};if(me(this,U)===-1){me(this,K).length>0&&(me(this,K).length=0),St(this,U,0),me(this,K).push(Be);return}if(Ve&&me(this,K)[me(this,U)].type===Le){wt&&(Be.undo=me(this,K)[me(this,U)].undo),me(this,K)[me(this,U)]=Be;return}const ct=me(this,U)+1;ct===me(this,G)?me(this,K).splice(0,1):(St(this,U,ct),ct<me(this,K).length&&me(this,K).splice(ct)),me(this,K).push(Be)}undo(){me(this,U)!==-1&&(St(this,Y,!0),me(this,K)[me(this,U)].undo(),St(this,Y,!1),St(this,U,me(this,U)-1))}redo(){me(this,U)<me(this,K).length-1&&(St(this,U,me(this,U)+1),St(this,Y,!0),me(this,K)[me(this,U)].cmd(),St(this,Y,!1))}hasSomethingToUndo(){return me(this,U)!==-1}hasSomethingToRedo(){return me(this,U)<me(this,K).length-1}destroy(){St(this,K,null)}}K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,$.CommandManager=he;class re{constructor(nt){at(this,V);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:bt}=O.FeatureTest.platform;for(const[Ke,Le]of nt)for(const Ve of Ke){const wt=Ve.startsWith("mac+");bt&&wt?(this.callbacks.set(Ve.slice(4),Le),this.allKeys.add(Ve.split("+").at(-1))):!bt&&!wt&&(this.callbacks.set(Ve,Le),this.allKeys.add(Ve.split("+").at(-1)))}}exec(nt,bt){if(!this.allKeys.has(bt.key))return;const Ke=this.callbacks.get(ft(this,V,di).call(this,bt));Ke&&(Ke.bind(nt)(),bt.stopPropagation(),bt.preventDefault())}}V=new WeakSet,di=function(nt){nt.altKey&&this.buffer.push("alt"),nt.ctrlKey&&this.buffer.push("ctrl"),nt.metaKey&&this.buffer.push("meta"),nt.shiftKey&&this.buffer.push("shift"),this.buffer.push(nt.key);const bt=this.buffer.join("+");return this.buffer.length=0,bt},$.KeyboardManager=re;const Q=class{get _colors(){const nt=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(nt),(0,O.shadow)(this,"_colors",nt)}convert(nt){const bt=(0,R.getRGB)(nt);if(!window.matchMedia("(forced-colors: active)").matches)return bt;for(const[Ke,Le]of this._colors)if(Le.every((Ve,wt)=>Ve===bt[wt]))return Q._colorsMapping.get(Ke);return bt}getHexCode(nt){const bt=this._colors.get(nt);return bt?O.Util.makeHexColor(...bt):nt}};let te=Q;gn(te,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),$.ColorManager=te;const $t=class{constructor(nt,bt,Ke){at(this,ke);at(this,He);at(this,Je);at(this,ze);at(this,le);at(this,Ae);at(this,we);at(this,st);at(this,Ue);at(this,lt);at(this,Ct);at(this,Z,null);at(this,W,new Map);at(this,X,new Map);at(this,ue,null);at(this,be,new he);at(this,_e,0);at(this,Pe,null);at(this,ce,new Set);at(this,$e,null);at(this,Xe,new se);at(this,De,!1);at(this,Ge,O.AnnotationEditorType.NONE);at(this,Ie,new Set);at(this,Me,this.copy.bind(this));at(this,Te,this.cut.bind(this));at(this,et,this.paste.bind(this));at(this,Ze,this.keydown.bind(this));at(this,ye,this.onEditingAction.bind(this));at(this,ae,this.onPageChanging.bind(this));at(this,ne,this.onScaleChanging.bind(this));at(this,fe,this.onRotationChanging.bind(this));at(this,Se,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});at(this,Ee,null);St(this,Ee,nt),St(this,$e,bt),me(this,$e)._on("editingaction",me(this,ye)),me(this,$e)._on("pagechanging",me(this,ae)),me(this,$e)._on("scalechanging",me(this,ne)),me(this,$e)._on("rotationchanging",me(this,fe)),St(this,ue,Ke),this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ft(this,He,Fr).call(this),me(this,$e)._off("editingaction",me(this,ye)),me(this,$e)._off("pagechanging",me(this,ae)),me(this,$e)._off("scalechanging",me(this,ne)),me(this,$e)._off("rotationchanging",me(this,fe));for(const nt of me(this,X).values())nt.destroy();me(this,X).clear(),me(this,W).clear(),me(this,ce).clear(),St(this,Z,null),me(this,Ie).clear(),me(this,be).destroy()}onPageChanging({pageNumber:nt}){St(this,_e,nt-1)}focusMainContainer(){me(this,Ee).focus()}addShouldRescale(nt){me(this,ce).add(nt)}removeShouldRescale(nt){me(this,ce).delete(nt)}onScaleChanging({scale:nt}){this.commitOrRemove(),this.viewParameters.realScale=nt*R.PixelsPerInch.PDF_TO_CSS_UNITS;for(const bt of me(this,ce))bt.onScaleChanging()}onRotationChanging({pagesRotation:nt}){this.commitOrRemove(),this.viewParameters.rotation=nt}addToAnnotationStorage(nt){!nt.isEmpty()&&me(this,ue)&&!me(this,ue).has(nt.id)&&me(this,ue).setValue(nt.id,nt)}copy(nt){if(nt.preventDefault(),me(this,Z)&&me(this,Z).commitOrRemove(),!this.hasSelection)return;const bt=[];for(const Ke of me(this,Ie))Ke.isEmpty()||bt.push(Ke.serialize());bt.length!==0&&nt.clipboardData.setData("application/pdfjs",JSON.stringify(bt))}cut(nt){this.copy(nt),this.delete()}paste(nt){nt.preventDefault();let bt=nt.clipboardData.getData("application/pdfjs");if(!bt)return;try{bt=JSON.parse(bt)}catch(Le){(0,O.warn)(`paste: "${Le.message}".`);return}if(!Array.isArray(bt))return;this.unselectAll();const Ke=me(this,X).get(me(this,_e));try{const Le=[];for(const Be of bt){const ct=Ke.deserialize(Be);if(!ct)return;Le.push(ct)}const Ve=()=>{for(const Be of Le)ft(this,Ue,Or).call(this,Be);ft(this,Ct,Ir).call(this,Le)},wt=()=>{for(const Be of Le)Be.remove()};this.addCommands({cmd:Ve,undo:wt,mustExec:!0})}catch(Le){(0,O.warn)(`paste: "${Le.message}".`)}}keydown(nt){var bt;(bt=this.getActive())!=null&&bt.shouldGetKeyboardEvents()||$t._keyboardManager.exec(this,nt)}onEditingAction(nt){["undo","redo","delete","selectAll"].includes(nt.name)&&this[nt.name]()}setEditingState(nt){nt?(ft(this,ke,hi).call(this),ft(this,Je,fi).call(this),ft(this,le,Ln).call(this,{isEditing:me(this,Ge)!==O.AnnotationEditorType.NONE,isEmpty:ft(this,lt,pr).call(this),hasSomethingToUndo:me(this,be).hasSomethingToUndo(),hasSomethingToRedo:me(this,be).hasSomethingToRedo(),hasSelectedEditor:!1})):(ft(this,He,Fr).call(this),ft(this,ze,pi).call(this),ft(this,le,Ln).call(this,{isEditing:!1}))}registerEditorTypes(nt){if(!me(this,Pe)){St(this,Pe,nt);for(const bt of me(this,Pe))ft(this,Ae,fr).call(this,bt.defaultPropertiesToUpdate)}}getId(){return me(this,Xe).getId()}get currentLayer(){return me(this,X).get(me(this,_e))}get currentPageIndex(){return me(this,_e)}addLayer(nt){me(this,X).set(nt.pageIndex,nt),me(this,De)?nt.enable():nt.disable()}removeLayer(nt){me(this,X).delete(nt.pageIndex)}updateMode(nt){if(St(this,Ge,nt),nt===O.AnnotationEditorType.NONE)this.setEditingState(!1),ft(this,st,gi).call(this);else{this.setEditingState(!0),ft(this,we,mi).call(this);for(const bt of me(this,X).values())bt.updateMode(nt)}}updateToolbar(nt){nt!==me(this,Ge)&&me(this,$e).dispatch("switchannotationeditormode",{source:this,mode:nt})}updateParams(nt,bt){if(me(this,Pe)){for(const Ke of me(this,Ie))Ke.updateParams(nt,bt);for(const Ke of me(this,Pe))Ke.updateDefaultParams(nt,bt)}}getEditors(nt){const bt=[];for(const Ke of me(this,W).values())Ke.pageIndex===nt&&bt.push(Ke);return bt}getEditor(nt){return me(this,W).get(nt)}addEditor(nt){me(this,W).set(nt.id,nt)}removeEditor(nt){var bt;me(this,W).delete(nt.id),this.unselect(nt),(bt=me(this,ue))==null||bt.remove(nt.id)}setActiveEditor(nt){me(this,Z)!==nt&&(St(this,Z,nt),nt&&ft(this,Ae,fr).call(this,nt.propertiesToUpdate))}toggleSelected(nt){if(me(this,Ie).has(nt)){me(this,Ie).delete(nt),nt.unselect(),ft(this,le,Ln).call(this,{hasSelectedEditor:this.hasSelection});return}me(this,Ie).add(nt),nt.select(),ft(this,Ae,fr).call(this,nt.propertiesToUpdate),ft(this,le,Ln).call(this,{hasSelectedEditor:!0})}setSelected(nt){for(const bt of me(this,Ie))bt!==nt&&bt.unselect();me(this,Ie).clear(),me(this,Ie).add(nt),nt.select(),ft(this,Ae,fr).call(this,nt.propertiesToUpdate),ft(this,le,Ln).call(this,{hasSelectedEditor:!0})}isSelected(nt){return me(this,Ie).has(nt)}unselect(nt){nt.unselect(),me(this,Ie).delete(nt),ft(this,le,Ln).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return me(this,Ie).size!==0}undo(){me(this,be).undo(),ft(this,le,Ln).call(this,{hasSomethingToUndo:me(this,be).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ft(this,lt,pr).call(this)})}redo(){me(this,be).redo(),ft(this,le,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:me(this,be).hasSomethingToRedo(),isEmpty:ft(this,lt,pr).call(this)})}addCommands(nt){me(this,be).add(nt),ft(this,le,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ft(this,lt,pr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const nt=[...me(this,Ie)],bt=()=>{for(const Le of nt)Le.remove()},Ke=()=>{for(const Le of nt)ft(this,Ue,Or).call(this,Le)};this.addCommands({cmd:bt,undo:Ke,mustExec:!0})}commitOrRemove(){var nt;(nt=me(this,Z))==null||nt.commitOrRemove()}selectAll(){for(const nt of me(this,Ie))nt.commit();ft(this,Ct,Ir).call(this,me(this,W).values())}unselectAll(){if(me(this,Z)){me(this,Z).commitOrRemove();return}if(me(this,Ie).size!==0){for(const nt of me(this,Ie))nt.unselect();me(this,Ie).clear(),ft(this,le,Ln).call(this,{hasSelectedEditor:!1})}}isActive(nt){return me(this,Z)===nt}getActive(){return me(this,Z)}getMode(){return me(this,Ge)}};let pe=$t;Z=new WeakMap,W=new WeakMap,X=new WeakMap,ue=new WeakMap,be=new WeakMap,_e=new WeakMap,Pe=new WeakMap,ce=new WeakMap,$e=new WeakMap,Xe=new WeakMap,De=new WeakMap,Ge=new WeakMap,Ie=new WeakMap,Me=new WeakMap,Te=new WeakMap,et=new WeakMap,Ze=new WeakMap,ye=new WeakMap,ae=new WeakMap,ne=new WeakMap,fe=new WeakMap,Se=new WeakMap,Ee=new WeakMap,ke=new WeakSet,hi=function(){me(this,Ee).addEventListener("keydown",me(this,Ze))},He=new WeakSet,Fr=function(){me(this,Ee).removeEventListener("keydown",me(this,Ze))},Je=new WeakSet,fi=function(){document.addEventListener("copy",me(this,Me)),document.addEventListener("cut",me(this,Te)),document.addEventListener("paste",me(this,et))},ze=new WeakSet,pi=function(){document.removeEventListener("copy",me(this,Me)),document.removeEventListener("cut",me(this,Te)),document.removeEventListener("paste",me(this,et))},le=new WeakSet,Ln=function(nt){Object.entries(nt).some(([Ke,Le])=>me(this,Se)[Ke]!==Le)&&me(this,$e).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(me(this,Se),nt)})},Ae=new WeakSet,fr=function(nt){me(this,$e).dispatch("annotationeditorparamschanged",{source:this,details:nt})},we=new WeakSet,mi=function(){if(!me(this,De)){St(this,De,!0);for(const nt of me(this,X).values())nt.enable()}},st=new WeakSet,gi=function(){if(this.unselectAll(),me(this,De)){St(this,De,!1);for(const nt of me(this,X).values())nt.disable()}},Ue=new WeakSet,Or=function(nt){const bt=me(this,X).get(nt.pageIndex);bt?bt.addOrRebuild(nt):this.addEditor(nt)},lt=new WeakSet,pr=function(){if(me(this,W).size===0)return!0;if(me(this,W).size===1)for(const nt of me(this,W).values())return nt.isEmpty();return!1},Ct=new WeakSet,Ir=function(nt){me(this,Ie).clear();for(const bt of nt)bt.isEmpty()||(me(this,Ie).add(bt),bt.select());ft(this,le,Ln).call(this,{hasSelectedEditor:!0})},gn(pe,"_keyboardManager",new re([[["ctrl+a","mac+meta+a"],$t.prototype.selectAll],[["ctrl+z","mac+meta+z"],$t.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],$t.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],$t.prototype.delete],[["Escape","mac+Escape"],$t.prototype.unselectAll]])),$.AnnotationEditorUIManager=pe},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=X,$.getColorValues=ce,$.getCurrentTransform=$e,$.getCurrentTransformInverse=Xe,$.getFilenameFromUrl=V,$.getPdfFilenameFromUrl=q,$.getRGB=Pe,$.getXfaPageViewport=_e,$.isDataScheme=G,$.isPdfFile=U,$.isValidFetchUrl=Z,$.loadScript=W,$.setLayerDimensions=De;var O=H(7),R=H(1);const B="http://www.w3.org/2000/svg",ie="pdfjs_internal_id_";$.AnnotationPrefix=ie;const Ge=class{};let se=Ge;gn(se,"CSS",96),gn(se,"PDF",72),gn(se,"PDF_TO_CSS_UNITS",Ge.CSS/Ge.PDF),$.PixelsPerInch=se;class he extends O.BaseCanvasFactory{constructor({ownerDocument:Me=globalThis.document}={}){super(),this._document=Me}_createCanvas(Me,Te){const et=this._document.createElement("canvas");return et.width=Me,et.height=Te,et}}$.DOMCanvasFactory=he;async function re(Ie,Me=!1){if(Z(Ie,document.baseURI)){const Te=await fetch(Ie);if(!Te.ok)throw new Error(Te.statusText);return Me?new Uint8Array(await Te.arrayBuffer()):(0,R.stringToBytes)(await Te.text())}return new Promise((Te,et)=>{const Ze=new XMLHttpRequest;Ze.open("GET",Ie,!0),Me&&(Ze.responseType="arraybuffer"),Ze.onreadystatechange=()=>{if(Ze.readyState===XMLHttpRequest.DONE){if(Ze.status===200||Ze.status===0){let ye;if(Me&&Ze.response?ye=new Uint8Array(Ze.response):!Me&&Ze.responseText&&(ye=(0,R.stringToBytes)(Ze.responseText)),ye){Te(ye);return}}et(new Error(Ze.statusText))}},Ze.send(null)})}class te extends O.BaseCMapReaderFactory{_fetchData(Me,Te){return re(Me,this.isCompressed).then(et=>({cMapData:et,compressionType:Te}))}}$.DOMCMapReaderFactory=te;class pe extends O.BaseStandardFontDataFactory{_fetchData(Me){return re(Me,!0)}}$.DOMStandardFontDataFactory=pe;class J extends O.BaseSVGFactory{_createSVG(Me){return document.createElementNS(B,Me)}}$.DOMSVGFactory=J;class K{constructor({viewBox:Me,scale:Te,rotation:et,offsetX:Ze=0,offsetY:ye=0,dontFlip:ae=!1}){this.viewBox=Me,this.scale=Te,this.rotation=et,this.offsetX=Ze,this.offsetY=ye;const ne=(Me[2]+Me[0])/2,fe=(Me[3]+Me[1])/2;let Se,Ee,ke,Fe;switch(et%=360,et<0&&(et+=360),et){case 180:Se=-1,Ee=0,ke=0,Fe=1;break;case 90:Se=0,Ee=1,ke=1,Fe=0;break;case 270:Se=0,Ee=-1,ke=-1,Fe=0;break;case 0:Se=1,Ee=0,ke=0,Fe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ae&&(ke=-ke,Fe=-Fe);let He,rt,Je,tt;Se===0?(He=Math.abs(fe-Me[1])*Te+Ze,rt=Math.abs(ne-Me[0])*Te+ye,Je=(Me[3]-Me[1])*Te,tt=(Me[2]-Me[0])*Te):(He=Math.abs(ne-Me[0])*Te+Ze,rt=Math.abs(fe-Me[1])*Te+ye,Je=(Me[2]-Me[0])*Te,tt=(Me[3]-Me[1])*Te),this.transform=[Se*Te,Ee*Te,ke*Te,Fe*Te,He-Se*Te*ne-ke*Te*fe,rt-Ee*Te*ne-Fe*Te*fe],this.width=Je,this.height=tt}get rawDims(){const{viewBox:Me}=this;return(0,R.shadow)(this,"rawDims",{pageWidth:Me[2]-Me[0],pageHeight:Me[3]-Me[1],pageX:Me[0],pageY:Me[1]})}clone({scale:Me=this.scale,rotation:Te=this.rotation,offsetX:et=this.offsetX,offsetY:Ze=this.offsetY,dontFlip:ye=!1}={}){return new K({viewBox:this.viewBox.slice(),scale:Me,rotation:Te,offsetX:et,offsetY:Ze,dontFlip:ye})}convertToViewportPoint(Me,Te){return R.Util.applyTransform([Me,Te],this.transform)}convertToViewportRectangle(Me){const Te=R.Util.applyTransform([Me[0],Me[1]],this.transform),et=R.Util.applyTransform([Me[2],Me[3]],this.transform);return[Te[0],Te[1],et[0],et[1]]}convertToPdfPoint(Me,Te){return R.Util.applyInverseTransform([Me,Te],this.transform)}}$.PageViewport=K;class Y extends R.BaseException{constructor(Me,Te,et=0){super(Me,"RenderingCancelledException"),this.type=Te,this.extraDelay=et}}$.RenderingCancelledException=Y;function G(Ie){const Me=Ie.length;let Te=0;for(;Te<Me&&Ie[Te].trim()==="";)Te++;return Ie.substring(Te,Te+5).toLowerCase()==="data:"}function U(Ie){return typeof Ie=="string"&&/\.pdf$/i.test(Ie)}function V(Ie,Me=!1){return Me||([Ie]=Ie.split(/[#?]/,1)),Ie.substring(Ie.lastIndexOf("/")+1)}function q(Ie,Me="document.pdf"){if(typeof Ie!="string")return Me;if(G(Ie))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),Me;const Te=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ze=Te.exec(Ie);let ye=et.exec(Ze[1])||et.exec(Ze[2])||et.exec(Ze[3]);if(ye&&(ye=ye[0],ye.includes("%")))try{ye=et.exec(decodeURIComponent(ye))[0]}catch{}return ye||Me}class Q{constructor(){gn(this,"started",Object.create(null));gn(this,"times",[])}time(Me){Me in this.started&&(0,R.warn)(`Timer is already running for ${Me}`),this.started[Me]=Date.now()}timeEnd(Me){Me in this.started||(0,R.warn)(`Timer has not been started for ${Me}`),this.times.push({name:Me,start:this.started[Me],end:Date.now()}),delete this.started[Me]}toString(){const Me=[];let Te=0;for(const{name:et}of this.times)Te=Math.max(et.length,Te);for(const{name:et,start:Ze,end:ye}of this.times)Me.push(`${et.padEnd(Te)} ${ye-Ze}ms
`);return Me.join("")}}$.StatTimer=Q;function Z(Ie,Me){try{const{protocol:Te}=Me?new URL(Ie,Me):new URL(Ie);return Te==="http:"||Te==="https:"}catch{return!1}}function W(Ie,Me=!1){return new Promise((Te,et)=>{const Ze=document.createElement("script");Ze.src=Ie,Ze.onload=function(ye){Me&&Ze.remove(),Te(ye)},Ze.onerror=function(){et(new Error(`Cannot load script at: ${Ze.src}`))},(document.head||document.documentElement).append(Ze)})}function X(Ie){console.log("Deprecated API usage: "+Ie)}let ue;class be{static toDateObject(Me){if(!Me||typeof Me!="string")return null;ue||(ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Te=ue.exec(Me);if(!Te)return null;const et=parseInt(Te[1],10);let Ze=parseInt(Te[2],10);Ze=Ze>=1&&Ze<=12?Ze-1:0;let ye=parseInt(Te[3],10);ye=ye>=1&&ye<=31?ye:1;let ae=parseInt(Te[4],10);ae=ae>=0&&ae<=23?ae:0;let ne=parseInt(Te[5],10);ne=ne>=0&&ne<=59?ne:0;let fe=parseInt(Te[6],10);fe=fe>=0&&fe<=59?fe:0;const Se=Te[7]||"Z";let Ee=parseInt(Te[8],10);Ee=Ee>=0&&Ee<=23?Ee:0;let ke=parseInt(Te[9],10)||0;return ke=ke>=0&&ke<=59?ke:0,Se==="-"?(ae+=Ee,ne+=ke):Se==="+"&&(ae-=Ee,ne-=ke),new Date(Date.UTC(et,Ze,ye,ae,ne,fe))}}$.PDFDateString=be;function _e(Ie,{scale:Me=1,rotation:Te=0}){const{width:et,height:Ze}=Ie.attributes.style,ye=[0,0,parseInt(et),parseInt(Ze)];return new K({viewBox:ye,scale:Me,rotation:Te})}function Pe(Ie){if(Ie.startsWith("#")){const Me=parseInt(Ie.slice(1),16);return[(Me&16711680)>>16,(Me&65280)>>8,Me&255]}return Ie.startsWith("rgb(")?Ie.slice(4,-1).split(",").map(Me=>parseInt(Me)):Ie.startsWith("rgba(")?Ie.slice(5,-1).split(",").map(Me=>parseInt(Me)).slice(0,3):((0,R.warn)(`Not a valid color format: "${Ie}"`),[0,0,0])}function ce(Ie){const Me=document.createElement("span");Me.style.visibility="hidden",document.body.append(Me);for(const Te of Ie.keys()){Me.style.color=Te;const et=window.getComputedStyle(Me).color;Ie.set(Te,Pe(et))}Me.remove()}function $e(Ie){const{a:Me,b:Te,c:et,d:Ze,e:ye,f:ae}=Ie.getTransform();return[Me,Te,et,Ze,ye,ae]}function Xe(Ie){const{a:Me,b:Te,c:et,d:Ze,e:ye,f:ae}=Ie.getTransform().invertSelf();return[Me,Te,et,Ze,ye,ae]}function De(Ie,Me,Te=!1,et=!0){if(Me instanceof K){const{pageWidth:Ze,pageHeight:ye}=Me.rawDims,{style:ae}=Ie,ne=`calc(var(--scale-factor) * ${Ze}px)`,fe=`calc(var(--scale-factor) * ${ye}px)`;!Te||Me.rotation%180===0?(ae.width=ne,ae.height=fe):(ae.width=fe,ae.height=ne)}et&&Ie.setAttribute("data-main-rotation",Me.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var O=H(1);class R{constructor(){this.constructor===R&&(0,O.unreachable)("Cannot initialize BaseCanvasFactory.")}create(re,te){if(re<=0||te<=0)throw new Error("Invalid canvas size");const pe=this._createCanvas(re,te);return{canvas:pe,context:pe.getContext("2d")}}reset(re,te,pe){if(!re.canvas)throw new Error("Canvas is not specified");if(te<=0||pe<=0)throw new Error("Invalid canvas size");re.canvas.width=te,re.canvas.height=pe}destroy(re){if(!re.canvas)throw new Error("Canvas is not specified");re.canvas.width=0,re.canvas.height=0,re.canvas=null,re.context=null}_createCanvas(re,te){(0,O.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=R;class B{constructor({baseUrl:re=null,isCompressed:te=!1}){this.constructor===B&&(0,O.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=re,this.isCompressed=te}async fetch({name:re}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!re)throw new Error("CMap name must be specified.");const te=this.baseUrl+re+(this.isCompressed?".bcmap":""),pe=this.isCompressed?O.CMapCompressionType.BINARY:O.CMapCompressionType.NONE;return this._fetchData(te,pe).catch(J=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${te}`)})}_fetchData(re,te){(0,O.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=B;class ie{constructor({baseUrl:re=null}){this.constructor===ie&&(0,O.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=re}async fetch({filename:re}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!re)throw new Error("Font filename must be specified.");const te=`${this.baseUrl}${re}`;return this._fetchData(te).catch(pe=>{throw new Error(`Unable to load font data at: ${te}`)})}_fetchData(re){(0,O.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=ie;class se{constructor(){this.constructor===se&&(0,O.unreachable)("Cannot initialize BaseSVGFactory.")}create(re,te,pe=!1){if(re<=0||te<=0)throw new Error("Invalid SVG dimensions");const J=this._createSVG("svg:svg");return J.setAttribute("version","1.1"),pe||(J.setAttribute("width",`${re}px`),J.setAttribute("height",`${te}px`)),J.setAttribute("preserveAspectRatio","none"),J.setAttribute("viewBox",`0 0 ${re} ${te}`),J}createElement(re){if(typeof re!="string")throw new Error("Invalid SVG element type");return this._createSVG(re)}_createSVG(re){(0,O.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var O=H(1);const R=3285377520,B=4294901760,ie=65535;class se{constructor(re){this.h1=re?re&4294967295:R,this.h2=re?re&4294967295:R}update(re){let te,pe;if(typeof re=="string"){te=new Uint8Array(re.length*2),pe=0;for(let ue=0,be=re.length;ue<be;ue++){const _e=re.charCodeAt(ue);_e<=255?te[pe++]=_e:(te[pe++]=_e>>>8,te[pe++]=_e&255)}}else if((0,O.isArrayBuffer)(re))te=re.slice(),pe=te.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const J=pe>>2,K=pe-J*4,Y=new Uint32Array(te.buffer,0,J);let G=0,U=0,V=this.h1,q=this.h2;const Q=3432918353,Z=461845907,W=Q&ie,X=Z&ie;for(let ue=0;ue<J;ue++)ue&1?(G=Y[ue],G=G*Q&B|G*W&ie,G=G<<15|G>>>17,G=G*Z&B|G*X&ie,V^=G,V=V<<13|V>>>19,V=V*5+3864292196):(U=Y[ue],U=U*Q&B|U*W&ie,U=U<<15|U>>>17,U=U*Z&B|U*X&ie,q^=U,q=q<<13|q>>>19,q=q*5+3864292196);switch(G=0,K){case 3:G^=te[J*4+2]<<16;case 2:G^=te[J*4+1]<<8;case 1:G^=te[J*4],G=G*Q&B|G*W&ie,G=G<<15|G>>>17,G=G*Z&B|G*X&ie,J&1?V^=G:q^=G}this.h1=V,this.h2=q}hexdigest(){let re=this.h1,te=this.h2;return re^=te>>>1,re=re*3981806797&B|re*36045&ie,te=te*4283543511&B|((te<<16|re>>>16)*2950163797&B)>>>16,re^=te>>>1,re=re*444984403&B|re*60499&ie,te=te*3301882366&B|((te<<16|re>>>16)*3120437893&B)>>>16,re^=te>>>1,(re>>>0).toString(16).padStart(8,"0")+(te>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var O=H(1),R=H(10);class B{constructor({onUnsupportedFeature:he,ownerDocument:re=globalThis.document,styleElement:te=null}){this._onUnsupportedFeature=he,this._document=re,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(he){this.nativeFontFaces.push(he),this._document.fonts.add(he)}insertRule(he){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const re=this.styleElement.sheet;re.insertRule(he,re.cssRules.length)}clear(){for(const he of this.nativeFontFaces)this._document.fonts.delete(he);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(he){if(he.attached||he.missingFile)return;if(he.attached=!0,this.isFontLoadingAPISupported){const te=he.createNativeFontFace();if(te){this.addNativeFontFace(te);try{await te.loaded}catch(pe){throw this._onUnsupportedFeature({featureId:O.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,O.warn)(`Failed to load font '${te.family}': '${pe}'.`),he.disableFontFace=!0,pe}}return}const re=he.createFontFaceRule();if(re){if(this.insertRule(re),this.isSyncFontLoadingSupported)return;await new Promise(te=>{const pe=this._queueLoadingCallback(te);this._prepareFontLoadEvent(he,pe)})}}get isFontLoadingAPISupported(){var re;const he=!!((re=this._document)!=null&&re.fonts);return(0,O.shadow)(this,"isFontLoadingAPISupported",he)}get isSyncFontLoadingSupported(){let he=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(he=!0),(0,O.shadow)(this,"isSyncFontLoadingSupported",he)}_queueLoadingCallback(he){function re(){for((0,O.assert)(!pe.done,"completeRequest() cannot be called twice."),pe.done=!0;te.length>0&&te[0].done;){const J=te.shift();setTimeout(J.callback,0)}}const{loadingRequests:te}=this,pe={done:!1,complete:re,callback:he};return te.push(pe),pe}get _loadTestFont(){const he=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,O.shadow)(this,"_loadTestFont",he)}_prepareFontLoadEvent(he,re){function te(ce,$e){return ce.charCodeAt($e)<<24|ce.charCodeAt($e+1)<<16|ce.charCodeAt($e+2)<<8|ce.charCodeAt($e+3)&255}function pe(ce,$e,Xe,De){const Ge=ce.substring(0,$e),Ie=ce.substring($e+Xe);return Ge+De+Ie}let J,K;const Y=this._document.createElement("canvas");Y.width=1,Y.height=1;const G=Y.getContext("2d");let U=0;function V(ce,$e){if(++U>30){(0,O.warn)("Load test font never loaded."),$e();return}if(G.font="30px "+ce,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){$e();return}setTimeout(V.bind(null,ce,$e))}const q=`lt${Date.now()}${this.loadTestFontId++}`;let Q=this._loadTestFont;Q=pe(Q,976,q.length,q);const W=16,X=1482184792;let ue=te(Q,W);for(J=0,K=q.length-3;J<K;J+=4)ue=ue-X+te(q,J)|0;J<q.length&&(ue=ue-X+te(q+"XXX",J)|0),Q=pe(Q,W,4,(0,O.string32)(ue));const be=`url(data:font/opentype;base64,${btoa(Q)});`,_e=`@font-face {font-family:"${q}";src:${be}}`;this.insertRule(_e);const Pe=this._document.createElement("div");Pe.style.visibility="hidden",Pe.style.width=Pe.style.height="10px",Pe.style.position="absolute",Pe.style.top=Pe.style.left="0px";for(const ce of[he.loadedName,q]){const $e=this._document.createElement("span");$e.textContent="Hi",$e.style.fontFamily=ce,Pe.append($e)}this._document.body.append(Pe),V(q,()=>{Pe.remove(),re.complete()})}}$.FontLoader=B;class ie{constructor(he,{isEvalSupported:re=!0,disableFontFace:te=!1,ignoreErrors:pe=!1,onUnsupportedFeature:J,fontRegistry:K=null}){this.compiledGlyphs=Object.create(null);for(const Y in he)this[Y]=he[Y];this.isEvalSupported=re!==!1,this.disableFontFace=te===!0,this.ignoreErrors=pe===!0,this._onUnsupportedFeature=J,this.fontRegistry=K}createNativeFontFace(){var re;if(!this.data||this.disableFontFace)return null;let he;if(!this.cssFontInfo)he=new FontFace(this.loadedName,this.data,{});else{const te={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(te.style=`oblique ${this.cssFontInfo.italicAngle}deg`),he=new FontFace(this.cssFontInfo.fontFamily,this.data,te)}return(re=this.fontRegistry)==null||re.registerFont(this),he}createFontFaceRule(){var pe;if(!this.data||this.disableFontFace)return null;const he=(0,O.bytesToString)(this.data),re=`url(data:${this.mimetype};base64,${btoa(he)});`;let te;if(!this.cssFontInfo)te=`@font-face {font-family:"${this.loadedName}";src:${re}}`;else{let J=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(J+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),te=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${J}src:${re}}`}return(pe=this.fontRegistry)==null||pe.registerFont(this,re),te}getPathGenerator(he,re){if(this.compiledGlyphs[re]!==void 0)return this.compiledGlyphs[re];let te;try{te=he.get(this.loadedName+"_path_"+re)}catch(pe){if(!this.ignoreErrors)throw pe;return this._onUnsupportedFeature({featureId:O.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,O.warn)(`getPathGenerator - ignoring character: "${pe}".`),this.compiledGlyphs[re]=function(J,K){}}if(this.isEvalSupported&&O.FeatureTest.isEvalSupported){const pe=[];for(const J of te){const K=J.args!==void 0?J.args.join(","):"";pe.push("c.",J.cmd,"(",K,`);
`)}return this.compiledGlyphs[re]=new Function("c","size",pe.join(""))}return this.compiledGlyphs[re]=function(pe,J){for(const K of te)K.cmd==="scale"&&(K.args=[J,-J]),pe[K.cmd].apply(pe,K.args)}}}$.FontFaceObject=ie},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H},(A,$,H)=>{var Te,Lr;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var O=H(1),R=H(6),B=H(12),ie=H(13);const se=16,he=100,re=4096,te=15,pe=10,J=1e3,K=16;function Y(ye,ae){if(ye._removeMirroring)throw new Error("Context is already forwarding operations.");ye.__originalSave=ye.save,ye.__originalRestore=ye.restore,ye.__originalRotate=ye.rotate,ye.__originalScale=ye.scale,ye.__originalTranslate=ye.translate,ye.__originalTransform=ye.transform,ye.__originalSetTransform=ye.setTransform,ye.__originalResetTransform=ye.resetTransform,ye.__originalClip=ye.clip,ye.__originalMoveTo=ye.moveTo,ye.__originalLineTo=ye.lineTo,ye.__originalBezierCurveTo=ye.bezierCurveTo,ye.__originalRect=ye.rect,ye.__originalClosePath=ye.closePath,ye.__originalBeginPath=ye.beginPath,ye._removeMirroring=()=>{ye.save=ye.__originalSave,ye.restore=ye.__originalRestore,ye.rotate=ye.__originalRotate,ye.scale=ye.__originalScale,ye.translate=ye.__originalTranslate,ye.transform=ye.__originalTransform,ye.setTransform=ye.__originalSetTransform,ye.resetTransform=ye.__originalResetTransform,ye.clip=ye.__originalClip,ye.moveTo=ye.__originalMoveTo,ye.lineTo=ye.__originalLineTo,ye.bezierCurveTo=ye.__originalBezierCurveTo,ye.rect=ye.__originalRect,ye.closePath=ye.__originalClosePath,ye.beginPath=ye.__originalBeginPath,delete ye._removeMirroring},ye.save=function(){ae.save(),this.__originalSave()},ye.restore=function(){ae.restore(),this.__originalRestore()},ye.translate=function(fe,Se){ae.translate(fe,Se),this.__originalTranslate(fe,Se)},ye.scale=function(fe,Se){ae.scale(fe,Se),this.__originalScale(fe,Se)},ye.transform=function(fe,Se,Ee,ke,Fe,He){ae.transform(fe,Se,Ee,ke,Fe,He),this.__originalTransform(fe,Se,Ee,ke,Fe,He)},ye.setTransform=function(fe,Se,Ee,ke,Fe,He){ae.setTransform(fe,Se,Ee,ke,Fe,He),this.__originalSetTransform(fe,Se,Ee,ke,Fe,He)},ye.resetTransform=function(){ae.resetTransform(),this.__originalResetTransform()},ye.rotate=function(fe){ae.rotate(fe),this.__originalRotate(fe)},ye.clip=function(fe){ae.clip(fe),this.__originalClip(fe)},ye.moveTo=function(ne,fe){ae.moveTo(ne,fe),this.__originalMoveTo(ne,fe)},ye.lineTo=function(ne,fe){ae.lineTo(ne,fe),this.__originalLineTo(ne,fe)},ye.bezierCurveTo=function(ne,fe,Se,Ee,ke,Fe){ae.bezierCurveTo(ne,fe,Se,Ee,ke,Fe),this.__originalBezierCurveTo(ne,fe,Se,Ee,ke,Fe)},ye.rect=function(ne,fe,Se,Ee){ae.rect(ne,fe,Se,Ee),this.__originalRect(ne,fe,Se,Ee)},ye.closePath=function(){ae.closePath(),this.__originalClosePath()},ye.beginPath=function(){ae.beginPath(),this.__originalBeginPath()}}class G{constructor(ae){this.canvasFactory=ae,this.cache=Object.create(null)}getCanvas(ae,ne,fe){let Se;return this.cache[ae]!==void 0?(Se=this.cache[ae],this.canvasFactory.reset(Se,ne,fe)):(Se=this.canvasFactory.create(ne,fe),this.cache[ae]=Se),Se}delete(ae){delete this.cache[ae]}clear(){for(const ae in this.cache){const ne=this.cache[ae];this.canvasFactory.destroy(ne),delete this.cache[ae]}}}function U(ye,ae,ne,fe,Se,Ee,ke,Fe,He,rt){const[Je,tt,ze,oe,le,ve]=(0,R.getCurrentTransform)(ye);if(tt===0&&ze===0){const we=ke*Je+le,Qe=Math.round(we),st=Fe*oe+ve,it=Math.round(st),Ue=(ke+He)*Je+le,ht=Math.abs(Math.round(Ue)-Qe)||1,lt=(Fe+rt)*oe+ve,pt=Math.abs(Math.round(lt)-it)||1;return ye.setTransform(Math.sign(Je),0,0,Math.sign(oe),Qe,it),ye.drawImage(ae,ne,fe,Se,Ee,0,0,ht,pt),ye.setTransform(Je,tt,ze,oe,le,ve),[ht,pt]}if(Je===0&&oe===0){const we=Fe*ze+le,Qe=Math.round(we),st=ke*tt+ve,it=Math.round(st),Ue=(Fe+rt)*ze+le,ht=Math.abs(Math.round(Ue)-Qe)||1,lt=(ke+He)*tt+ve,pt=Math.abs(Math.round(lt)-it)||1;return ye.setTransform(0,Math.sign(tt),Math.sign(ze),0,Qe,it),ye.drawImage(ae,ne,fe,Se,Ee,0,0,pt,ht),ye.setTransform(Je,tt,ze,oe,le,ve),[pt,ht]}ye.drawImage(ae,ne,fe,Se,Ee,ke,Fe,He,rt);const Ae=Math.hypot(Je,tt),ge=Math.hypot(ze,oe);return[Ae*He,ge*rt]}function V(ye){const{width:ae,height:ne}=ye;if(ae>J||ne>J)return null;const fe=1e3,Se=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ee=ae+1;let ke=new Uint8Array(Ee*(ne+1)),Fe,He,rt;const Je=ae+7&-8;let tt=new Uint8Array(Je*ne),ze=0;for(const ge of ye.data){let we=128;for(;we>0;)tt[ze++]=ge&we?0:255,we>>=1}let oe=0;for(ze=0,tt[ze]!==0&&(ke[0]=1,++oe),He=1;He<ae;He++)tt[ze]!==tt[ze+1]&&(ke[He]=tt[ze]?2:1,++oe),ze++;for(tt[ze]!==0&&(ke[He]=2,++oe),Fe=1;Fe<ne;Fe++){ze=Fe*Je,rt=Fe*Ee,tt[ze-Je]!==tt[ze]&&(ke[rt]=tt[ze]?1:8,++oe);let ge=(tt[ze]?4:0)+(tt[ze-Je]?8:0);for(He=1;He<ae;He++)ge=(ge>>2)+(tt[ze+1]?4:0)+(tt[ze-Je+1]?8:0),Se[ge]&&(ke[rt+He]=Se[ge],++oe),ze++;if(tt[ze-Je]!==tt[ze]&&(ke[rt+He]=tt[ze]?2:4,++oe),oe>fe)return null}for(ze=Je*(ne-1),rt=Fe*Ee,tt[ze]!==0&&(ke[rt]=8,++oe),He=1;He<ae;He++)tt[ze]!==tt[ze+1]&&(ke[rt+He]=tt[ze]?4:8,++oe),ze++;if(tt[ze]!==0&&(ke[rt+He]=4,++oe),oe>fe)return null;const le=new Int32Array([0,Ee,-1,0,-Ee,0,0,0,1]),ve=new Path2D;for(Fe=0;oe&&Fe<=ne;Fe++){let ge=Fe*Ee;const we=ge+ae;for(;ge<we&&!ke[ge];)ge++;if(ge===we)continue;ve.moveTo(ge%Ee,Fe);const Qe=ge;let st=ke[ge];do{const it=le[st];do ge+=it;while(!ke[ge]);const Ue=ke[ge];Ue!==5&&Ue!==10?(st=Ue,ke[ge]=0):(st=Ue&51*st>>4,ke[ge]&=st>>2|st<<2),ve.lineTo(ge%Ee,ge/Ee|0),ke[ge]||--oe}while(Qe!==ge);--Fe}return tt=null,ke=null,function(ge){ge.save(),ge.scale(1/ae,-1/ne),ge.translate(0,-ne),ge.fill(ve),ge.beginPath(),ge.restore()}}class q{constructor(ae,ne){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=O.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=O.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,ae,ne])}clone(){const ae=Object.create(this);return ae.clipBox=this.clipBox.slice(),ae}setCurrentPoint(ae,ne){this.x=ae,this.y=ne}updatePathMinMax(ae,ne,fe){[ne,fe]=O.Util.applyTransform([ne,fe],ae),this.minX=Math.min(this.minX,ne),this.minY=Math.min(this.minY,fe),this.maxX=Math.max(this.maxX,ne),this.maxY=Math.max(this.maxY,fe)}updateRectMinMax(ae,ne){const fe=O.Util.applyTransform(ne,ae),Se=O.Util.applyTransform(ne.slice(2),ae);this.minX=Math.min(this.minX,fe[0],Se[0]),this.minY=Math.min(this.minY,fe[1],Se[1]),this.maxX=Math.max(this.maxX,fe[0],Se[0]),this.maxY=Math.max(this.maxY,fe[1],Se[1])}updateScalingPathMinMax(ae,ne){O.Util.scaleMinMax(ae,ne),this.minX=Math.min(this.minX,ne[0]),this.maxX=Math.max(this.maxX,ne[1]),this.minY=Math.min(this.minY,ne[2]),this.maxY=Math.max(this.maxY,ne[3])}updateCurvePathMinMax(ae,ne,fe,Se,Ee,ke,Fe,He,rt,Je){const tt=O.Util.bezierBoundingBox(ne,fe,Se,Ee,ke,Fe,He,rt);if(Je){Je[0]=Math.min(Je[0],tt[0],tt[2]),Je[1]=Math.max(Je[1],tt[0],tt[2]),Je[2]=Math.min(Je[2],tt[1],tt[3]),Je[3]=Math.max(Je[3],tt[1],tt[3]);return}this.updateRectMinMax(ae,tt)}getPathBoundingBox(ae=B.PathType.FILL,ne=null){const fe=[this.minX,this.minY,this.maxX,this.maxY];if(ae===B.PathType.STROKE){ne||(0,O.unreachable)("Stroke bounding box must include transform.");const Se=O.Util.singularValueDecompose2dScale(ne),Ee=Se[0]*this.lineWidth/2,ke=Se[1]*this.lineWidth/2;fe[0]-=Ee,fe[1]-=ke,fe[2]+=Ee,fe[3]+=ke}return fe}updateClipFromPath(){const ae=O.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(ae||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(ae){this.clipBox=ae,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(ae=B.PathType.FILL,ne=null){return O.Util.intersect(this.clipBox,this.getPathBoundingBox(ae,ne))}}function Q(ye,ae,ne=null){if(typeof ImageData<"u"&&ae instanceof ImageData){ye.putImageData(ae,0,0);return}const fe=ae.height,Se=ae.width,Ee=fe%K,ke=(fe-Ee)/K,Fe=Ee===0?ke:ke+1,He=ye.createImageData(Se,K);let rt=0,Je;const tt=ae.data,ze=He.data;let oe,le,ve,Ae,ge,we,Qe,st;if(ne)switch(ne.length){case 1:ge=ne[0],we=ne[0],Qe=ne[0],st=ne[0];break;case 4:ge=ne[0],we=ne[1],Qe=ne[2],st=ne[3];break}if(ae.kind===O.ImageKind.GRAYSCALE_1BPP){const it=tt.byteLength,Ue=new Uint32Array(ze.buffer,0,ze.byteLength>>2),ht=Ue.length,lt=Se+7>>3;let pt=4294967295,Ct=O.FeatureTest.isLittleEndian?4278190080:255;for(st&&st[0]===255&&st[255]===0&&([pt,Ct]=[Ct,pt]),oe=0;oe<Fe;oe++){for(ve=oe<ke?K:Ee,Je=0,le=0;le<ve;le++){const yt=it-rt;let $t=0;const jt=yt>lt?Se:yt*8-7,nt=jt&-8;let bt=0,Ke=0;for(;$t<nt;$t+=8)Ke=tt[rt++],Ue[Je++]=Ke&128?pt:Ct,Ue[Je++]=Ke&64?pt:Ct,Ue[Je++]=Ke&32?pt:Ct,Ue[Je++]=Ke&16?pt:Ct,Ue[Je++]=Ke&8?pt:Ct,Ue[Je++]=Ke&4?pt:Ct,Ue[Je++]=Ke&2?pt:Ct,Ue[Je++]=Ke&1?pt:Ct;for(;$t<jt;$t++)bt===0&&(Ke=tt[rt++],bt=128),Ue[Je++]=Ke&bt?pt:Ct,bt>>=1}for(;Je<ht;)Ue[Je++]=0;ye.putImageData(He,0,oe*K)}}else if(ae.kind===O.ImageKind.RGBA_32BPP){const it=!!(ge||we||Qe);for(le=0,Ae=Se*K*4,oe=0;oe<ke;oe++){if(ze.set(tt.subarray(rt,rt+Ae)),rt+=Ae,it)for(let Ue=0;Ue<Ae;Ue+=4)ge&&(ze[Ue+0]=ge[ze[Ue+0]]),we&&(ze[Ue+1]=we[ze[Ue+1]]),Qe&&(ze[Ue+2]=Qe[ze[Ue+2]]);ye.putImageData(He,0,le),le+=K}if(oe<Fe){if(Ae=Se*Ee*4,ze.set(tt.subarray(rt,rt+Ae)),it)for(let Ue=0;Ue<Ae;Ue+=4)ge&&(ze[Ue+0]=ge[ze[Ue+0]]),we&&(ze[Ue+1]=we[ze[Ue+1]]),Qe&&(ze[Ue+2]=Qe[ze[Ue+2]]);ye.putImageData(He,0,le)}}else if(ae.kind===O.ImageKind.RGB_24BPP){const it=!!(ge||we||Qe);for(ve=K,Ae=Se*ve,oe=0;oe<Fe;oe++){for(oe>=ke&&(ve=Ee,Ae=Se*ve),Je=0,le=Ae;le--;)ze[Je++]=tt[rt++],ze[Je++]=tt[rt++],ze[Je++]=tt[rt++],ze[Je++]=255;if(it)for(let Ue=0;Ue<Je;Ue+=4)ge&&(ze[Ue+0]=ge[ze[Ue+0]]),we&&(ze[Ue+1]=we[ze[Ue+1]]),Qe&&(ze[Ue+2]=Qe[ze[Ue+2]]);ye.putImageData(He,0,oe*K)}}else throw new Error(`bad image kind: ${ae.kind}`)}function Z(ye,ae){if(ae.bitmap){ye.drawImage(ae.bitmap,0,0);return}const ne=ae.height,fe=ae.width,Se=ne%K,Ee=(ne-Se)/K,ke=Se===0?Ee:Ee+1,Fe=ye.createImageData(fe,K);let He=0;const rt=ae.data,Je=Fe.data;for(let tt=0;tt<ke;tt++){const ze=tt<Ee?K:Se;({srcPos:He}=(0,ie.applyMaskImageData)({src:rt,srcPos:He,dest:Je,width:fe,height:ze})),ye.putImageData(Fe,0,tt*K)}}function W(ye,ae){const ne=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const fe of ne)ye[fe]!==void 0&&(ae[fe]=ye[fe]);ye.setLineDash!==void 0&&(ae.setLineDash(ye.getLineDash()),ae.lineDashOffset=ye.lineDashOffset)}function X(ye,ae){ye.strokeStyle=ye.fillStyle=ae||"#000000",ye.fillRule="nonzero",ye.globalAlpha=1,ye.lineWidth=1,ye.lineCap="butt",ye.lineJoin="miter",ye.miterLimit=10,ye.globalCompositeOperation="source-over",ye.font="10px sans-serif",ye.setLineDash!==void 0&&(ye.setLineDash([]),ye.lineDashOffset=0)}function ue(ye,ae,ne,fe){const Se=ye.length;for(let Ee=3;Ee<Se;Ee+=4){const ke=ye[Ee];if(ke===0)ye[Ee-3]=ae,ye[Ee-2]=ne,ye[Ee-1]=fe;else if(ke<255){const Fe=255-ke;ye[Ee-3]=ye[Ee-3]*ke+ae*Fe>>8,ye[Ee-2]=ye[Ee-2]*ke+ne*Fe>>8,ye[Ee-1]=ye[Ee-1]*ke+fe*Fe>>8}}}function be(ye,ae,ne){const fe=ye.length,Se=1/255;for(let Ee=3;Ee<fe;Ee+=4){const ke=ne?ne[ye[Ee]]:ye[Ee];ae[Ee]=ae[Ee]*ke*Se|0}}function _e(ye,ae,ne){const fe=ye.length;for(let Se=3;Se<fe;Se+=4){const Ee=ye[Se-3]*77+ye[Se-2]*152+ye[Se-1]*28;ae[Se]=ne?ae[Se]*ne[Ee>>8]>>8:ae[Se]*Ee>>16}}function Pe(ye,ae,ne,fe,Se,Ee,ke,Fe,He,rt,Je){const tt=!!Ee,ze=tt?Ee[0]:0,oe=tt?Ee[1]:0,le=tt?Ee[2]:0;let ve;Se==="Luminosity"?ve=_e:ve=be;const ge=Math.min(fe,Math.ceil(1048576/ne));for(let we=0;we<fe;we+=ge){const Qe=Math.min(ge,fe-we),st=ye.getImageData(Fe-rt,we+(He-Je),ne,Qe),it=ae.getImageData(Fe,we+He,ne,Qe);tt&&ue(st.data,ze,oe,le),ve(st.data,it.data,ke),ae.putImageData(it,Fe,we+He)}}function ce(ye,ae,ne,fe){const Se=fe[0],Ee=fe[1],ke=fe[2]-Se,Fe=fe[3]-Ee;ke===0||Fe===0||(Pe(ae.context,ne,ke,Fe,ae.subtype,ae.backdrop,ae.transferMap,Se,Ee,ae.offsetX,ae.offsetY),ye.save(),ye.globalAlpha=1,ye.globalCompositeOperation="source-over",ye.setTransform(1,0,0,1,0,0),ye.drawImage(ne.canvas,0,0),ye.restore())}function $e(ye,ae){const ne=O.Util.singularValueDecompose2dScale(ye);ne[0]=Math.fround(ne[0]),ne[1]=Math.fround(ne[1]);const fe=Math.fround((globalThis.devicePixelRatio||1)*R.PixelsPerInch.PDF_TO_CSS_UNITS);return ae!==void 0?ae:ne[0]<=fe||ne[1]<=fe}const Xe=["butt","round","square"],De=["miter","round","bevel"],Ge={},Ie={},Ze=class{constructor(ae,ne,fe,Se,{optionalContentConfig:Ee,markedContentStack:ke=null},Fe,He){at(this,Te);this.ctx=ae,this.current=new q(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=ne,this.objs=fe,this.canvasFactory=Se,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=ke||[],this.optionalContentConfig=Ee,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Fe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(He==null?void 0:He.background)||null,this.foregroundColor=(He==null?void 0:He.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(ae,ne=null){return typeof ae=="string"?ae.startsWith("g_")?this.commonObjs.get(ae):this.objs.get(ae):ne}beginDrawing({transform:ae,viewport:ne,transparency:fe=!1,background:Se=null}){const Ee=this.ctx.canvas.width,ke=this.ctx.canvas.height,Fe=Se||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const He=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const rt=this.backgroundColor=this.ctx.fillStyle;let Je=!0,tt=Fe;if(this.ctx.fillStyle=Fe,tt=this.ctx.fillStyle,Je=typeof tt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(tt),He==="#000000"&&rt==="#ffffff"||He===rt||!Je)this.foregroundColor=this.backgroundColor=null;else{const[ze,oe,le]=(0,R.getRGB)(tt),ve=ge=>(ge/=255,ge<=.03928?ge/12.92:((ge+.055)/1.055)**2.4),Ae=Math.round(.2126*ve(ze)+.7152*ve(oe)+.0722*ve(le));this.selectColor=(ge,we,Qe)=>{const st=.2126*ve(ge)+.7152*ve(we)+.0722*ve(Qe);return Math.round(st)===Ae?rt:He}}}if(this.ctx.fillStyle=this.backgroundColor||Fe,this.ctx.fillRect(0,0,Ee,ke),this.ctx.restore(),fe){const He=this.cachedCanvases.getCanvas("transparent",Ee,ke);this.compositeCtx=this.ctx,this.transparentCanvas=He.canvas,this.ctx=He.context,this.ctx.save(),this.ctx.transform(...(0,R.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),X(this.ctx,this.foregroundColor),ae&&(this.ctx.transform(...ae),this.outputScaleX=ae[0],this.outputScaleY=ae[0]),this.ctx.transform(...ne.transform),this.viewportScale=ne.scale,this.baseTransform=(0,R.getCurrentTransform)(this.ctx)}executeOperatorList(ae,ne,fe,Se){const Ee=ae.argsArray,ke=ae.fnArray;let Fe=ne||0;const He=Ee.length;if(He===Fe)return Fe;const rt=He-Fe>pe&&typeof fe=="function",Je=rt?Date.now()+te:0;let tt=0;const ze=this.commonObjs,oe=this.objs;let le;for(;;){if(Se!==void 0&&Fe===Se.nextBreakPoint)return Se.breakIt(Fe,fe),Fe;if(le=ke[Fe],le!==O.OPS.dependency)this[le].apply(this,Ee[Fe]);else for(const ve of Ee[Fe]){const Ae=ve.startsWith("g_")?ze:oe;if(!Ae.has(ve))return Ae.get(ve,fe),Fe}if(Fe++,Fe===He)return Fe;if(rt&&++tt>pe){if(Date.now()>Je)return fe(),Fe;tt=0}}}endDrawing(){ft(this,Te,Lr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const ae of this._cachedBitmapsMap.values()){for(const ne of ae.values())typeof HTMLCanvasElement<"u"&&ne instanceof HTMLCanvasElement&&(ne.width=ne.height=0);ae.clear()}this._cachedBitmapsMap.clear()}_scaleImage(ae,ne){const fe=ae.width,Se=ae.height;let Ee=Math.max(Math.hypot(ne[0],ne[1]),1),ke=Math.max(Math.hypot(ne[2],ne[3]),1),Fe=fe,He=Se,rt="prescale1",Je,tt;for(;Ee>2&&Fe>1||ke>2&&He>1;){let ze=Fe,oe=He;Ee>2&&Fe>1&&(ze=Math.ceil(Fe/2),Ee/=Fe/ze),ke>2&&He>1&&(oe=Math.ceil(He/2),ke/=He/oe),Je=this.cachedCanvases.getCanvas(rt,ze,oe),tt=Je.context,tt.clearRect(0,0,ze,oe),tt.drawImage(ae,0,0,Fe,He,0,0,ze,oe),ae=Je.canvas,Fe=ze,He=oe,rt=rt==="prescale1"?"prescale2":"prescale1"}return{img:ae,paintWidth:Fe,paintHeight:He}}_createMaskCanvas(ae){const ne=this.ctx,{width:fe,height:Se}=ae,Ee=this.current.fillColor,ke=this.current.patternFill,Fe=(0,R.getCurrentTransform)(ne);let He,rt,Je,tt;if((ae.bitmap||ae.data)&&ae.count>1){const ht=ae.bitmap||ae.data.buffer;rt=JSON.stringify(ke?Fe:[Fe.slice(0,4),Ee]),He=this._cachedBitmapsMap.get(ht),He||(He=new Map,this._cachedBitmapsMap.set(ht,He));const lt=He.get(rt);if(lt&&!ke){const pt=Math.round(Math.min(Fe[0],Fe[2])+Fe[4]),Ct=Math.round(Math.min(Fe[1],Fe[3])+Fe[5]);return{canvas:lt,offsetX:pt,offsetY:Ct}}Je=lt}Je||(tt=this.cachedCanvases.getCanvas("maskCanvas",fe,Se),Z(tt.context,ae));let ze=O.Util.transform(Fe,[1/fe,0,0,-1/Se,0,0]);ze=O.Util.transform(ze,[1,0,0,1,0,-Se]);const oe=O.Util.applyTransform([0,0],ze),le=O.Util.applyTransform([fe,Se],ze),ve=O.Util.normalizeRect([oe[0],oe[1],le[0],le[1]]),Ae=Math.round(ve[2]-ve[0])||1,ge=Math.round(ve[3]-ve[1])||1,we=this.cachedCanvases.getCanvas("fillCanvas",Ae,ge),Qe=we.context,st=Math.min(oe[0],le[0]),it=Math.min(oe[1],le[1]);Qe.translate(-st,-it),Qe.transform(...ze),Je||(Je=this._scaleImage(tt.canvas,(0,R.getCurrentTransformInverse)(Qe)),Je=Je.img,He&&ke&&He.set(rt,Je)),Qe.imageSmoothingEnabled=$e((0,R.getCurrentTransform)(Qe),ae.interpolate),U(Qe,Je,0,0,Je.width,Je.height,0,0,fe,Se),Qe.globalCompositeOperation="source-in";const Ue=O.Util.transform((0,R.getCurrentTransformInverse)(Qe),[1,0,0,1,-st,-it]);return Qe.fillStyle=ke?Ee.getPattern(ne,this,Ue,B.PathType.FILL):Ee,Qe.fillRect(0,0,fe,Se),He&&!ke&&(this.cachedCanvases.delete("fillCanvas"),He.set(rt,we.canvas)),{canvas:we.canvas,offsetX:Math.round(st),offsetY:Math.round(it)}}setLineWidth(ae){ae!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=ae,this.ctx.lineWidth=ae}setLineCap(ae){this.ctx.lineCap=Xe[ae]}setLineJoin(ae){this.ctx.lineJoin=De[ae]}setMiterLimit(ae){this.ctx.miterLimit=ae}setDash(ae,ne){const fe=this.ctx;fe.setLineDash!==void 0&&(fe.setLineDash(ae),fe.lineDashOffset=ne)}setRenderingIntent(ae){}setFlatness(ae){}setGState(ae){for(const[ne,fe]of ae)switch(ne){case"LW":this.setLineWidth(fe);break;case"LC":this.setLineCap(fe);break;case"LJ":this.setLineJoin(fe);break;case"ML":this.setMiterLimit(fe);break;case"D":this.setDash(fe[0],fe[1]);break;case"RI":this.setRenderingIntent(fe);break;case"FL":this.setFlatness(fe);break;case"Font":this.setFont(fe[0],fe[1]);break;case"CA":this.current.strokeAlpha=fe;break;case"ca":this.current.fillAlpha=fe,this.ctx.globalAlpha=fe;break;case"BM":this.ctx.globalCompositeOperation=fe;break;case"SMask":this.current.activeSMask=fe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=fe}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const ae=this.inSMaskMode;this.current.activeSMask&&!ae?this.beginSMaskMode():!this.current.activeSMask&&ae&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const ae=this.ctx.canvas.width,ne=this.ctx.canvas.height,fe="smaskGroupAt"+this.groupLevel,Se=this.cachedCanvases.getCanvas(fe,ae,ne);this.suspendedCtx=this.ctx,this.ctx=Se.context;const Ee=this.ctx;Ee.setTransform(...(0,R.getCurrentTransform)(this.suspendedCtx)),W(this.suspendedCtx,Ee),Y(Ee,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),W(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(ae){if(!this.current.activeSMask)return;ae?(ae[0]=Math.floor(ae[0]),ae[1]=Math.floor(ae[1]),ae[2]=Math.ceil(ae[2]),ae[3]=Math.ceil(ae[3])):ae=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const ne=this.current.activeSMask,fe=this.suspendedCtx;ce(fe,ne,this.ctx,ae),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(W(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const ae=this.current;this.stateStack.push(ae),this.current=ae.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),W(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(ae,ne,fe,Se,Ee,ke){this.ctx.transform(ae,ne,fe,Se,Ee,ke),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(ae,ne,fe){const Se=this.ctx,Ee=this.current;let ke=Ee.x,Fe=Ee.y,He,rt;const Je=(0,R.getCurrentTransform)(Se),tt=Je[0]===0&&Je[3]===0||Je[1]===0&&Je[2]===0,ze=tt?fe.slice(0):null;for(let oe=0,le=0,ve=ae.length;oe<ve;oe++)switch(ae[oe]|0){case O.OPS.rectangle:ke=ne[le++],Fe=ne[le++];const Ae=ne[le++],ge=ne[le++],we=ke+Ae,Qe=Fe+ge;Se.moveTo(ke,Fe),Ae===0||ge===0?Se.lineTo(we,Qe):(Se.lineTo(we,Fe),Se.lineTo(we,Qe),Se.lineTo(ke,Qe)),tt||Ee.updateRectMinMax(Je,[ke,Fe,we,Qe]),Se.closePath();break;case O.OPS.moveTo:ke=ne[le++],Fe=ne[le++],Se.moveTo(ke,Fe),tt||Ee.updatePathMinMax(Je,ke,Fe);break;case O.OPS.lineTo:ke=ne[le++],Fe=ne[le++],Se.lineTo(ke,Fe),tt||Ee.updatePathMinMax(Je,ke,Fe);break;case O.OPS.curveTo:He=ke,rt=Fe,ke=ne[le+4],Fe=ne[le+5],Se.bezierCurveTo(ne[le],ne[le+1],ne[le+2],ne[le+3],ke,Fe),Ee.updateCurvePathMinMax(Je,He,rt,ne[le],ne[le+1],ne[le+2],ne[le+3],ke,Fe,ze),le+=6;break;case O.OPS.curveTo2:He=ke,rt=Fe,Se.bezierCurveTo(ke,Fe,ne[le],ne[le+1],ne[le+2],ne[le+3]),Ee.updateCurvePathMinMax(Je,He,rt,ke,Fe,ne[le],ne[le+1],ne[le+2],ne[le+3],ze),ke=ne[le+2],Fe=ne[le+3],le+=4;break;case O.OPS.curveTo3:He=ke,rt=Fe,ke=ne[le+2],Fe=ne[le+3],Se.bezierCurveTo(ne[le],ne[le+1],ke,Fe,ke,Fe),Ee.updateCurvePathMinMax(Je,He,rt,ne[le],ne[le+1],ke,Fe,ke,Fe,ze),le+=4;break;case O.OPS.closePath:Se.closePath();break}tt&&Ee.updateScalingPathMinMax(Je,ze),Ee.setCurrentPoint(ke,Fe)}closePath(){this.ctx.closePath()}stroke(ae=!0){const ne=this.ctx,fe=this.current.strokeColor;ne.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof fe=="object"&&(fe!=null&&fe.getPattern)?(ne.save(),ne.strokeStyle=fe.getPattern(ne,this,(0,R.getCurrentTransformInverse)(ne),B.PathType.STROKE),this.rescaleAndStroke(!1),ne.restore()):this.rescaleAndStroke(!0)),ae&&this.consumePath(this.current.getClippedPathBoundingBox()),ne.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(ae=!0){const ne=this.ctx,fe=this.current.fillColor,Se=this.current.patternFill;let Ee=!1;Se&&(ne.save(),ne.fillStyle=fe.getPattern(ne,this,(0,R.getCurrentTransformInverse)(ne),B.PathType.FILL),Ee=!0);const ke=this.current.getClippedPathBoundingBox();this.contentVisible&&ke!==null&&(this.pendingEOFill?(ne.fill("evenodd"),this.pendingEOFill=!1):ne.fill()),Ee&&ne.restore(),ae&&this.consumePath(ke)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ge}eoClip(){this.pendingClip=Ie}beginText(){this.current.textMatrix=O.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const ae=this.pendingTextPaths,ne=this.ctx;if(ae===void 0){ne.beginPath();return}ne.save(),ne.beginPath();for(const fe of ae)ne.setTransform(...fe.transform),ne.translate(fe.x,fe.y),fe.addToPath(ne,fe.fontSize);ne.restore(),ne.clip(),ne.beginPath(),delete this.pendingTextPaths}setCharSpacing(ae){this.current.charSpacing=ae}setWordSpacing(ae){this.current.wordSpacing=ae}setHScale(ae){this.current.textHScale=ae/100}setLeading(ae){this.current.leading=-ae}setFont(ae,ne){const fe=this.commonObjs.get(ae),Se=this.current;if(!fe)throw new Error(`Can't find font for ${ae}`);if(Se.fontMatrix=fe.fontMatrix||O.FONT_IDENTITY_MATRIX,(Se.fontMatrix[0]===0||Se.fontMatrix[3]===0)&&(0,O.warn)("Invalid font matrix for font "+ae),ne<0?(ne=-ne,Se.fontDirection=-1):Se.fontDirection=1,this.current.font=fe,this.current.fontSize=ne,fe.isType3Font)return;const Ee=fe.loadedName||"sans-serif";let ke="normal";fe.black?ke="900":fe.bold&&(ke="bold");const Fe=fe.italic?"italic":"normal",He=`"${Ee}", ${fe.fallbackName}`;let rt=ne;ne<se?rt=se:ne>he&&(rt=he),this.current.fontSizeScale=ne/rt,this.ctx.font=`${Fe} ${ke} ${rt}px ${He}`}setTextRenderingMode(ae){this.current.textRenderingMode=ae}setTextRise(ae){this.current.textRise=ae}moveText(ae,ne){this.current.x=this.current.lineX+=ae,this.current.y=this.current.lineY+=ne}setLeadingMoveText(ae,ne){this.setLeading(-ne),this.moveText(ae,ne)}setTextMatrix(ae,ne,fe,Se,Ee,ke){this.current.textMatrix=[ae,ne,fe,Se,Ee,ke],this.current.textMatrixScale=Math.hypot(ae,ne),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(ae,ne,fe,Se){const Ee=this.ctx,ke=this.current,Fe=ke.font,He=ke.textRenderingMode,rt=ke.fontSize/ke.fontSizeScale,Je=He&O.TextRenderingMode.FILL_STROKE_MASK,tt=!!(He&O.TextRenderingMode.ADD_TO_PATH_FLAG),ze=ke.patternFill&&!Fe.missingFile;let oe;(Fe.disableFontFace||tt||ze)&&(oe=Fe.getPathGenerator(this.commonObjs,ae)),Fe.disableFontFace||ze?(Ee.save(),Ee.translate(ne,fe),Ee.beginPath(),oe(Ee,rt),Se&&Ee.setTransform(...Se),(Je===O.TextRenderingMode.FILL||Je===O.TextRenderingMode.FILL_STROKE)&&Ee.fill(),(Je===O.TextRenderingMode.STROKE||Je===O.TextRenderingMode.FILL_STROKE)&&Ee.stroke(),Ee.restore()):((Je===O.TextRenderingMode.FILL||Je===O.TextRenderingMode.FILL_STROKE)&&Ee.fillText(ae,ne,fe),(Je===O.TextRenderingMode.STROKE||Je===O.TextRenderingMode.FILL_STROKE)&&Ee.strokeText(ae,ne,fe)),tt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,R.getCurrentTransform)(Ee),x:ne,y:fe,fontSize:rt,addToPath:oe})}get isFontSubpixelAAEnabled(){const{context:ae}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);ae.scale(1.5,1),ae.fillText("I",0,10);const ne=ae.getImageData(0,0,10,10).data;let fe=!1;for(let Se=3;Se<ne.length;Se+=4)if(ne[Se]>0&&ne[Se]<255){fe=!0;break}return(0,O.shadow)(this,"isFontSubpixelAAEnabled",fe)}showText(ae){const ne=this.current,fe=ne.font;if(fe.isType3Font)return this.showType3Text(ae);const Se=ne.fontSize;if(Se===0)return;const Ee=this.ctx,ke=ne.fontSizeScale,Fe=ne.charSpacing,He=ne.wordSpacing,rt=ne.fontDirection,Je=ne.textHScale*rt,tt=ae.length,ze=fe.vertical,oe=ze?1:-1,le=fe.defaultVMetrics,ve=Se*ne.fontMatrix[0],Ae=ne.textRenderingMode===O.TextRenderingMode.FILL&&!fe.disableFontFace&&!ne.patternFill;Ee.save(),Ee.transform(...ne.textMatrix),Ee.translate(ne.x,ne.y+ne.textRise),rt>0?Ee.scale(Je,-1):Ee.scale(Je,1);let ge;if(ne.patternFill){Ee.save();const Ue=ne.fillColor.getPattern(Ee,this,(0,R.getCurrentTransformInverse)(Ee),B.PathType.FILL);ge=(0,R.getCurrentTransform)(Ee),Ee.restore(),Ee.fillStyle=Ue}let we=ne.lineWidth;const Qe=ne.textMatrixScale;if(Qe===0||we===0){const Ue=ne.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;(Ue===O.TextRenderingMode.STROKE||Ue===O.TextRenderingMode.FILL_STROKE)&&(we=this.getSinglePixelWidth())}else we/=Qe;if(ke!==1&&(Ee.scale(ke,ke),we/=ke),Ee.lineWidth=we,fe.isInvalidPDFjsFont){const Ue=[];let ht=0;for(const lt of ae)Ue.push(lt.unicode),ht+=lt.width;Ee.fillText(Ue.join(""),0,0),ne.x+=ht*ve*Je,Ee.restore(),this.compose();return}let st=0,it;for(it=0;it<tt;++it){const Ue=ae[it];if(typeof Ue=="number"){st+=oe*Ue*Se/1e3;continue}let ht=!1;const lt=(Ue.isSpace?He:0)+Fe,pt=Ue.fontChar,Ct=Ue.accent;let yt,$t,jt=Ue.width;if(ze){const bt=Ue.vmetric||le,Ke=-(Ue.vmetric?bt[1]:jt*.5)*ve,Le=bt[2]*ve;jt=bt?-bt[0]:jt,yt=Ke/ke,$t=(st+Le)/ke}else yt=st/ke,$t=0;if(fe.remeasure&&jt>0){const bt=Ee.measureText(pt).width*1e3/Se*ke;if(jt<bt&&this.isFontSubpixelAAEnabled){const Ke=jt/bt;ht=!0,Ee.save(),Ee.scale(Ke,1),yt/=Ke}else jt!==bt&&(yt+=(jt-bt)/2e3*Se/ke)}if(this.contentVisible&&(Ue.isInFont||fe.missingFile)){if(Ae&&!Ct)Ee.fillText(pt,yt,$t);else if(this.paintChar(pt,yt,$t,ge),Ct){const bt=yt+Se*Ct.offset.x/ke,Ke=$t-Se*Ct.offset.y/ke;this.paintChar(Ct.fontChar,bt,Ke,ge)}}let nt;ze?nt=jt*ve-lt*rt:nt=jt*ve+lt*rt,st+=nt,ht&&Ee.restore()}ze?ne.y-=st:ne.x+=st*Je,Ee.restore(),this.compose()}showType3Text(ae){const ne=this.ctx,fe=this.current,Se=fe.font,Ee=fe.fontSize,ke=fe.fontDirection,Fe=Se.vertical?1:-1,He=fe.charSpacing,rt=fe.wordSpacing,Je=fe.textHScale*ke,tt=fe.fontMatrix||O.FONT_IDENTITY_MATRIX,ze=ae.length,oe=fe.textRenderingMode===O.TextRenderingMode.INVISIBLE;let le,ve,Ae,ge;if(!(oe||Ee===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,ne.save(),ne.transform(...fe.textMatrix),ne.translate(fe.x,fe.y),ne.scale(Je,ke),le=0;le<ze;++le){if(ve=ae[le],typeof ve=="number"){ge=Fe*ve*Ee/1e3,this.ctx.translate(ge,0),fe.x+=ge*Je;continue}const we=(ve.isSpace?rt:0)+He,Qe=Se.charProcOperatorList[ve.operatorListId];if(!Qe){(0,O.warn)(`Type3 character "${ve.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ve,this.save(),ne.scale(Ee,Ee),ne.transform(...tt),this.executeOperatorList(Qe),this.restore()),Ae=O.Util.applyTransform([ve.width,0],tt)[0]*Ee+we,ne.translate(Ae,0),fe.x+=Ae*Je}ne.restore(),this.processingType3=null}}setCharWidth(ae,ne){}setCharWidthAndBounds(ae,ne,fe,Se,Ee,ke){this.ctx.rect(fe,Se,Ee-fe,ke-Se),this.ctx.clip(),this.endPath()}getColorN_Pattern(ae){let ne;if(ae[0]==="TilingPattern"){const fe=ae[1],Se=this.baseTransform||(0,R.getCurrentTransform)(this.ctx),Ee={createCanvasGraphics:ke=>new Ze(ke,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};ne=new B.TilingPattern(ae,fe,this.ctx,Ee,Se)}else ne=this._getPattern(ae[1],ae[2]);return ne}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(ae,ne,fe){var Ee;const Se=((Ee=this.selectColor)==null?void 0:Ee.call(this,ae,ne,fe))||O.Util.makeHexColor(ae,ne,fe);this.ctx.strokeStyle=Se,this.current.strokeColor=Se}setFillRGBColor(ae,ne,fe){var Ee;const Se=((Ee=this.selectColor)==null?void 0:Ee.call(this,ae,ne,fe))||O.Util.makeHexColor(ae,ne,fe);this.ctx.fillStyle=Se,this.current.fillColor=Se,this.current.patternFill=!1}_getPattern(ae,ne=null){let fe;return this.cachedPatterns.has(ae)?fe=this.cachedPatterns.get(ae):(fe=(0,B.getShadingPattern)(this.objs.get(ae)),this.cachedPatterns.set(ae,fe)),ne&&(fe.matrix=ne),fe}shadingFill(ae){if(!this.contentVisible)return;const ne=this.ctx;this.save();const fe=this._getPattern(ae);ne.fillStyle=fe.getPattern(ne,this,(0,R.getCurrentTransformInverse)(ne),B.PathType.SHADING);const Se=(0,R.getCurrentTransformInverse)(ne);if(Se){const Ee=ne.canvas,ke=Ee.width,Fe=Ee.height,He=O.Util.applyTransform([0,0],Se),rt=O.Util.applyTransform([0,Fe],Se),Je=O.Util.applyTransform([ke,0],Se),tt=O.Util.applyTransform([ke,Fe],Se),ze=Math.min(He[0],rt[0],Je[0],tt[0]),oe=Math.min(He[1],rt[1],Je[1],tt[1]),le=Math.max(He[0],rt[0],Je[0],tt[0]),ve=Math.max(He[1],rt[1],Je[1],tt[1]);this.ctx.fillRect(ze,oe,le-ze,ve-oe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,O.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,O.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(ae,ne){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(ae)&&ae.length===6&&this.transform(...ae),this.baseTransform=(0,R.getCurrentTransform)(this.ctx),ne)){const fe=ne[2]-ne[0],Se=ne[3]-ne[1];this.ctx.rect(ne[0],ne[1],fe,Se),this.current.updateRectMinMax((0,R.getCurrentTransform)(this.ctx),ne),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(ae){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const ne=this.ctx;ae.isolated||(0,O.info)("TODO: Support non-isolated groups."),ae.knockout&&(0,O.warn)("Knockout groups not supported.");const fe=(0,R.getCurrentTransform)(ne);if(ae.matrix&&ne.transform(...ae.matrix),!ae.bbox)throw new Error("Bounding box is required.");let Se=O.Util.getAxialAlignedBoundingBox(ae.bbox,(0,R.getCurrentTransform)(ne));const Ee=[0,0,ne.canvas.width,ne.canvas.height];Se=O.Util.intersect(Se,Ee)||[0,0,0,0];const ke=Math.floor(Se[0]),Fe=Math.floor(Se[1]);let He=Math.max(Math.ceil(Se[2])-ke,1),rt=Math.max(Math.ceil(Se[3])-Fe,1),Je=1,tt=1;He>re&&(Je=He/re,He=re),rt>re&&(tt=rt/re,rt=re),this.current.startNewPathAndClipBox([0,0,He,rt]);let ze="groupAt"+this.groupLevel;ae.smask&&(ze+="_smask_"+this.smaskCounter++%2);const oe=this.cachedCanvases.getCanvas(ze,He,rt),le=oe.context;le.scale(1/Je,1/tt),le.translate(-ke,-Fe),le.transform(...fe),ae.smask?this.smaskStack.push({canvas:oe.canvas,context:le,offsetX:ke,offsetY:Fe,scaleX:Je,scaleY:tt,subtype:ae.smask.subtype,backdrop:ae.smask.backdrop,transferMap:ae.smask.transferMap||null,startTransformInverse:null}):(ne.setTransform(1,0,0,1,0,0),ne.translate(ke,Fe),ne.scale(Je,tt),ne.save()),W(ne,le),this.ctx=le,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(ne),this.groupLevel++}endGroup(ae){if(!this.contentVisible)return;this.groupLevel--;const ne=this.ctx,fe=this.groupStack.pop();if(this.ctx=fe,this.ctx.imageSmoothingEnabled=!1,ae.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Se=(0,R.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Se);const Ee=O.Util.getAxialAlignedBoundingBox([0,0,ne.canvas.width,ne.canvas.height],Se);this.ctx.drawImage(ne.canvas,0,0),this.ctx.restore(),this.compose(Ee)}}beginAnnotation(ae,ne,fe,Se,Ee){if(ft(this,Te,Lr).call(this),X(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(ne)&&ne.length===4){const ke=ne[2]-ne[0],Fe=ne[3]-ne[1];if(Ee&&this.annotationCanvasMap){fe=fe.slice(),fe[4]-=ne[0],fe[5]-=ne[1],ne=ne.slice(),ne[0]=ne[1]=0,ne[2]=ke,ne[3]=Fe;const[He,rt]=O.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(this.ctx)),{viewportScale:Je}=this,tt=Math.ceil(ke*this.outputScaleX*Je),ze=Math.ceil(Fe*this.outputScaleY*Je);this.annotationCanvas=this.canvasFactory.create(tt,ze);const{canvas:oe,context:le}=this.annotationCanvas;this.annotationCanvasMap.set(ae,oe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=le,this.ctx.setTransform(He,0,0,-rt,0,Fe*rt),X(this.ctx,this.foregroundColor)}else X(this.ctx,this.foregroundColor),this.ctx.rect(ne[0],ne[1],ke,Fe),this.ctx.clip(),this.endPath()}this.current=new q(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...fe),this.transform(...Se)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(ae){if(!this.contentVisible)return;const ne=ae.count;ae=this.getObject(ae.data,ae),ae.count=ne;const fe=this.ctx,Se=this.processingType3;if(Se&&(Se.compiled===void 0&&(Se.compiled=V(ae)),Se.compiled)){Se.compiled(fe);return}const Ee=this._createMaskCanvas(ae),ke=Ee.canvas;fe.save(),fe.setTransform(1,0,0,1,0,0),fe.drawImage(ke,Ee.offsetX,Ee.offsetY),fe.restore(),this.compose()}paintImageMaskXObjectRepeat(ae,ne,fe=0,Se=0,Ee,ke){if(!this.contentVisible)return;ae=this.getObject(ae.data,ae);const Fe=this.ctx;Fe.save();const He=(0,R.getCurrentTransform)(Fe);Fe.transform(ne,fe,Se,Ee,0,0);const rt=this._createMaskCanvas(ae);Fe.setTransform(1,0,0,1,rt.offsetX-He[4],rt.offsetY-He[5]);for(let Je=0,tt=ke.length;Je<tt;Je+=2){const ze=O.Util.transform(He,[ne,fe,Se,Ee,ke[Je],ke[Je+1]]),[oe,le]=O.Util.applyTransform([0,0],ze);Fe.drawImage(rt.canvas,oe,le)}Fe.restore(),this.compose()}paintImageMaskXObjectGroup(ae){if(!this.contentVisible)return;const ne=this.ctx,fe=this.current.fillColor,Se=this.current.patternFill;for(const Ee of ae){const{data:ke,width:Fe,height:He,transform:rt}=Ee,Je=this.cachedCanvases.getCanvas("maskCanvas",Fe,He),tt=Je.context;tt.save();const ze=this.getObject(ke,Ee);Z(tt,ze),tt.globalCompositeOperation="source-in",tt.fillStyle=Se?fe.getPattern(tt,this,(0,R.getCurrentTransformInverse)(ne),B.PathType.FILL):fe,tt.fillRect(0,0,Fe,He),tt.restore(),ne.save(),ne.transform(...rt),ne.scale(1,-1),U(ne,Je.canvas,0,0,Fe,He,0,-1,1,1),ne.restore()}this.compose()}paintImageXObject(ae){if(!this.contentVisible)return;const ne=this.getObject(ae);if(!ne){(0,O.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(ne)}paintImageXObjectRepeat(ae,ne,fe,Se){if(!this.contentVisible)return;const Ee=this.getObject(ae);if(!Ee){(0,O.warn)("Dependent image isn't ready yet");return}const ke=Ee.width,Fe=Ee.height,He=[];for(let rt=0,Je=Se.length;rt<Je;rt+=2)He.push({transform:[ne,0,0,fe,Se[rt],Se[rt+1]],x:0,y:0,w:ke,h:Fe});this.paintInlineImageXObjectGroup(Ee,He)}paintInlineImageXObject(ae){if(!this.contentVisible)return;const ne=ae.width,fe=ae.height,Se=this.ctx;this.save(),Se.scale(1/ne,-1/fe);let Ee;if(typeof HTMLElement=="function"&&ae instanceof HTMLElement||!ae.data)Ee=ae;else{const Fe=this.cachedCanvases.getCanvas("inlineImage",ne,fe),He=Fe.context;Q(He,ae,this.current.transferMaps),Ee=Fe.canvas}const ke=this._scaleImage(Ee,(0,R.getCurrentTransformInverse)(Se));Se.imageSmoothingEnabled=$e((0,R.getCurrentTransform)(Se),ae.interpolate),U(Se,ke.img,0,0,ke.paintWidth,ke.paintHeight,0,-fe,ne,fe),this.compose(),this.restore()}paintInlineImageXObjectGroup(ae,ne){if(!this.contentVisible)return;const fe=this.ctx,Se=ae.width,Ee=ae.height,ke=this.cachedCanvases.getCanvas("inlineImage",Se,Ee),Fe=ke.context;Q(Fe,ae,this.current.transferMaps);for(const He of ne)fe.save(),fe.transform(...He.transform),fe.scale(1,-1),U(fe,ke.canvas,He.x,He.y,He.w,He.h,0,-1,1,1),fe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(ae){}markPointProps(ae,ne){}beginMarkedContent(ae){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(ae,ne){ae==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(ne)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(ae){const ne=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(ae);const fe=this.ctx;this.pendingClip&&(ne||(this.pendingClip===Ie?fe.clip("evenodd"):fe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),fe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const ae=(0,R.getCurrentTransform)(this.ctx);if(ae[1]===0&&ae[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(ae[0]),Math.abs(ae[3]));else{const ne=Math.abs(ae[0]*ae[3]-ae[2]*ae[1]),fe=Math.hypot(ae[0],ae[2]),Se=Math.hypot(ae[1],ae[3]);this._cachedGetSinglePixelWidth=Math.max(fe,Se)/ne}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:ae}=this.current,ne=(0,R.getCurrentTransform)(this.ctx);let fe,Se;if(ne[1]===0&&ne[2]===0){const Ee=Math.abs(ne[0]),ke=Math.abs(ne[3]);if(ae===0)fe=1/Ee,Se=1/ke;else{const Fe=Ee*ae,He=ke*ae;fe=Fe<1?1/Fe:1,Se=He<1?1/He:1}}else{const Ee=Math.abs(ne[0]*ne[3]-ne[2]*ne[1]),ke=Math.hypot(ne[0],ne[1]),Fe=Math.hypot(ne[2],ne[3]);if(ae===0)fe=Fe/Ee,Se=ke/Ee;else{const He=ae*Ee;fe=Fe>He?Fe/He:1,Se=ke>He?ke/He:1}}this._cachedScaleForStroking=[fe,Se]}return this._cachedScaleForStroking}rescaleAndStroke(ae){const{ctx:ne}=this,{lineWidth:fe}=this.current,[Se,Ee]=this.getScaleForStroking();if(ne.lineWidth=fe||1,Se===1&&Ee===1){ne.stroke();return}let ke,Fe,He;ae&&(ke=(0,R.getCurrentTransform)(ne),Fe=ne.getLineDash().slice(),He=ne.lineDashOffset),ne.scale(Se,Ee);const rt=Math.max(Se,Ee);ne.setLineDash(ne.getLineDash().map(Je=>Je/rt)),ne.lineDashOffset/=rt,ne.stroke(),ae&&(ne.setTransform(...ke),ne.setLineDash(Fe),ne.lineDashOffset=He)}isContentVisible(){for(let ae=this.markedContentStack.length-1;ae>=0;ae--)if(!this.markedContentStack[ae].visible)return!1;return!0}};let Me=Ze;Te=new WeakSet,Lr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$.CanvasGraphics=Me;for(const ye in O.OPS)Me.prototype[ye]!==void 0&&(Me.prototype[O.OPS[ye]]=Me.prototype[ye])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=K;var O=H(1),R=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function ie(U,V){if(!V)return;const q=V[2]-V[0],Q=V[3]-V[1],Z=new Path2D;Z.rect(V[0],V[1],q,Q),U.clip(Z)}class se{constructor(){this.constructor===se&&(0,O.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,O.unreachable)("Abstract method `getPattern` called.")}}class he extends se{constructor(V){super(),this._type=V[1],this._bbox=V[2],this._colorStops=V[3],this._p0=V[4],this._p1=V[5],this._r0=V[6],this._r1=V[7],this.matrix=null}_createGradient(V){let q;this._type==="axial"?q=V.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(q=V.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Q of this._colorStops)q.addColorStop(Q[0],Q[1]);return q}getPattern(V,q,Q,Z){let W;if(Z===B.STROKE||Z===B.FILL){const X=q.current.getClippedPathBoundingBox(Z,(0,R.getCurrentTransform)(V))||[0,0,0,0],ue=Math.ceil(X[2]-X[0])||1,be=Math.ceil(X[3]-X[1])||1,_e=q.cachedCanvases.getCanvas("pattern",ue,be,!0),Pe=_e.context;Pe.clearRect(0,0,Pe.canvas.width,Pe.canvas.height),Pe.beginPath(),Pe.rect(0,0,Pe.canvas.width,Pe.canvas.height),Pe.translate(-X[0],-X[1]),Q=O.Util.transform(Q,[1,0,0,1,X[0],X[1]]),Pe.transform(...q.baseTransform),this.matrix&&Pe.transform(...this.matrix),ie(Pe,this._bbox),Pe.fillStyle=this._createGradient(Pe),Pe.fill(),W=V.createPattern(_e.canvas,"no-repeat");const ce=new DOMMatrix(Q);W.setTransform(ce)}else ie(V,this._bbox),W=this._createGradient(V);return W}}function re(U,V,q,Q,Z,W,X,ue){const be=V.coords,_e=V.colors,Pe=U.data,ce=U.width*4;let $e;be[q+1]>be[Q+1]&&($e=q,q=Q,Q=$e,$e=W,W=X,X=$e),be[Q+1]>be[Z+1]&&($e=Q,Q=Z,Z=$e,$e=X,X=ue,ue=$e),be[q+1]>be[Q+1]&&($e=q,q=Q,Q=$e,$e=W,W=X,X=$e);const Xe=(be[q]+V.offsetX)*V.scaleX,De=(be[q+1]+V.offsetY)*V.scaleY,Ge=(be[Q]+V.offsetX)*V.scaleX,Ie=(be[Q+1]+V.offsetY)*V.scaleY,Me=(be[Z]+V.offsetX)*V.scaleX,Te=(be[Z+1]+V.offsetY)*V.scaleY;if(De>=Te)return;const et=_e[W],Ze=_e[W+1],ye=_e[W+2],ae=_e[X],ne=_e[X+1],fe=_e[X+2],Se=_e[ue],Ee=_e[ue+1],ke=_e[ue+2],Fe=Math.round(De),He=Math.round(Te);let rt,Je,tt,ze,oe,le,ve,Ae;for(let ge=Fe;ge<=He;ge++){if(ge<Ie){let Ue;ge<De?Ue=0:Ue=(De-ge)/(De-Ie),rt=Xe-(Xe-Ge)*Ue,Je=et-(et-ae)*Ue,tt=Ze-(Ze-ne)*Ue,ze=ye-(ye-fe)*Ue}else{let Ue;ge>Te?Ue=1:Ie===Te?Ue=0:Ue=(Ie-ge)/(Ie-Te),rt=Ge-(Ge-Me)*Ue,Je=ae-(ae-Se)*Ue,tt=ne-(ne-Ee)*Ue,ze=fe-(fe-ke)*Ue}let we;ge<De?we=0:ge>Te?we=1:we=(De-ge)/(De-Te),oe=Xe-(Xe-Me)*we,le=et-(et-Se)*we,ve=Ze-(Ze-Ee)*we,Ae=ye-(ye-ke)*we;const Qe=Math.round(Math.min(rt,oe)),st=Math.round(Math.max(rt,oe));let it=ce*ge+Qe*4;for(let Ue=Qe;Ue<=st;Ue++)we=(rt-Ue)/(rt-oe),we<0?we=0:we>1&&(we=1),Pe[it++]=Je-(Je-le)*we|0,Pe[it++]=tt-(tt-ve)*we|0,Pe[it++]=ze-(ze-Ae)*we|0,Pe[it++]=255}}function te(U,V,q){const Q=V.coords,Z=V.colors;let W,X;switch(V.type){case"lattice":const ue=V.verticesPerRow,be=Math.floor(Q.length/ue)-1,_e=ue-1;for(W=0;W<be;W++){let Pe=W*ue;for(let ce=0;ce<_e;ce++,Pe++)re(U,q,Q[Pe],Q[Pe+1],Q[Pe+ue],Z[Pe],Z[Pe+1],Z[Pe+ue]),re(U,q,Q[Pe+ue+1],Q[Pe+1],Q[Pe+ue],Z[Pe+ue+1],Z[Pe+1],Z[Pe+ue])}break;case"triangles":for(W=0,X=Q.length;W<X;W+=3)re(U,q,Q[W],Q[W+1],Q[W+2],Z[W],Z[W+1],Z[W+2]);break;default:throw new Error("illegal figure")}}class pe extends se{constructor(V){super(),this._coords=V[2],this._colors=V[3],this._figures=V[4],this._bounds=V[5],this._bbox=V[7],this._background=V[8],this.matrix=null}_createMeshCanvas(V,q,Q){const ue=Math.floor(this._bounds[0]),be=Math.floor(this._bounds[1]),_e=Math.ceil(this._bounds[2])-ue,Pe=Math.ceil(this._bounds[3])-be,ce=Math.min(Math.ceil(Math.abs(_e*V[0]*1.1)),3e3),$e=Math.min(Math.ceil(Math.abs(Pe*V[1]*1.1)),3e3),Xe=_e/ce,De=Pe/$e,Ge={coords:this._coords,colors:this._colors,offsetX:-ue,offsetY:-be,scaleX:1/Xe,scaleY:1/De},Ie=ce+2*2,Me=$e+2*2,Te=Q.getCanvas("mesh",Ie,Me,!1),et=Te.context,Ze=et.createImageData(ce,$e);if(q){const ae=Ze.data;for(let ne=0,fe=ae.length;ne<fe;ne+=4)ae[ne]=q[0],ae[ne+1]=q[1],ae[ne+2]=q[2],ae[ne+3]=255}for(const ae of this._figures)te(Ze,ae,Ge);return et.putImageData(Ze,2,2),{canvas:Te.canvas,offsetX:ue-2*Xe,offsetY:be-2*De,scaleX:Xe,scaleY:De}}getPattern(V,q,Q,Z){ie(V,this._bbox);let W;if(Z===B.SHADING)W=O.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(V));else if(W=O.Util.singularValueDecompose2dScale(q.baseTransform),this.matrix){const ue=O.Util.singularValueDecompose2dScale(this.matrix);W=[W[0]*ue[0],W[1]*ue[1]]}const X=this._createMeshCanvas(W,Z===B.SHADING?null:this._background,q.cachedCanvases);return Z!==B.SHADING&&(V.setTransform(...q.baseTransform),this.matrix&&V.transform(...this.matrix)),V.translate(X.offsetX,X.offsetY),V.scale(X.scaleX,X.scaleY),V.createPattern(X.canvas,"no-repeat")}}class J extends se{getPattern(){return"hotpink"}}function K(U){switch(U[0]){case"RadialAxial":return new he(U);case"Mesh":return new pe(U);case"Dummy":return new J}throw new Error(`Unknown IR type: ${U[0]}`)}const Y={COLORED:1,UNCOLORED:2};class G{static get MAX_PATTERN_SIZE(){return(0,O.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(V,q,Q,Z,W){this.operatorList=V[2],this.matrix=V[3]||[1,0,0,1,0,0],this.bbox=V[4],this.xstep=V[5],this.ystep=V[6],this.paintType=V[7],this.tilingType=V[8],this.color=q,this.ctx=Q,this.canvasGraphicsFactory=Z,this.baseTransform=W}createPatternCanvas(V){const q=this.operatorList,Q=this.bbox,Z=this.xstep,W=this.ystep,X=this.paintType,ue=this.tilingType,be=this.color,_e=this.canvasGraphicsFactory;(0,O.info)("TilingType: "+ue);const Pe=Q[0],ce=Q[1],$e=Q[2],Xe=Q[3],De=O.Util.singularValueDecompose2dScale(this.matrix),Ge=O.Util.singularValueDecompose2dScale(this.baseTransform),Ie=[De[0]*Ge[0],De[1]*Ge[1]],Me=this.getSizeAndScale(Z,this.ctx.canvas.width,Ie[0]),Te=this.getSizeAndScale(W,this.ctx.canvas.height,Ie[1]),et=V.cachedCanvases.getCanvas("pattern",Me.size,Te.size,!0),Ze=et.context,ye=_e.createCanvasGraphics(Ze);ye.groupLevel=V.groupLevel,this.setFillAndStrokeStyleToContext(ye,X,be);let ae=Pe,ne=ce,fe=$e,Se=Xe;return Pe<0&&(ae=0,fe+=Math.abs(Pe)),ce<0&&(ne=0,Se+=Math.abs(ce)),Ze.translate(-(Me.scale*ae),-(Te.scale*ne)),ye.transform(Me.scale,0,0,Te.scale,0,0),Ze.save(),this.clipBbox(ye,ae,ne,fe,Se),ye.baseTransform=(0,R.getCurrentTransform)(ye.ctx),ye.executeOperatorList(q),ye.endDrawing(),{canvas:et.canvas,scaleX:Me.scale,scaleY:Te.scale,offsetX:ae,offsetY:ne}}getSizeAndScale(V,q,Q){V=Math.abs(V);const Z=Math.max(G.MAX_PATTERN_SIZE,q);let W=Math.ceil(V*Q);return W>=Z?W=Z:Q=W/V,{scale:Q,size:W}}clipBbox(V,q,Q,Z,W){const X=Z-q,ue=W-Q;V.ctx.rect(q,Q,X,ue),V.current.updateRectMinMax((0,R.getCurrentTransform)(V.ctx),[q,Q,Z,W]),V.clip(),V.endPath()}setFillAndStrokeStyleToContext(V,q,Q){const Z=V.ctx,W=V.current;switch(q){case Y.COLORED:const X=this.ctx;Z.fillStyle=X.fillStyle,Z.strokeStyle=X.strokeStyle,W.fillColor=X.fillStyle,W.strokeColor=X.strokeStyle;break;case Y.UNCOLORED:const ue=O.Util.makeHexColor(Q[0],Q[1],Q[2]);Z.fillStyle=ue,Z.strokeStyle=ue,W.fillColor=ue,W.strokeColor=ue;break;default:throw new O.FormatError(`Unsupported paint type: ${q}`)}}getPattern(V,q,Q,Z){let W=Q;Z!==B.SHADING&&(W=O.Util.transform(W,q.baseTransform),this.matrix&&(W=O.Util.transform(W,this.matrix)));const X=this.createPatternCanvas(q);let ue=new DOMMatrix(W);ue=ue.translate(X.offsetX,X.offsetY),ue=ue.scale(1/X.scaleX,1/X.scaleY);const be=V.createPattern(X.canvas,"repeat");return be.setTransform(ue),be}}$.TilingPattern=G},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=R;var O=H(1);function R({src:B,srcPos:ie=0,dest:se,destPos:he=0,width:re,height:te,inverseDecode:pe=!1}){const J=O.FeatureTest.isLittleEndian?4278190080:255,[K,Y]=pe?[0,J]:[J,0],G=re>>3,U=re&7,V=B.length;se=new Uint32Array(se.buffer);for(let q=0;q<te;q++){for(const Z=ie+G;ie<Z;ie++){const W=ie<V?B[ie]:255;se[he++]=W&128?Y:K,se[he++]=W&64?Y:K,se[he++]=W&32?Y:K,se[he++]=W&16?Y:K,se[he++]=W&8?Y:K,se[he++]=W&4?Y:K,se[he++]=W&2?Y:K,se[he++]=W&1?Y:K}if(U===0)continue;const Q=ie<V?B[ie++]:255;for(let Z=0;Z<U;Z++)se[he++]=Q&1<<7-Z?Y:K}return{srcPos:ie,destPos:he}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var O=H(1);const R={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ie(he){switch(he instanceof Error||typeof he=="object"&&he!==null||(0,O.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),he.name){case"AbortException":return new O.AbortException(he.message);case"MissingPDFException":return new O.MissingPDFException(he.message);case"PasswordException":return new O.PasswordException(he.message,he.code);case"UnexpectedResponseException":return new O.UnexpectedResponseException(he.message,he.status);case"UnknownErrorException":return new O.UnknownErrorException(he.message,he.details);default:return new O.UnknownErrorException(he.message,he.toString())}}class se{constructor(re,te,pe){this.sourceName=re,this.targetName=te,this.comObj=pe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=J=>{const K=J.data;if(K.targetName!==this.sourceName)return;if(K.stream){this._processStreamMessage(K);return}if(K.callback){const G=K.callbackId,U=this.callbackCapabilities[G];if(!U)throw new Error(`Cannot resolve callback ${G}`);if(delete this.callbackCapabilities[G],K.callback===R.DATA)U.resolve(K.data);else if(K.callback===R.ERROR)U.reject(ie(K.reason));else throw new Error("Unexpected callback case");return}const Y=this.actionHandler[K.action];if(!Y)throw new Error(`Unknown action from worker: ${K.action}`);if(K.callbackId){const G=this.sourceName,U=K.sourceName;new Promise(function(V){V(Y(K.data))}).then(function(V){pe.postMessage({sourceName:G,targetName:U,callback:R.DATA,callbackId:K.callbackId,data:V})},function(V){pe.postMessage({sourceName:G,targetName:U,callback:R.ERROR,callbackId:K.callbackId,reason:ie(V)})});return}if(K.streamId){this._createStreamSink(K);return}Y(K.data)},pe.addEventListener("message",this._onComObjOnMessage)}on(re,te){const pe=this.actionHandler;if(pe[re])throw new Error(`There is already an actionName called "${re}"`);pe[re]=te}send(re,te,pe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:re,data:te},pe)}sendWithPromise(re,te,pe){const J=this.callbackId++,K=(0,O.createPromiseCapability)();this.callbackCapabilities[J]=K;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:re,callbackId:J,data:te},pe)}catch(Y){K.reject(Y)}return K.promise}sendWithStream(re,te,pe,J){const K=this.streamId++,Y=this.sourceName,G=this.targetName,U=this.comObj;return new ReadableStream({start:V=>{const q=(0,O.createPromiseCapability)();return this.streamControllers[K]={controller:V,startCall:q,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:Y,targetName:G,action:re,streamId:K,data:te,desiredSize:V.desiredSize},J),q.promise},pull:V=>{const q=(0,O.createPromiseCapability)();return this.streamControllers[K].pullCall=q,U.postMessage({sourceName:Y,targetName:G,stream:B.PULL,streamId:K,desiredSize:V.desiredSize}),q.promise},cancel:V=>{(0,O.assert)(V instanceof Error,"cancel must have a valid reason");const q=(0,O.createPromiseCapability)();return this.streamControllers[K].cancelCall=q,this.streamControllers[K].isClosed=!0,U.postMessage({sourceName:Y,targetName:G,stream:B.CANCEL,streamId:K,reason:ie(V)}),q.promise}},pe)}_createStreamSink(re){const te=re.streamId,pe=this.sourceName,J=re.sourceName,K=this.comObj,Y=this,G=this.actionHandler[re.action],U={enqueue(V,q=1,Q){if(this.isCancelled)return;const Z=this.desiredSize;this.desiredSize-=q,Z>0&&this.desiredSize<=0&&(this.sinkCapability=(0,O.createPromiseCapability)(),this.ready=this.sinkCapability.promise),K.postMessage({sourceName:pe,targetName:J,stream:B.ENQUEUE,streamId:te,chunk:V},Q)},close(){this.isCancelled||(this.isCancelled=!0,K.postMessage({sourceName:pe,targetName:J,stream:B.CLOSE,streamId:te}),delete Y.streamSinks[te])},error(V){(0,O.assert)(V instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,K.postMessage({sourceName:pe,targetName:J,stream:B.ERROR,streamId:te,reason:ie(V)}))},sinkCapability:(0,O.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:re.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[te]=U,new Promise(function(V){V(G(re.data,U))}).then(function(){K.postMessage({sourceName:pe,targetName:J,stream:B.START_COMPLETE,streamId:te,success:!0})},function(V){K.postMessage({sourceName:pe,targetName:J,stream:B.START_COMPLETE,streamId:te,reason:ie(V)})})}_processStreamMessage(re){const te=re.streamId,pe=this.sourceName,J=re.sourceName,K=this.comObj,Y=this.streamControllers[te],G=this.streamSinks[te];switch(re.stream){case B.START_COMPLETE:re.success?Y.startCall.resolve():Y.startCall.reject(ie(re.reason));break;case B.PULL_COMPLETE:re.success?Y.pullCall.resolve():Y.pullCall.reject(ie(re.reason));break;case B.PULL:if(!G){K.postMessage({sourceName:pe,targetName:J,stream:B.PULL_COMPLETE,streamId:te,success:!0});break}G.desiredSize<=0&&re.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=re.desiredSize,new Promise(function(U){U(G.onPull&&G.onPull())}).then(function(){K.postMessage({sourceName:pe,targetName:J,stream:B.PULL_COMPLETE,streamId:te,success:!0})},function(U){K.postMessage({sourceName:pe,targetName:J,stream:B.PULL_COMPLETE,streamId:te,reason:ie(U)})});break;case B.ENQUEUE:if((0,O.assert)(Y,"enqueue should have stream controller"),Y.isClosed)break;Y.controller.enqueue(re.chunk);break;case B.CLOSE:if((0,O.assert)(Y,"close should have stream controller"),Y.isClosed)break;Y.isClosed=!0,Y.controller.close(),this._deleteStreamController(Y,te);break;case B.ERROR:(0,O.assert)(Y,"error should have stream controller"),Y.controller.error(ie(re.reason)),this._deleteStreamController(Y,te);break;case B.CANCEL_COMPLETE:re.success?Y.cancelCall.resolve():Y.cancelCall.reject(ie(re.reason)),this._deleteStreamController(Y,te);break;case B.CANCEL:if(!G)break;new Promise(function(U){U(G.onCancel&&G.onCancel(ie(re.reason)))}).then(function(){K.postMessage({sourceName:pe,targetName:J,stream:B.CANCEL_COMPLETE,streamId:te,success:!0})},function(U){K.postMessage({sourceName:pe,targetName:J,stream:B.CANCEL_COMPLETE,streamId:te,reason:ie(U)})}),G.sinkCapability.reject(ie(re.reason)),G.isCancelled=!0,delete this.streamSinks[te];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(re,te){await Promise.allSettled([re.startCall&&re.startCall.promise,re.pullCall&&re.pullCall.promise,re.cancelCall&&re.cancelCall.promise]),delete this.streamControllers[te]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=se},(A,$,H)=>{var B,ie;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var O=H(1);class R{constructor({parsedData:he,rawData:re}){at(this,B,void 0);at(this,ie,void 0);St(this,B,he),St(this,ie,re)}getRaw(){return me(this,ie)}get(he){return me(this,B).get(he)??null}getAll(){return(0,O.objectFromMap)(me(this,B))}has(he){return me(this,B).has(he)}}B=new WeakMap,ie=new WeakMap,$.Metadata=R},(A,$,H)=>{var he,re,te,pe,J,K,Dr;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var O=H(1),R=H(8);const B=Symbol("INTERNAL");class ie{constructor(U,V){at(this,he,!0);this.name=U,this.intent=V}get visible(){return me(this,he)}_setVisible(U,V){U!==B&&(0,O.unreachable)("Internal method `_setVisible` called."),St(this,he,V)}}he=new WeakMap;class se{constructor(U){at(this,K);at(this,re,null);at(this,te,new Map);at(this,pe,null);at(this,J,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,St(this,J,U.order);for(const V of U.groups)me(this,te).set(V.id,new ie(V.name,V.intent));if(U.baseState==="OFF")for(const V of me(this,te).values())V._setVisible(B,!1);for(const V of U.on)me(this,te).get(V)._setVisible(B,!0);for(const V of U.off)me(this,te).get(V)._setVisible(B,!1);St(this,pe,this.getHash())}}isVisible(U){if(me(this,te).size===0)return!0;if(!U)return(0,O.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return me(this,te).has(U.id)?me(this,te).get(U.id).visible:((0,O.warn)(`Optional content group not found: ${U.id}`),!0);if(U.type==="OCMD"){if(U.expression)return ft(this,K,Dr).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const V of U.ids){if(!me(this,te).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(me(this,te).get(V).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const V of U.ids){if(!me(this,te).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(!me(this,te).get(V).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const V of U.ids){if(!me(this,te).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(!me(this,te).get(V).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const V of U.ids){if(!me(this,te).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(me(this,te).get(V).visible)return!1}return!0}return(0,O.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,O.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,V=!0){if(!me(this,te).has(U)){(0,O.warn)(`Optional content group not found: ${U}`);return}me(this,te).get(U)._setVisible(B,!!V),St(this,re,null)}get hasInitialVisibility(){return this.getHash()===me(this,pe)}getOrder(){return me(this,te).size?me(this,J)?me(this,J).slice():[...me(this,te).keys()]:null}getGroups(){return me(this,te).size>0?(0,O.objectFromMap)(me(this,te)):null}getGroup(U){return me(this,te).get(U)||null}getHash(){if(me(this,re)!==null)return me(this,re);const U=new R.MurmurHash3_64;for(const[V,q]of me(this,te))U.update(`${V}:${q.visible}`);return St(this,re,U.hexdigest())}}re=new WeakMap,te=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakSet,Dr=function(U){const V=U.length;if(V<2)return!0;const q=U[0];for(let Q=1;Q<V;Q++){const Z=U[Q];let W;if(Array.isArray(Z))W=ft(this,K,Dr).call(this,Z);else if(me(this,te).has(Z))W=me(this,te).get(Z).visible;else return(0,O.warn)(`Optional content group not found: ${Z}`),!0;switch(q){case"And":if(!W)return!1;break;case"Or":if(W)return!0;break;case"Not":return!W;default:return!0}}return q==="And"},$.OptionalContentConfig=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var O=H(1),R=H(6);class B{constructor({length:re,initialData:te,progressiveDone:pe=!1,contentDispositionFilename:J=null,disableRange:K=!1,disableStream:Y=!1},G){if((0,O.assert)(G,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=pe,this._contentDispositionFilename=J,(te==null?void 0:te.length)>0){const U=te instanceof Uint8Array&&te.byteLength===te.buffer.byteLength?te.buffer:new Uint8Array(te).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=G,this._isStreamingSupported=!Y,this._isRangeSupported=!K,this._contentLength=re,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,V)=>{this._onReceiveData({begin:U,chunk:V})}),this._pdfDataRangeTransport.addProgressListener((U,V)=>{this._onProgress({loaded:U,total:V})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:re,chunk:te}){const pe=te instanceof Uint8Array&&te.byteLength===te.buffer.byteLength?te.buffer:new Uint8Array(te).buffer;if(re===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(pe):this._queuedChunks.push(pe);else{const J=this._rangeReaders.some(function(K){return K._begin!==re?!1:(K._enqueue(pe),!0)});(0,O.assert)(J,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var re;return((re=this._fullRequestReader)==null?void 0:re._loaded)??0}_onProgress(re){var te,pe,J,K;re.total===void 0?(pe=(te=this._rangeReaders[0])==null?void 0:te.onProgress)==null||pe.call(te,{loaded:re.loaded}):(K=(J=this._fullRequestReader)==null?void 0:J.onProgress)==null||K.call(J,{loaded:re.loaded,total:re.total})}_onProgressiveDone(){var re;(re=this._fullRequestReader)==null||re.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(re){const te=this._rangeReaders.indexOf(re);te>=0&&this._rangeReaders.splice(te,1)}getFullReader(){(0,O.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const re=this._queuedChunks;return this._queuedChunks=null,new ie(this,re,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(re,te){if(te<=this._progressiveDataLength)return null;const pe=new se(this,re,te);return this._pdfDataRangeTransport.requestDataRange(re,te),this._rangeReaders.push(pe),pe}cancelAllRequests(re){var te;(te=this._fullRequestReader)==null||te.cancel(re);for(const pe of this._rangeReaders.slice(0))pe.cancel(re);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class ie{constructor(re,te,pe=!1,J=null){this._stream=re,this._done=pe||!1,this._filename=(0,R.isPdfFile)(J)?J:null,this._queuedChunks=te||[],this._loaded=0;for(const K of this._queuedChunks)this._loaded+=K.byteLength;this._requests=[],this._headersReady=Promise.resolve(),re._fullRequestReader=this,this.onProgress=null}_enqueue(re){this._done||(this._requests.length>0?this._requests.shift().resolve({value:re,done:!1}):this._queuedChunks.push(re),this._loaded+=re.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const re=(0,O.createPromiseCapability)();return this._requests.push(re),re.promise}cancel(re){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class se{constructor(re,te,pe){this._stream=re,this._begin=te,this._end=pe,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(re){if(!this._done){if(this._requests.length===0)this._queuedChunk=re;else{this._requests.shift().resolve({value:re,done:!1});for(const pe of this._requests)pe.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const te=this._queuedChunk;return this._queuedChunk=null,{value:te,done:!1}}if(this._done)return{value:void 0,done:!0};const re=(0,O.createPromiseCapability)();return this._requests.push(re),re.promise}cancel(re){this._done=!0;for(const te of this._requests)te.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(R){const B=[],ie={items:B,styles:Object.create(null)};function se(he){var pe;if(!he)return;let re=null;const te=he.name;if(te==="#text")re=he.value;else if(H.shouldBuildText(te))(pe=he==null?void 0:he.attributes)!=null&&pe.textContent?re=he.attributes.textContent:he.value&&(re=he.value);else return;if(re!==null&&B.push({str:re}),!!he.children)for(const J of he.children)se(J)}return se(R),ie}static shouldBuildText(R){return!(R==="textarea"||R==="input"||R==="option"||R==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var O=H(7);const R=function(he){return new Promise((re,te)=>{require$$5.readFile(he,(J,K)=>{if(J||!K){te(new Error(J));return}re(new Uint8Array(K))})})};class B extends O.BaseCanvasFactory{_createCanvas(re,te){return require$$5.createCanvas(re,te)}}$.NodeCanvasFactory=B;class ie extends O.BaseCMapReaderFactory{_fetchData(re,te){return R(re).then(pe=>({cMapData:pe,compressionType:te}))}}$.NodeCMapReaderFactory=ie;class se extends O.BaseStandardFontDataFactory{_fetchData(re){return R(re)}}$.NodeStandardFontDataFactory=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var O=H(1),R=H(22);const B=require$$5,ie=require$$5,se=require$$5,he=require$$5,re=/^file:\/\/\/[a-zA-Z]:\//;function te(Q){const Z=he.parse(Q);return Z.protocol==="file:"||Z.host?Z:/^[a-z]:[/\\]/i.test(Q)?he.parse(`file:///${Q}`):(Z.host||(Z.protocol="file:"),Z)}class pe{constructor(Z){this.source=Z,this.url=te(Z.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Z;return((Z=this._fullRequestReader)==null?void 0:Z._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new V(this):new G(this),this._fullRequestReader}getRangeReader(Z,W){if(W<=this._progressiveDataLength)return null;const X=this.isFsUrl?new q(this,Z,W):new U(this,Z,W);return this._rangeRequestReaders.push(X),X}cancelAllRequests(Z){var W;(W=this._fullRequestReader)==null||W.cancel(Z);for(const X of this._rangeRequestReaders.slice(0))X.cancel(Z)}}$.PDFNodeStream=pe;class J{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null;const W=Z.source;this._contentLength=W.length,this._loaded=0,this._filename=null,this._disableRange=W.disableRange||!1,this._rangeChunkSize=W.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!W.disableStream,this._isRangeSupported=!W.disableRange,this._readableStream=null,this._readCapability=(0,O.createPromiseCapability)(),this._headersCapability=(0,O.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Z=this._readableStream.read();return Z===null?(this._readCapability=(0,O.createPromiseCapability)(),this.read()):(this._loaded+=Z.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Z).buffer,done:!1})}cancel(Z){if(!this._readableStream){this._error(Z);return}this._readableStream.destroy(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",W=>{this._error(W)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new O.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class K{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,O.createPromiseCapability)();const W=Z.source;this._isStreamingSupported=!W.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Z=this._readableStream.read();return Z===null?(this._readCapability=(0,O.createPromiseCapability)(),this.read()):(this._loaded+=Z.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded}),{value:new Uint8Array(Z).buffer,done:!1})}cancel(Z){if(!this._readableStream){this._error(Z);return}this._readableStream.destroy(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",W=>{this._error(W)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Y(Q,Z){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:Z}}class G extends J{constructor(Z){super(Z);const W=X=>{if(X.statusCode===404){const Pe=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=Pe,this._headersCapability.reject(Pe);return}this._headersCapability.resolve(),this._setReadableStream(X);const ue=Pe=>this._readableStream.headers[Pe.toLowerCase()],{allowRangeRequests:be,suggestedLength:_e}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:Z.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=be,this._contentLength=_e||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(ue)};this._request=null,this._url.protocol==="http:"?this._request=ie.request(Y(this._url,Z.httpHeaders),W):this._request=se.request(Y(this._url,Z.httpHeaders),W),this._request.on("error",X=>{this._storedError=X,this._headersCapability.reject(X)}),this._request.end()}}class U extends K{constructor(Z,W,X){super(Z),this._httpHeaders={};for(const be in Z.httpHeaders){const _e=Z.httpHeaders[be];_e!==void 0&&(this._httpHeaders[be]=_e)}this._httpHeaders.Range=`bytes=${W}-${X-1}`;const ue=be=>{if(be.statusCode===404){const _e=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=_e;return}this._setReadableStream(be)};this._request=null,this._url.protocol==="http:"?this._request=ie.request(Y(this._url,this._httpHeaders),ue):this._request=se.request(Y(this._url,this._httpHeaders),ue),this._request.on("error",be=>{this._storedError=be}),this._request.end()}}class V extends J{constructor(Z){super(Z);let W=decodeURIComponent(this._url.path);re.test(this._url.href)&&(W=W.replace(/^\//,"")),B.lstat(W,(X,ue)=>{if(X){X.code==="ENOENT"&&(X=new O.MissingPDFException(`Missing PDF "${W}".`)),this._storedError=X,this._headersCapability.reject(X);return}this._contentLength=ue.size,this._setReadableStream(B.createReadStream(W)),this._headersCapability.resolve()})}}class q extends K{constructor(Z,W,X){super(Z);let ue=decodeURIComponent(this._url.path);re.test(this._url.href)&&(ue=ue.replace(/^\//,"")),this._setReadableStream(B.createReadStream(ue,{start:W,end:X-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=he,$.extractFilenameFromHeader=se,$.validateRangeRequestCapabilities=ie,$.validateResponseStatus=re;var O=H(1),R=H(23),B=H(6);function ie({getResponseHeader:te,isHttp:pe,rangeChunkSize:J,disableRange:K}){const Y={allowRangeRequests:!1,suggestedLength:void 0},G=parseInt(te("Content-Length"),10);return!Number.isInteger(G)||(Y.suggestedLength=G,G<=2*J)||K||!pe||te("Accept-Ranges")!=="bytes"||(te("Content-Encoding")||"identity")!=="identity"||(Y.allowRangeRequests=!0),Y}function se(te){const pe=te("Content-Disposition");if(pe){let J=(0,R.getFilenameFromContentDispositionHeader)(pe);if(J.includes("%"))try{J=decodeURIComponent(J)}catch{}if((0,B.isPdfFile)(J))return J}return null}function he(te,pe){return te===404||te===0&&pe.startsWith("file:")?new O.MissingPDFException('Missing PDF "'+pe+'".'):new O.UnexpectedResponseException(`Unexpected server response (${te}) while retrieving PDF "${pe}".`,te)}function re(te){return te===200||te===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=R;var O=H(1);function R(B){let ie=!0,se=he("filename\\*","i").exec(B);if(se){se=se[1];let G=J(se);return G=unescape(G),G=K(G),G=Y(G),te(G)}if(se=pe(B),se){const G=Y(se);return te(G)}if(se=he("filename","i").exec(B),se){se=se[1];let G=J(se);return G=Y(G),te(G)}function he(G,U){return new RegExp("(?:^|;)\\s*"+G+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function re(G,U){if(G){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const V=new TextDecoder(G,{fatal:!0}),q=(0,O.stringToBytes)(U);U=V.decode(q),ie=!1}catch{}}return U}function te(G){return ie&&/[\x80-\xff]/.test(G)&&(G=re("utf-8",G),ie&&(G=re("iso-8859-1",G))),G}function pe(G){const U=[];let V;const q=he("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(V=q.exec(G))!==null;){let[,Z,W,X]=V;if(Z=parseInt(Z,10),Z in U){if(Z===0)break;continue}U[Z]=[W,X]}const Q=[];for(let Z=0;Z<U.length&&Z in U;++Z){let[W,X]=U[Z];X=J(X),W&&(X=unescape(X),Z===0&&(X=K(X))),Q.push(X)}return Q.join("")}function J(G){if(G.startsWith('"')){const U=G.slice(1).split('\\"');for(let V=0;V<U.length;++V){const q=U[V].indexOf('"');q!==-1&&(U[V]=U[V].slice(0,q),U.length=V+1),U[V]=U[V].replace(/\\(.)/g,"$1")}G=U.join('"')}return G}function K(G){const U=G.indexOf("'");if(U===-1)return G;const V=G.slice(0,U),Q=G.slice(U+1).replace(/^[^']*'/,"");return re(V,Q)}function Y(G){return!G.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(G)?G:G.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,V,q,Q){if(q==="q"||q==="Q")return Q=Q.replace(/_/g," "),Q=Q.replace(/=([0-9a-fA-F]{2})/g,function(Z,W){return String.fromCharCode(parseInt(W,16))}),re(V,Q);try{Q=atob(Q)}catch{}return re(V,Q)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var O=H(1),R=H(22);const B=200,ie=206;function se(J){const K=J.response;return typeof K!="string"?K:(0,O.stringToBytes)(K).buffer}class he{constructor(K,Y={}){this.url=K,this.isHttp=/^https?:/i.test(K),this.httpHeaders=this.isHttp&&Y.httpHeaders||Object.create(null),this.withCredentials=Y.withCredentials||!1,this.getXhr=Y.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(K,Y,G){const U={begin:K,end:Y};for(const V in G)U[V]=G[V];return this.request(U)}requestFull(K){return this.request(K)}request(K){const Y=this.getXhr(),G=this.currXhrId++,U=this.pendingRequests[G]={xhr:Y};Y.open("GET",this.url),Y.withCredentials=this.withCredentials;for(const V in this.httpHeaders){const q=this.httpHeaders[V];q!==void 0&&Y.setRequestHeader(V,q)}return this.isHttp&&"begin"in K&&"end"in K?(Y.setRequestHeader("Range",`bytes=${K.begin}-${K.end-1}`),U.expectedStatus=ie):U.expectedStatus=B,Y.responseType="arraybuffer",K.onError&&(Y.onerror=function(V){K.onError(Y.status)}),Y.onreadystatechange=this.onStateChange.bind(this,G),Y.onprogress=this.onProgress.bind(this,G),U.onHeadersReceived=K.onHeadersReceived,U.onDone=K.onDone,U.onError=K.onError,U.onProgress=K.onProgress,Y.send(null),G}onProgress(K,Y){var U;const G=this.pendingRequests[K];G&&((U=G.onProgress)==null||U.call(G,Y))}onStateChange(K,Y){var Z,W,X;const G=this.pendingRequests[K];if(!G)return;const U=G.xhr;if(U.readyState>=2&&G.onHeadersReceived&&(G.onHeadersReceived(),delete G.onHeadersReceived),U.readyState!==4||!(K in this.pendingRequests))return;if(delete this.pendingRequests[K],U.status===0&&this.isHttp){(Z=G.onError)==null||Z.call(G,U.status);return}const V=U.status||B;if(!(V===B&&G.expectedStatus===ie)&&V!==G.expectedStatus){(W=G.onError)==null||W.call(G,U.status);return}const Q=se(U);if(V===ie){const ue=U.getResponseHeader("Content-Range"),be=/bytes (\d+)-(\d+)\/(\d+)/.exec(ue);G.onDone({begin:parseInt(be[1],10),chunk:Q})}else Q?G.onDone({begin:0,chunk:Q}):(X=G.onError)==null||X.call(G,U.status)}getRequestXhr(K){return this.pendingRequests[K].xhr}isPendingRequest(K){return K in this.pendingRequests}abortRequest(K){const Y=this.pendingRequests[K].xhr;delete this.pendingRequests[K],Y.abort()}}class re{constructor(K){this._source=K,this._manager=new he(K.url,{httpHeaders:K.httpHeaders,withCredentials:K.withCredentials}),this._rangeChunkSize=K.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(K){const Y=this._rangeRequestReaders.indexOf(K);Y>=0&&this._rangeRequestReaders.splice(Y,1)}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new te(this._manager,this._source),this._fullRequestReader}getRangeReader(K,Y){const G=new pe(this._manager,K,Y);return G.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(G),G}cancelAllRequests(K){var Y;(Y=this._fullRequestReader)==null||Y.cancel(K);for(const G of this._rangeRequestReaders.slice(0))G.cancel(K)}}$.PDFNetworkStream=re;class te{constructor(K,Y){this._manager=K;const G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Y.url,this._fullRequestId=K.requestFull(G),this._headersReceivedCapability=(0,O.createPromiseCapability)(),this._disableRange=Y.disableRange||!1,this._contentLength=Y.length,this._rangeChunkSize=Y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const K=this._fullRequestId,Y=this._manager.getRequestXhr(K),G=q=>Y.getResponseHeader(q),{allowRangeRequests:U,suggestedLength:V}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=V||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(G),this._isRangeSupported&&this._manager.abortRequest(K),this._headersReceivedCapability.resolve()}_onDone(K){if(K&&(this._requests.length>0?this._requests.shift().resolve({value:K.chunk,done:!1}):this._cachedChunks.push(K.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(K){this._storedError=(0,R.createResponseStatusError)(K,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Y of this._requests)Y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(K){var Y;(Y=this.onProgress)==null||Y.call(this,{loaded:K.loaded,total:K.lengthComputable?K.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const K=(0,O.createPromiseCapability)();return this._requests.push(K),K.promise}cancel(K){this._done=!0,this._headersReceivedCapability.reject(K);for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class pe{constructor(K,Y,G){this._manager=K;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=K.url,this._requestId=K.requestRange(Y,G,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var K;(K=this.onClosed)==null||K.call(this,this)}_onDone(K){const Y=K.chunk;this._requests.length>0?this._requests.shift().resolve({value:Y,done:!1}):this._queuedChunk=Y,this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(K){this._storedError=(0,R.createResponseStatusError)(K,this._url);for(const Y of this._requests)Y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(K){var Y;this.isStreamingSupported||(Y=this.onProgress)==null||Y.call(this,{loaded:K.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Y=this._queuedChunk;return this._queuedChunk=null,{value:Y,done:!1}}if(this._done)return{value:void 0,done:!0};const K=(0,O.createPromiseCapability)();return this._requests.push(K),K.promise}cancel(K){this._done=!0;for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var O=H(1),R=H(22);function B(pe,J,K){return{method:"GET",headers:pe,signal:K.signal,mode:"cors",credentials:J?"include":"same-origin",redirect:"follow"}}function ie(pe){const J=new Headers;for(const K in pe){const Y=pe[K];Y!==void 0&&J.append(K,Y)}return J}function se(pe){return pe instanceof Uint8Array?pe.buffer:pe instanceof ArrayBuffer?pe:((0,O.warn)(`getArrayBuffer - unexpected data format: ${pe}`),new Uint8Array(pe).buffer)}class he{constructor(J){this.source=J,this.isHttp=/^https?:/i.test(J.url),this.httpHeaders=this.isHttp&&J.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var J;return((J=this._fullRequestReader)==null?void 0:J._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new re(this),this._fullRequestReader}getRangeReader(J,K){if(K<=this._progressiveDataLength)return null;const Y=new te(this,J,K);return this._rangeRequestReaders.push(Y),Y}cancelAllRequests(J){var K;(K=this._fullRequestReader)==null||K.cancel(J);for(const Y of this._rangeRequestReaders.slice(0))Y.cancel(J)}}$.PDFFetchStream=he;class re{constructor(J){this._stream=J,this._reader=null,this._loaded=0,this._filename=null;const K=J.source;this._withCredentials=K.withCredentials||!1,this._contentLength=K.length,this._headersCapability=(0,O.createPromiseCapability)(),this._disableRange=K.disableRange||!1,this._rangeChunkSize=K.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!K.disableStream,this._isRangeSupported=!K.disableRange,this._headers=ie(this._stream.httpHeaders);const Y=K.url;fetch(Y,B(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,R.validateResponseStatus)(G.status))throw(0,R.createResponseStatusError)(G.status,Y);this._reader=G.body.getReader(),this._headersCapability.resolve();const U=Q=>G.headers.get(Q),{allowRangeRequests:V,suggestedLength:q}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=V,this._contentLength=q||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new O.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Y;await this._headersCapability.promise;const{value:J,done:K}=await this._reader.read();return K?{value:J,done:K}:(this._loaded+=J.byteLength,(Y=this.onProgress)==null||Y.call(this,{loaded:this._loaded,total:this._contentLength}),{value:se(J),done:!1})}cancel(J){var K;(K=this._reader)==null||K.cancel(J),this._abortController.abort()}}class te{constructor(J,K,Y){this._stream=J,this._reader=null,this._loaded=0;const G=J.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,O.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,this._abortController=new AbortController,this._headers=ie(this._stream.httpHeaders),this._headers.append("Range",`bytes=${K}-${Y-1}`);const U=G.url;fetch(U,B(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,R.validateResponseStatus)(V.status))throw(0,R.createResponseStatusError)(V.status,U);this._readCapability.resolve(),this._reader=V.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Y;await this._readCapability.promise;const{value:J,done:K}=await this._reader.read();return K?{value:J,done:K}:(this._loaded+=J.byteLength,(Y=this.onProgress)==null||Y.call(this,{loaded:this._loaded}),{value:se(J),done:!1})}cancel(J){var K;(K=this._reader)==null||K.cancel(J),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=G,$.updateTextLayer=U;var O=H(1),R=H(6);const B=1e5,ie=30,se=.8,he=new Map;function re(V,q){let Q;if(q&&O.FeatureTest.isOffscreenCanvasSupported)Q=new OffscreenCanvas(V,V).getContext("2d",{alpha:!1});else{const Z=document.createElement("canvas");Z.width=Z.height=V,Q=Z.getContext("2d",{alpha:!1})}return Q}function te(V,q){const Q=he.get(V);if(Q)return Q;const Z=re(ie,q);Z.font=`${ie}px ${V}`;const W=Z.measureText("");let X=W.fontBoundingBoxAscent,ue=Math.abs(W.fontBoundingBoxDescent);if(X){const _e=X/(X+ue);return he.set(V,_e),Z.canvas.width=Z.canvas.height=0,_e}Z.strokeStyle="red",Z.clearRect(0,0,ie,ie),Z.strokeText("g",0,0);let be=Z.getImageData(0,0,ie,ie).data;ue=0;for(let _e=be.length-1-3;_e>=0;_e-=4)if(be[_e]>0){ue=Math.ceil(_e/4/ie);break}Z.clearRect(0,0,ie,ie),Z.strokeText("A",0,ie),be=Z.getImageData(0,0,ie,ie).data,X=0;for(let _e=0,Pe=be.length;_e<Pe;_e+=4)if(be[_e]>0){X=ie-Math.floor(_e/4/ie);break}if(Z.canvas.width=Z.canvas.height=0,X){const _e=X/(X+ue);return he.set(V,_e),_e}return he.set(V,se),se}function pe(V,q,Q){const Z=document.createElement("span"),W={angle:0,canvasWidth:0,hasText:q.str!=="",hasEOL:q.hasEOL,fontSize:0};V._textDivs.push(Z);const X=O.Util.transform(V._transform,q.transform);let ue=Math.atan2(X[1],X[0]);const be=Q[q.fontName];be.vertical&&(ue+=Math.PI/2);const _e=Math.hypot(X[2],X[3]),Pe=_e*te(be.fontFamily,V._isOffscreenCanvasSupported);let ce,$e;ue===0?(ce=X[4],$e=X[5]-Pe):(ce=X[4]+Pe*Math.sin(ue),$e=X[5]-Pe*Math.cos(ue));const Xe="calc(var(--scale-factor)*",De=Z.style;V._container===V._rootContainer?(De.left=`${(100*ce/V._pageWidth).toFixed(2)}%`,De.top=`${(100*$e/V._pageHeight).toFixed(2)}%`):(De.left=`${Xe}${ce.toFixed(2)}px)`,De.top=`${Xe}${$e.toFixed(2)}px)`),De.fontSize=`${Xe}${_e.toFixed(2)}px)`,De.fontFamily=be.fontFamily,W.fontSize=_e,Z.setAttribute("role","presentation"),Z.textContent=q.str,Z.dir=q.dir,V._fontInspectorEnabled&&(Z.dataset.fontName=q.fontName),ue!==0&&(W.angle=ue*(180/Math.PI));let Ge=!1;if(q.str.length>1)Ge=!0;else if(q.str!==" "&&q.transform[0]!==q.transform[3]){const Ie=Math.abs(q.transform[0]),Me=Math.abs(q.transform[3]);Ie!==Me&&Math.max(Ie,Me)/Math.min(Ie,Me)>1.5&&(Ge=!0)}Ge&&(W.canvasWidth=be.vertical?q.height:q.width),V._textDivProperties.set(Z,W),V._isReadableStream&&V._layoutText(Z)}function J(V){const{div:q,scale:Q,properties:Z,ctx:W,prevFontSize:X,prevFontFamily:ue}=V,{style:be}=q;let _e="";if(Z.canvasWidth!==0&&Z.hasText){const{fontFamily:Pe}=be,{canvasWidth:ce,fontSize:$e}=Z;(X!==$e||ue!==Pe)&&(W.font=`${$e*Q}px ${Pe}`,V.prevFontSize=$e,V.prevFontFamily=Pe);const{width:Xe}=W.measureText(q.textContent);Xe>0&&(_e=`scaleX(${ce*Q/Xe})`)}Z.angle!==0&&(_e=`rotate(${Z.angle}deg) ${_e}`),_e.length>0&&(be.transform=_e)}function K(V){if(V._canceled)return;const q=V._textDivs,Q=V._capability;if(q.length>B){Q.resolve();return}if(!V._isReadableStream)for(const W of q)V._layoutText(W);Q.resolve()}class Y{constructor({textContentSource:q,container:Q,viewport:Z,textDivs:W,textDivProperties:X,textContentItemsStr:ue,isOffscreenCanvasSupported:be}){var Xe;this._textContentSource=q,this._isReadableStream=q instanceof ReadableStream,this._container=this._rootContainer=Q,this._textDivs=W||[],this._textContentItemsStr=ue||[],this._fontInspectorEnabled=!!((Xe=globalThis.FontInspector)!=null&&Xe.enabled),this._reader=null,this._textDivProperties=X||new WeakMap,this._canceled=!1,this._capability=(0,O.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Z.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:re(0,be)};const{pageWidth:_e,pageHeight:Pe,pageX:ce,pageY:$e}=Z.rawDims;this._transform=[1,0,0,-1,-ce,$e+Pe],this._pageWidth=_e,this._pageHeight=Pe,(0,R.setLayerDimensions)(Q,Z),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new O.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new O.AbortException("TextLayer task cancelled."))}_processItems(q,Q){for(const Z of q){if(Z.str===void 0){if(Z.type==="beginMarkedContentProps"||Z.type==="beginMarkedContent"){const W=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Z.id!==null&&this._container.setAttribute("id",`${Z.id}`),W.append(this._container)}else Z.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Z.str),pe(this,Z,Q)}}_layoutText(q){const Q=this._layoutTextParams.properties=this._textDivProperties.get(q);if(this._layoutTextParams.div=q,J(this._layoutTextParams),Q.hasText&&this._container.append(q),Q.hasEOL){const Z=document.createElement("br");Z.setAttribute("role","presentation"),this._container.append(Z)}}_render(){const q=(0,O.createPromiseCapability)();let Q=Object.create(null);if(this._isReadableStream){const Z=()=>{this._reader.read().then(({value:W,done:X})=>{if(X){q.resolve();return}Object.assign(Q,W.styles),this._processItems(W.items,Q),Z()},q.reject)};this._reader=this._textContentSource.getReader(),Z()}else if(this._textContentSource){const{items:Z,styles:W}=this._textContentSource;this._processItems(Z,W),q.resolve()}else throw new Error('No "textContentSource" parameter specified.');q.promise.then(()=>{Q=null,K(this)},this._capability.reject)}}$.TextLayerRenderTask=Y;function G(V){!V.textContentSource&&(V.textContent||V.textContentStream)&&((0,R.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),V.textContentSource=V.textContent||V.textContentStream);const q=new Y(V);return q._render(),q}function U({container:V,viewport:q,textDivs:Q,textDivProperties:Z,isOffscreenCanvasSupported:W,mustRotate:X=!0,mustRescale:ue=!0}){if(X&&(0,R.setLayerDimensions)(V,{rotation:q.rotation}),ue){const be=re(0,W),Pe={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:be};for(const ce of Q)Pe.properties=Z.get(ce),Pe.div=ce,J(Pe)}}},(A,$,H)=>{var re,te,pe,J,K,Y,G,U,V,Nr,Q,vi,W,jr,ue,bi;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var O=H(1),R=H(5),B=H(28),ie=H(29),se=H(6);const _e=class{constructor(ce){at(this,V);at(this,Q);at(this,W);at(this,ue);at(this,re,void 0);at(this,te,!1);at(this,pe,this.pointerup.bind(this));at(this,J,this.pointerdown.bind(this));at(this,K,new Map);at(this,Y,!1);at(this,G,!1);at(this,U,void 0);_e._initialized||(_e._initialized=!0,B.FreeTextEditor.initialize(ce.l10n),ie.InkEditor.initialize(ce.l10n)),ce.uiManager.registerEditorTypes([B.FreeTextEditor,ie.InkEditor]),St(this,U,ce.uiManager),this.pageIndex=ce.pageIndex,this.div=ce.div,St(this,re,ce.accessibilityManager),me(this,U).addLayer(this)}updateToolbar(ce){me(this,U).updateToolbar(ce)}updateMode(ce=me(this,U).getMode()){ft(this,ue,bi).call(this),ce===O.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),me(this,U).unselectAll(),this.div.classList.toggle("freeTextEditing",ce===O.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ce===O.AnnotationEditorType.INK)}addInkEditorIfNeeded(ce){if(!ce&&me(this,U).getMode()!==O.AnnotationEditorType.INK)return;if(!ce){for(const Xe of me(this,K).values())if(Xe.isEmpty()){Xe.setInBackground();return}}ft(this,W,jr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(ce){me(this,U).setEditingState(ce)}addCommands(ce){me(this,U).addCommands(ce)}enable(){this.div.style.pointerEvents="auto";for(const ce of me(this,K).values())ce.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const ce of me(this,K).values())ce.disableEditing()}setActiveEditor(ce){me(this,U).getActive()!==ce&&me(this,U).setActiveEditor(ce)}enableClick(){this.div.addEventListener("pointerdown",me(this,J)),this.div.addEventListener("pointerup",me(this,pe))}disableClick(){this.div.removeEventListener("pointerdown",me(this,J)),this.div.removeEventListener("pointerup",me(this,pe))}attach(ce){me(this,K).set(ce.id,ce)}detach(ce){var $e;me(this,K).delete(ce.id),($e=me(this,re))==null||$e.removePointerInTextLayer(ce.contentDiv)}remove(ce){me(this,U).removeEditor(ce),this.detach(ce),ce.div.style.display="none",setTimeout(()=>{ce.div.style.display="",ce.div.remove(),ce.isAttachedToDOM=!1,document.activeElement===document.body&&me(this,U).focusMainContainer()},0),me(this,G)||this.addInkEditorIfNeeded(!1)}add(ce){if(ft(this,V,Nr).call(this,ce),me(this,U).addEditor(ce),this.attach(ce),!ce.isAttachedToDOM){const $e=ce.render();this.div.append($e),ce.isAttachedToDOM=!0}this.moveEditorInDOM(ce),ce.onceAdded(),me(this,U).addToAnnotationStorage(ce)}moveEditorInDOM(ce){var $e;($e=me(this,re))==null||$e.moveElementInDOM(this.div,ce.div,ce.contentDiv,!0)}addOrRebuild(ce){ce.needsToBeRebuilt()?ce.rebuild():this.add(ce)}addANewEditor(ce){const $e=()=>{this.addOrRebuild(ce)},Xe=()=>{ce.remove()};this.addCommands({cmd:$e,undo:Xe,mustExec:!0})}addUndoableEditor(ce){const $e=()=>{this.addOrRebuild(ce)},Xe=()=>{ce.remove()};this.addCommands({cmd:$e,undo:Xe,mustExec:!1})}getNextId(){return me(this,U).getId()}deserialize(ce){switch(ce.annotationType){case O.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(ce,this,me(this,U));case O.AnnotationEditorType.INK:return ie.InkEditor.deserialize(ce,this,me(this,U))}return null}setSelected(ce){me(this,U).setSelected(ce)}toggleSelected(ce){me(this,U).toggleSelected(ce)}isSelected(ce){return me(this,U).isSelected(ce)}unselect(ce){me(this,U).unselect(ce)}pointerup(ce){const{isMac:$e}=O.FeatureTest.platform;if(!(ce.button!==0||ce.ctrlKey&&$e)&&ce.target===this.div&&me(this,Y)){if(St(this,Y,!1),!me(this,te)){St(this,te,!0);return}ft(this,W,jr).call(this,ce)}}pointerdown(ce){const{isMac:$e}=O.FeatureTest.platform;if(ce.button!==0||ce.ctrlKey&&$e||ce.target!==this.div)return;St(this,Y,!0);const Xe=me(this,U).getActive();St(this,te,!Xe||Xe.isEmpty())}drop(ce){const $e=ce.dataTransfer.getData("text/plain"),Xe=me(this,U).getEditor($e);if(!Xe)return;ce.preventDefault(),ce.dataTransfer.dropEffect="move",ft(this,V,Nr).call(this,Xe);const De=this.div.getBoundingClientRect(),Ge=ce.clientX-De.x,Ie=ce.clientY-De.y;Xe.translate(Ge-Xe.startX,Ie-Xe.startY),this.moveEditorInDOM(Xe),Xe.div.focus()}dragover(ce){ce.preventDefault()}destroy(){var ce,$e;((ce=me(this,U).getActive())==null?void 0:ce.parent)===this&&me(this,U).setActiveEditor(null);for(const Xe of me(this,K).values())($e=me(this,re))==null||$e.removePointerInTextLayer(Xe.contentDiv),Xe.setParent(null),Xe.isAttachedToDOM=!1,Xe.div.remove();this.div=null,me(this,K).clear(),me(this,U).removeLayer(this)}render({viewport:ce}){this.viewport=ce,(0,se.setLayerDimensions)(this.div,ce),(0,R.bindEvents)(this,this.div,["dragover","drop"]);for(const $e of me(this,U).getEditors(this.pageIndex))this.add($e);this.updateMode()}update({viewport:ce}){me(this,U).commitOrRemove(),this.viewport=ce,(0,se.setLayerDimensions)(this.div,{rotation:ce.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ce,pageHeight:$e}=this.viewport.rawDims;return[ce,$e]}};let he=_e;re=new WeakMap,te=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,V=new WeakSet,Nr=function(ce){var $e;ce.parent!==this&&(this.attach(ce),($e=ce.parent)==null||$e.detach(ce),ce.setParent(this),ce.div&&ce.isAttachedToDOM&&(ce.div.remove(),this.div.append(ce.div)))},Q=new WeakSet,vi=function(ce){switch(me(this,U).getMode()){case O.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(ce);case O.AnnotationEditorType.INK:return new ie.InkEditor(ce)}return null},W=new WeakSet,jr=function(ce){const $e=this.getNextId(),Xe=ft(this,Q,vi).call(this,{parent:this,id:$e,x:ce.offsetX,y:ce.offsetY,uiManager:me(this,U)});return Xe&&this.add(Xe),Xe},ue=new WeakSet,bi=function(){St(this,G,!0);for(const ce of me(this,K).values())ce.isEmpty()&&ce.remove();St(this,G,!1)},gn(he,"_initialized",!1),$.AnnotationEditorLayer=he},(A,$,H)=>{var se,he,re,te,pe,J,K,Y,G,U,_i,q,Ei,Z,yi,X,Br;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var O=H(1),R=H(5),B=H(4);const be=class extends B.AnnotationEditor{constructor(ce){super({...ce,name:"freeTextEditor"});at(this,U);at(this,q);at(this,Z);at(this,X);at(this,se,this.editorDivBlur.bind(this));at(this,he,this.editorDivFocus.bind(this));at(this,re,this.editorDivInput.bind(this));at(this,te,this.editorDivKeydown.bind(this));at(this,pe,void 0);at(this,J,"");at(this,K,`${this.id}-editor`);at(this,Y,!1);at(this,G,void 0);St(this,pe,ce.color||be._defaultColor||B.AnnotationEditor._defaultLineColor),St(this,G,ce.fontSize||be._defaultFontSize)}static initialize(ce){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Xe=>[Xe,ce.get(Xe)]));const $e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat($e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ce,$e){switch(ce){case O.AnnotationEditorParamsType.FREETEXT_SIZE:be._defaultFontSize=$e;break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:be._defaultColor=$e;break}}updateParams(ce,$e){switch(ce){case O.AnnotationEditorParamsType.FREETEXT_SIZE:ft(this,U,_i).call(this,$e);break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:ft(this,q,Ei).call(this,$e);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,be._defaultFontSize],[O.AnnotationEditorParamsType.FREETEXT_COLOR,be._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,me(this,G)],[O.AnnotationEditorParamsType.FREETEXT_COLOR,me(this,pe)]]}getInitialTranslation(){const ce=this.parentScale;return[-be._internalPadding*ce,-(be._internalPadding+me(this,G))*ce]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(O.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",me(this,te)),this.editorDiv.addEventListener("focus",me(this,he)),this.editorDiv.addEventListener("blur",me(this,se)),this.editorDiv.addEventListener("input",me(this,re)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",me(this,K)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",me(this,te)),this.editorDiv.removeEventListener("focus",me(this,he)),this.editorDiv.removeEventListener("blur",me(this,se)),this.editorDiv.removeEventListener("input",me(this,re)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ce){super.focusin(ce),ce.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),me(this,Y)||(St(this,Y,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),St(this,J,ft(this,Z,yi).call(this).trimEnd()),ft(this,X,Br).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ce){this.enableEditMode(),this.editorDiv.focus()}keydown(ce){ce.target===this.div&&ce.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ce){be._keyboardManager.exec(this,ce)}editorDivFocus(ce){this.isEditing=!0}editorDivBlur(ce){this.isEditing=!1}editorDivInput(ce){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ce,$e;this.width&&(ce=this.x,$e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",me(this,K)),this.enableEditing(),be._l10nPromise.get("editor_free_text2_aria_label").then(De=>{var Ge;return(Ge=this.editorDiv)==null?void 0:Ge.setAttribute("aria-label",De)}),be._l10nPromise.get("free_text2_default_content").then(De=>{var Ge;return(Ge=this.editorDiv)==null?void 0:Ge.setAttribute("default-content",De)}),this.editorDiv.contentEditable=!0;const{style:Xe}=this.editorDiv;if(Xe.fontSize=`calc(${me(this,G)}px * var(--scale-factor))`,Xe.color=me(this,pe),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,R.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[De,Ge]=this.parentDimensions;this.setAt(ce*De,$e*Ge,this.width*De,this.height*Ge);for(const Ie of me(this,J).split(`
`)){const Me=document.createElement("div");Me.append(Ie?document.createTextNode(Ie):document.createElement("br")),this.editorDiv.append(Me)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ce,$e,Xe){const De=super.deserialize(ce,$e,Xe);return St(De,G,ce.fontSize),St(De,pe,O.Util.makeHexColor(...ce.color)),St(De,J,ce.value),De}serialize(){if(this.isEmpty())return null;const ce=be._internalPadding*this.parentScale,$e=this.getRect(ce,ce),Xe=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:me(this,pe));return{annotationType:O.AnnotationEditorType.FREETEXT,color:Xe,fontSize:me(this,G),value:me(this,J),pageIndex:this.pageIndex,rect:$e,rotation:this.rotation}}};let ie=be;se=new WeakMap,he=new WeakMap,re=new WeakMap,te=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakSet,_i=function(ce){const $e=De=>{this.editorDiv.style.fontSize=`calc(${De}px * var(--scale-factor))`,this.translate(0,-(De-me(this,G))*this.parentScale),St(this,G,De),ft(this,X,Br).call(this)},Xe=me(this,G);this.addCommands({cmd:()=>{$e(ce)},undo:()=>{$e(Xe)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},q=new WeakSet,Ei=function(ce){const $e=me(this,pe);this.addCommands({cmd:()=>{St(this,pe,this.editorDiv.style.color=ce)},undo:()=>{St(this,pe,this.editorDiv.style.color=$e)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Z=new WeakSet,yi=function(){const ce=this.editorDiv.getElementsByTagName("div");if(ce.length===0)return this.editorDiv.innerText;const $e=[];for(const Xe of ce)$e.push(Xe.innerText.replace(/\r\n?|\n/,""));return $e.join(`
`)},X=new WeakSet,Br=function(){const[ce,$e]=this.parentDimensions;let Xe;if(this.isAttachedToDOM)Xe=this.div.getBoundingClientRect();else{const{currentLayer:De,div:Ge}=this,Ie=Ge.style.display;Ge.style.display="hidden",De.div.append(this.div),Xe=Ge.getBoundingClientRect(),Ge.remove(),Ge.style.display=Ie}this.width=Xe.width/ce,this.height=Xe.height/$e},gn(ie,"_freeTextDefaultContent",""),gn(ie,"_l10nPromise"),gn(ie,"_internalPadding",0),gn(ie,"_defaultColor",null),gn(ie,"_defaultFontSize",10),gn(ie,"_keyboardManager",new R.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],be.prototype.commitOrRemove]])),gn(ie,"_type","freetext"),$.FreeTextEditor=ie},(A,$,H)=>{var te,pe,J,K,Y,G,U,V,q,Q,Z,W,X,ue,be,Si,Pe,Ci,$e,Ai,De,wi,Ie,zr,Te,Pi,Ze,ki,ae,$i,fe,Un,Ee,Hr,Fe,_r,rt,Er,tt,cr,oe,Vr,ve,yr,ge,Ur,Qe,xi,it,Ti,ht,Mi,pt,Wr,yt,Sr,jt,lr,bt,qr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return B.fitCurve}});var O=H(1),R=H(4),B=H(30),ie=H(5);const se=16,he=100,Le=class extends R.AnnotationEditor{constructor(Be){super({...Be,name:"inkEditor"});at(this,be);at(this,Pe);at(this,$e);at(this,De);at(this,Ie);at(this,Te);at(this,Ze);at(this,ae);at(this,fe);at(this,Ee);at(this,Fe);at(this,rt);at(this,tt);at(this,oe);at(this,ve);at(this,Qe);at(this,it);at(this,ht);at(this,pt);at(this,yt);at(this,jt);at(this,bt);at(this,te,0);at(this,pe,0);at(this,J,0);at(this,K,this.canvasPointermove.bind(this));at(this,Y,this.canvasPointerleave.bind(this));at(this,G,this.canvasPointerup.bind(this));at(this,U,this.canvasPointerdown.bind(this));at(this,V,!1);at(this,q,!1);at(this,Q,null);at(this,Z,null);at(this,W,0);at(this,X,0);at(this,ue,null);this.color=Be.color||null,this.thickness=Be.thickness||null,this.opacity=Be.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Be){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ct=>[ct,Be.get(ct)]))}static updateDefaultParams(Be,ct){switch(Be){case O.AnnotationEditorParamsType.INK_THICKNESS:Le._defaultThickness=ct;break;case O.AnnotationEditorParamsType.INK_COLOR:Le._defaultColor=ct;break;case O.AnnotationEditorParamsType.INK_OPACITY:Le._defaultOpacity=ct/100;break}}updateParams(Be,ct){switch(Be){case O.AnnotationEditorParamsType.INK_THICKNESS:ft(this,be,Si).call(this,ct);break;case O.AnnotationEditorParamsType.INK_COLOR:ft(this,Pe,Ci).call(this,ct);break;case O.AnnotationEditorParamsType.INK_OPACITY:ft(this,$e,Ai).call(this,ct);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,Le._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,Le._defaultColor||R.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(Le._defaultOpacity*100)]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Le._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,this.color||Le._defaultColor||R.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Le._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ft(this,Fe,_r).call(this),ft(this,rt,Er).call(this)),this.isAttachedToDOM||(this.parent.add(this),ft(this,tt,cr).call(this)),ft(this,jt,lr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,me(this,Z).disconnect(),St(this,Z,null),super.remove())}setParent(Be){!this.parent&&Be?this._uiManager.removeShouldRescale(this):this.parent&&Be===null&&this._uiManager.addShouldRescale(this),super.setParent(Be)}onScaleChanging(){const[Be,ct]=this.parentDimensions,Et=this.width*Be,kt=this.height*ct;this.setDimensions(Et,kt)}enableEditMode(){me(this,V)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",me(this,U)),this.canvas.addEventListener("pointerup",me(this,G)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",me(this,U)),this.canvas.removeEventListener("pointerup",me(this,G)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){me(this,V)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),St(this,V,!0),this.div.classList.add("disabled"),ft(this,jt,lr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Be){super.focusin(Be),this.enableEditMode()}canvasPointerdown(Be){Be.button!==0||!this.isInEditMode()||me(this,V)||(this.setInForeground(),Be.type!=="mouse"&&this.div.focus(),Be.stopPropagation(),this.canvas.addEventListener("pointerleave",me(this,Y)),this.canvas.addEventListener("pointermove",me(this,K)),ft(this,Te,Pi).call(this,Be.offsetX,Be.offsetY))}canvasPointermove(Be){Be.stopPropagation(),ft(this,Ze,ki).call(this,Be.offsetX,Be.offsetY)}canvasPointerup(Be){Be.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Be.stopPropagation(),ft(this,Ee,Hr).call(this,Be),this.setInBackground())}canvasPointerleave(Be){ft(this,Ee,Hr).call(this,Be),this.setInBackground()}render(){if(this.div)return this.div;let Be,ct;this.width&&(Be=this.x,ct=this.y),super.render(),Le._l10nPromise.get("editor_ink2_aria_label").then(zt=>{var Ut;return(Ut=this.div)==null?void 0:Ut.setAttribute("aria-label",zt)});const[Et,kt,Xt,en]=ft(this,De,wi).call(this);if(this.setAt(Et,kt,0,0),this.setDims(Xt,en),ft(this,Fe,_r).call(this),this.width){const[zt,Ut]=this.parentDimensions;this.setAt(Be*zt,ct*Ut,this.width*zt,this.height*Ut),St(this,q,!0),ft(this,tt,cr).call(this),this.setDims(this.width*zt,this.height*Ut),ft(this,fe,Un).call(this),ft(this,bt,qr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ft(this,rt,Er).call(this),this.div}setDimensions(Be,ct){const Et=Math.round(Be),kt=Math.round(ct);if(me(this,W)===Et&&me(this,X)===kt)return;St(this,W,Et),St(this,X,kt),this.canvas.style.visibility="hidden",me(this,te)&&Math.abs(me(this,te)-Be/ct)>.01&&(ct=Math.ceil(Be/me(this,te)),this.setDims(Be,ct));const[Xt,en]=this.parentDimensions;this.width=Be/Xt,this.height=ct/en,me(this,V)&&ft(this,oe,Vr).call(this,Be,ct),ft(this,tt,cr).call(this),ft(this,fe,Un).call(this),this.canvas.style.visibility="visible"}static deserialize(Be,ct,Et){var dn,hn;const kt=super.deserialize(Be,ct,Et);kt.thickness=Be.thickness,kt.color=O.Util.makeHexColor(...Be.color),kt.opacity=Be.opacity;const[Xt,en]=kt.pageDimensions,zt=kt.width*Xt,Ut=kt.height*en,tn=kt.parentScale,Yt=Be.thickness/2;St(kt,te,zt/Ut),St(kt,V,!0),St(kt,W,Math.round(zt)),St(kt,X,Math.round(Ut));for(const{bezier:vn}of Be.paths){const $n=[];kt.paths.push($n);let xn=tn*(vn[0]-Yt),fn=tn*(Ut-vn[1]-Yt);for(let Pn=2,Zn=vn.length;Pn<Zn;Pn+=6){const Jn=tn*(vn[Pn]-Yt),Qn=tn*(Ut-vn[Pn+1]-Yt),er=tn*(vn[Pn+2]-Yt),tr=tn*(Ut-vn[Pn+3]-Yt),Wn=tn*(vn[Pn+4]-Yt),mr=tn*(Ut-vn[Pn+5]-Yt);$n.push([[xn,fn],[Jn,Qn],[er,tr],[Wn,mr]]),xn=Wn,fn=mr}const On=ft(this,ge,Ur).call(this,$n);kt.bezierPath2D.push(On)}const Jt=ft(dn=kt,pt,Wr).call(dn);return St(kt,J,Math.max(se,Jt[2]-Jt[0])),St(kt,pe,Math.max(se,Jt[3]-Jt[1])),ft(hn=kt,oe,Vr).call(hn,zt,Ut),kt}serialize(){if(this.isEmpty())return null;const Be=this.getRect(0,0),ct=this.rotation%180===0?Be[3]-Be[1]:Be[2]-Be[0],Et=R.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:O.AnnotationEditorType.INK,color:Et,thickness:this.thickness,opacity:this.opacity,paths:ft(this,Qe,xi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ct),pageIndex:this.pageIndex,rect:Be,rotation:this.rotation}}};let re=Le;te=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,V=new WeakMap,q=new WeakMap,Q=new WeakMap,Z=new WeakMap,W=new WeakMap,X=new WeakMap,ue=new WeakMap,be=new WeakSet,Si=function(Be){const ct=this.thickness;this.addCommands({cmd:()=>{this.thickness=Be,ft(this,jt,lr).call(this)},undo:()=>{this.thickness=ct,ft(this,jt,lr).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Pe=new WeakSet,Ci=function(Be){const ct=this.color;this.addCommands({cmd:()=>{this.color=Be,ft(this,fe,Un).call(this)},undo:()=>{this.color=ct,ft(this,fe,Un).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$e=new WeakSet,Ai=function(Be){Be/=100;const ct=this.opacity;this.addCommands({cmd:()=>{this.opacity=Be,ft(this,fe,Un).call(this)},undo:()=>{this.opacity=ct,ft(this,fe,Un).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},De=new WeakSet,wi=function(){const{parentRotation:Be,parentDimensions:[ct,Et]}=this;switch(Be){case 90:return[0,Et,Et,ct];case 180:return[ct,Et,ct,Et];case 270:return[ct,0,Et,ct];default:return[0,0,ct,Et]}},Ie=new WeakSet,zr=function(){const{ctx:Be,color:ct,opacity:Et,thickness:kt,parentScale:Xt,scaleFactor:en}=this;Be.lineWidth=kt*Xt/en,Be.lineCap="round",Be.lineJoin="round",Be.miterLimit=10,Be.strokeStyle=`${ct}${(0,ie.opacityToHex)(Et)}`},Te=new WeakSet,Pi=function(Be,ct){this.isEditing=!0,me(this,q)||(St(this,q,!0),ft(this,tt,cr).call(this),this.thickness||(this.thickness=Le._defaultThickness),this.color||(this.color=Le._defaultColor||R.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Le._defaultOpacity)),this.currentPath.push([Be,ct]),St(this,Q,null),ft(this,Ie,zr).call(this),this.ctx.beginPath(),this.ctx.moveTo(Be,ct),St(this,ue,()=>{me(this,ue)&&(me(this,Q)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ft(this,fe,Un).call(this),this.ctx.lineTo(...me(this,Q)),St(this,Q,null),this.ctx.stroke()),window.requestAnimationFrame(me(this,ue)))}),window.requestAnimationFrame(me(this,ue))},Ze=new WeakSet,ki=function(Be,ct){const[Et,kt]=this.currentPath.at(-1);Be===Et&&ct===kt||(this.currentPath.push([Be,ct]),St(this,Q,[Be,ct]))},ae=new WeakSet,$i=function(Be,ct){var tn;this.ctx.closePath(),St(this,ue,null),Be=Math.min(Math.max(Be,0),this.canvas.width),ct=Math.min(Math.max(ct,0),this.canvas.height);const[Et,kt]=this.currentPath.at(-1);(Be!==Et||ct!==kt)&&this.currentPath.push([Be,ct]);let Xt;if(this.currentPath.length!==1)Xt=(0,B.fitCurve)(this.currentPath,30,null);else{const Yt=[Be,ct];Xt=[[Yt,Yt.slice(),Yt.slice(),Yt]]}const en=ft(tn=Le,ge,Ur).call(tn,Xt);this.currentPath.length=0;const zt=()=>{this.paths.push(Xt),this.bezierPath2D.push(en),this.rebuild()},Ut=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ft(this,Fe,_r).call(this),ft(this,rt,Er).call(this)),ft(this,jt,lr).call(this))};this.addCommands({cmd:zt,undo:Ut,mustExec:!0})},fe=new WeakSet,Un=function(){if(this.isEmpty()){ft(this,ve,yr).call(this);return}ft(this,Ie,zr).call(this);const{canvas:Be,ctx:ct}=this;ct.setTransform(1,0,0,1,0,0),ct.clearRect(0,0,Be.width,Be.height),ft(this,ve,yr).call(this);for(const Et of this.bezierPath2D)ct.stroke(Et)},Ee=new WeakSet,Hr=function(Be){ft(this,ae,$i).call(this,Be.offsetX,Be.offsetY),this.canvas.removeEventListener("pointerleave",me(this,Y)),this.canvas.removeEventListener("pointermove",me(this,K)),this.addToAnnotationStorage()},Fe=new WeakSet,_r=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Le._l10nPromise.get("editor_ink_canvas_aria_label").then(Be=>{var ct;return(ct=this.canvas)==null?void 0:ct.setAttribute("aria-label",Be)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rt=new WeakSet,Er=function(){let Be=null;St(this,Z,new ResizeObserver(ct=>{const Et=ct[0].contentRect;Et.width&&Et.height&&(Be!==null&&clearTimeout(Be),Be=setTimeout(()=>{this.fixDims(),Be=null},he),this.setDimensions(Et.width,Et.height))})),me(this,Z).observe(this.div)},tt=new WeakSet,cr=function(){if(!me(this,q))return;const[Be,ct]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Be),this.canvas.height=Math.ceil(this.height*ct),ft(this,ve,yr).call(this)},oe=new WeakSet,Vr=function(Be,ct){const Et=ft(this,yt,Sr).call(this),kt=(Be-Et)/me(this,J),Xt=(ct-Et)/me(this,pe);this.scaleFactor=Math.min(kt,Xt)},ve=new WeakSet,yr=function(){const Be=ft(this,yt,Sr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Be,this.translationY*this.scaleFactor+Be)},ge=new WeakSet,Ur=function(Be){const ct=new Path2D;for(let Et=0,kt=Be.length;Et<kt;Et++){const[Xt,en,zt,Ut]=Be[Et];Et===0&&ct.moveTo(...Xt),ct.bezierCurveTo(en[0],en[1],zt[0],zt[1],Ut[0],Ut[1])}return ct},Qe=new WeakSet,xi=function(Be,ct,Et,kt){const en=[],zt=this.thickness/2;let Ut,tn;for(const Yt of this.paths){Ut=[],tn=[];for(let Jt=0,dn=Yt.length;Jt<dn;Jt++){const[hn,vn,$n,xn]=Yt[Jt],fn=Be*(hn[0]+ct)+zt,On=kt-Be*(hn[1]+Et)-zt,Pn=Be*(vn[0]+ct)+zt,Zn=kt-Be*(vn[1]+Et)-zt,Jn=Be*($n[0]+ct)+zt,Qn=kt-Be*($n[1]+Et)-zt,er=Be*(xn[0]+ct)+zt,tr=kt-Be*(xn[1]+Et)-zt;Jt===0&&(Ut.push(fn,On),tn.push(fn,On)),Ut.push(Pn,Zn,Jn,Qn,er,tr),ft(this,it,Ti).call(this,fn,On,Pn,Zn,Jn,Qn,er,tr,4,tn)}en.push({bezier:Ut,points:tn})}return en},it=new WeakSet,Ti=function(Be,ct,Et,kt,Xt,en,zt,Ut,tn,Yt){if(ft(this,ht,Mi).call(this,Be,ct,Et,kt,Xt,en,zt,Ut)){Yt.push(zt,Ut);return}for(let Jt=1;Jt<tn-1;Jt++){const dn=Jt/tn,hn=1-dn;let vn=dn*Be+hn*Et,$n=dn*ct+hn*kt,xn=dn*Et+hn*Xt,fn=dn*kt+hn*en;const On=dn*Xt+hn*zt,Pn=dn*en+hn*Ut;vn=dn*vn+hn*xn,$n=dn*$n+hn*fn,xn=dn*xn+hn*On,fn=dn*fn+hn*Pn,vn=dn*vn+hn*xn,$n=dn*$n+hn*fn,Yt.push(vn,$n)}Yt.push(zt,Ut)},ht=new WeakSet,Mi=function(Be,ct,Et,kt,Xt,en,zt,Ut){const Yt=(3*Et-2*Be-zt)**2,Jt=(3*kt-2*ct-Ut)**2,dn=(3*Xt-Be-2*zt)**2,hn=(3*en-ct-2*Ut)**2;return Math.max(Yt,dn)+Math.max(Jt,hn)<=10},pt=new WeakSet,Wr=function(){let Be=1/0,ct=-1/0,Et=1/0,kt=-1/0;for(const Xt of this.paths)for(const[en,zt,Ut,tn]of Xt){const Yt=O.Util.bezierBoundingBox(...en,...zt,...Ut,...tn);Be=Math.min(Be,Yt[0]),Et=Math.min(Et,Yt[1]),ct=Math.max(ct,Yt[2]),kt=Math.max(kt,Yt[3])}return[Be,Et,ct,kt]},yt=new WeakSet,Sr=function(){return me(this,V)?Math.ceil(this.thickness*this.parentScale):0},jt=new WeakSet,lr=function(Be=!1){if(this.isEmpty())return;if(!me(this,V)){ft(this,fe,Un).call(this);return}const ct=ft(this,pt,Wr).call(this),Et=ft(this,yt,Sr).call(this);St(this,J,Math.max(se,ct[2]-ct[0])),St(this,pe,Math.max(se,ct[3]-ct[1]));const kt=Math.ceil(Et+me(this,J)*this.scaleFactor),Xt=Math.ceil(Et+me(this,pe)*this.scaleFactor),[en,zt]=this.parentDimensions;this.width=kt/en,this.height=Xt/zt,St(this,te,kt/Xt),ft(this,bt,qr).call(this);const Ut=this.translationX,tn=this.translationY;this.translationX=-ct[0],this.translationY=-ct[1],ft(this,tt,cr).call(this),ft(this,fe,Un).call(this),St(this,W,kt),St(this,X,Xt),this.setDims(kt,Xt);const Yt=Be?Et/this.scaleFactor/2:0;this.translate(Ut-this.translationX-Yt,tn-this.translationY-Yt)},bt=new WeakSet,qr=function(){const{style:Be}=this.div;me(this,te)>=1?(Be.minHeight=`${se}px`,Be.minWidth=`${Math.round(me(this,te)*se)}px`):(Be.minWidth=`${se}px`,Be.minHeight=`${Math.round(se/me(this,te))}px`)},at(re,ge),gn(re,"_defaultColor",null),gn(re,"_defaultOpacity",1),gn(re,"_defaultThickness",1),gn(re,"_l10nPromise"),gn(re,"_type","ink"),$.InkEditor=re},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const O=H(31);$.fitCurve=O},A=>{function $(Y,G,U){if(!Array.isArray(Y))throw new TypeError("First argument should be an array");if(Y.forEach(Z=>{if(!Array.isArray(Z)||Z.some(W=>typeof W!="number")||Z.length!==Y[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Y=Y.filter((Z,W)=>W===0||!Z.every((X,ue)=>X===Y[W-1][ue])),Y.length<2)return[];const V=Y.length,q=pe(Y[1],Y[0]),Q=pe(Y[V-2],Y[V-1]);return H(Y,q,Q,G,U)}function H(Y,G,U,V,q){var Z,W,X,ue,be,_e,Pe,ce,$e,Xe,De,Ge,Ie;if(Y.length===2)return Ge=J.vectorLen(J.subtract(Y[0],Y[1]))/3,Z=[Y[0],J.addArrays(Y[0],J.mulItems(G,Ge)),J.addArrays(Y[1],J.mulItems(U,Ge)),Y[1]],[Z];if(W=se(Y),[Z,ue,_e]=O(Y,W,W,G,U,q),ue===0||ue<V)return[Z];if(ue<V*V)for(X=W,be=ue,Pe=_e,Ie=0;Ie<20;Ie++){if(X=B(Z,Y,X),[Z,ue,_e]=O(Y,W,X,G,U,q),ue<V)return[Z];if(_e===Pe){let Me=ue/be;if(Me>.9999&&Me<1.0001)break}be=ue,Pe=_e}return De=[],ce=J.subtract(Y[_e-1],Y[_e+1]),ce.every(Me=>Me===0)&&(ce=J.subtract(Y[_e-1],Y[_e]),[ce[0],ce[1]]=[-ce[1],ce[0]]),$e=J.normalize(ce),Xe=J.mulItems($e,-1),De=De.concat(H(Y.slice(0,_e+1),G,$e,V,q)),De=De.concat(H(Y.slice(_e),Xe,U,V,q)),De}function O(Y,G,U,V,q,Q){var Z,W,X;return Z=R(Y,U,V,q),[W,X]=he(Y,Z,G),Q&&Q({bez:Z,points:Y,params:G,maxErr:W,maxPoint:X}),[Z,W,X]}function R(Y,G,U,V){var q,Q,Z,W,X,ue,be,_e,Pe,ce,$e,Xe,De,Ge,Ie,Me,Te,et=Y[0],Ze=Y[Y.length-1];for(q=[et,null,null,Ze],Q=J.zeros_Xx2x2(G.length),De=0,Ge=G.length;De<Ge;De++)Me=G[De],Te=1-Me,Z=Q[De],Z[0]=J.mulItems(U,3*Me*(Te*Te)),Z[1]=J.mulItems(V,3*Te*(Me*Me));for(W=[[0,0],[0,0]],X=[0,0],De=0,Ge=Y.length;De<Ge;De++)Me=G[De],Z=Q[De],W[0][0]+=J.dot(Z[0],Z[0]),W[0][1]+=J.dot(Z[0],Z[1]),W[1][0]+=J.dot(Z[0],Z[1]),W[1][1]+=J.dot(Z[1],Z[1]),Ie=J.subtract(Y[De],K.q([et,et,Ze,Ze],Me)),X[0]+=J.dot(Z[0],Ie),X[1]+=J.dot(Z[1],Ie);return ue=W[0][0]*W[1][1]-W[1][0]*W[0][1],be=W[0][0]*X[1]-W[1][0]*X[0],_e=X[0]*W[1][1]-X[1]*W[0][1],Pe=ue===0?0:_e/ue,ce=ue===0?0:be/ue,Xe=J.vectorLen(J.subtract(et,Ze)),$e=1e-6*Xe,Pe<$e||ce<$e?(q[1]=J.addArrays(et,J.mulItems(U,Xe/3)),q[2]=J.addArrays(Ze,J.mulItems(V,Xe/3))):(q[1]=J.addArrays(et,J.mulItems(U,Pe)),q[2]=J.addArrays(Ze,J.mulItems(V,ce))),q}function B(Y,G,U){return U.map((V,q)=>ie(Y,G[q],V))}function ie(Y,G,U){var V=J.subtract(K.q(Y,U),G),q=K.qprime(Y,U),Q=J.mulMatrix(V,q),Z=J.sum(J.squareItems(q))+2*J.mulMatrix(V,K.qprimeprime(Y,U));return Z===0?U:U-Q/Z}function se(Y){var G=[],U,V,q;return Y.forEach((Q,Z)=>{U=Z?V+J.vectorLen(J.subtract(Q,q)):0,G.push(U),V=U,q=Q}),G=G.map(Q=>Q/V),G}function he(Y,G,U){var V,q,Q,Z,W,X,ue,be;q=0,Q=Math.floor(Y.length/2);const _e=re(G,10);for(W=0,X=Y.length;W<X;W++)ue=Y[W],be=te(G,U[W],_e,10),Z=J.subtract(K.q(G,be),ue),V=Z[0]*Z[0]+Z[1]*Z[1],V>q&&(q=V,Q=W);return[q,Q]}var re=function(Y,G){for(var U,V=[0],q=Y[0],Q=0,Z=1;Z<=G;Z++)U=K.q(Y,Z/G),Q+=J.vectorLen(J.subtract(U,q)),V.push(Q),q=U;return V=V.map(W=>W/Q),V};function te(Y,G,U,V){if(G<0)return 0;if(G>1)return 1;for(var q,Q,Z,W,X,ue=1;ue<=V;ue++)if(G<=U[ue]){W=(ue-1)/V,Z=ue/V,Q=U[ue-1],q=U[ue],X=(G-Q)/(q-Q)*(Z-W)+W;break}return X}function pe(Y,G){return J.normalize(J.subtract(Y,G))}class J{static zeros_Xx2x2(G){for(var U=[];G--;)U.push([0,0]);return U}static mulItems(G,U){return G.map(V=>V*U)}static mulMatrix(G,U){return G.reduce((V,q,Q)=>V+q*U[Q],0)}static subtract(G,U){return G.map((V,q)=>V-U[q])}static addArrays(G,U){return G.map((V,q)=>V+U[q])}static addItems(G,U){return G.map(V=>V+U)}static sum(G){return G.reduce((U,V)=>U+V)}static dot(G,U){return J.mulMatrix(G,U)}static vectorLen(G){return Math.hypot(...G)}static divItems(G,U){return G.map(V=>V/U)}static squareItems(G){return G.map(U=>U*U)}static normalize(G){return this.divItems(G,this.vectorLen(G))}}class K{static q(G,U){var V=1-U,q=J.mulItems(G[0],V*V*V),Q=J.mulItems(G[1],3*V*V*U),Z=J.mulItems(G[2],3*V*U*U),W=J.mulItems(G[3],U*U*U);return J.addArrays(J.addArrays(q,Q),J.addArrays(Z,W))}static qprime(G,U){var V=1-U,q=J.mulItems(J.subtract(G[1],G[0]),3*V*V),Q=J.mulItems(J.subtract(G[2],G[1]),6*V*U),Z=J.mulItems(J.subtract(G[3],G[2]),3*U*U);return J.addArrays(J.addArrays(q,Q),Z)}static qprimeprime(G,U){return J.addArrays(J.mulItems(J.addArrays(J.subtract(G[2],J.mulItems(G[1],2)),G[0]),6*(1-U)),J.mulItems(J.addArrays(J.subtract(G[3],J.mulItems(G[2],2)),G[1]),6*U))}}A.exports=$,A.exports.fitCubic=H,A.exports.createTangent=pe},(A,$,H)=>{var ne,Yn,Se,Ri,Fe,Gr,rt,Xr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var O=H(1),R=H(6),B=H(3),ie=H(33),se=H(34);const he=1e3,re=9,te=new WeakSet;function pe(ze){return{width:ze[2]-ze[0],height:ze[3]-ze[1]}}class J{static create(oe){switch(oe.data.annotationType){case O.AnnotationType.LINK:return new Y(oe);case O.AnnotationType.TEXT:return new G(oe);case O.AnnotationType.WIDGET:switch(oe.data.fieldType){case"Tx":return new V(oe);case"Btn":return oe.data.radioButton?new Q(oe):oe.data.checkBox?new q(oe):new Z(oe);case"Ch":return new W(oe)}return new U(oe);case O.AnnotationType.POPUP:return new X(oe);case O.AnnotationType.FREETEXT:return new be(oe);case O.AnnotationType.LINE:return new _e(oe);case O.AnnotationType.SQUARE:return new Pe(oe);case O.AnnotationType.CIRCLE:return new ce(oe);case O.AnnotationType.POLYLINE:return new $e(oe);case O.AnnotationType.CARET:return new De(oe);case O.AnnotationType.INK:return new Ge(oe);case O.AnnotationType.POLYGON:return new Xe(oe);case O.AnnotationType.HIGHLIGHT:return new Ie(oe);case O.AnnotationType.UNDERLINE:return new Me(oe);case O.AnnotationType.SQUIGGLY:return new Te(oe);case O.AnnotationType.STRIKEOUT:return new et(oe);case O.AnnotationType.STAMP:return new Ze(oe);case O.AnnotationType.FILEATTACHMENT:return new ye(oe);default:return new K(oe)}}}class K{constructor(oe,{isRenderable:le=!1,ignoreBorder:ve=!1,createQuadrilaterals:Ae=!1}={}){this.isRenderable=le,this.data=oe.data,this.layer=oe.layer,this.page=oe.page,this.viewport=oe.viewport,this.linkService=oe.linkService,this.downloadManager=oe.downloadManager,this.imageResourcesPath=oe.imageResourcesPath,this.renderForms=oe.renderForms,this.svgFactory=oe.svgFactory,this.annotationStorage=oe.annotationStorage,this.enableScripting=oe.enableScripting,this.hasJSActions=oe.hasJSActions,this._fieldObjects=oe.fieldObjects,le&&(this.container=this._createContainer(ve)),Ae&&(this.quadrilaterals=this._createQuadrilaterals(ve))}_createContainer(oe=!1){const{data:le,page:ve,viewport:Ae}=this,ge=document.createElement("section");ge.setAttribute("data-annotation-id",le.id);const{pageWidth:we,pageHeight:Qe,pageX:st,pageY:it}=Ae.rawDims,{width:Ue,height:ht}=pe(le.rect),lt=O.Util.normalizeRect([le.rect[0],ve.view[3]-le.rect[1]+ve.view[1],le.rect[2],ve.view[3]-le.rect[3]+ve.view[1]]);if(!oe&&le.borderStyle.width>0){ge.style.borderWidth=`${le.borderStyle.width}px`;const Ct=le.borderStyle.horizontalCornerRadius,yt=le.borderStyle.verticalCornerRadius;if(Ct>0||yt>0){const jt=`calc(${Ct}px * var(--scale-factor)) / calc(${yt}px * var(--scale-factor))`;ge.style.borderRadius=jt}else if(this instanceof Q){const jt=`calc(${Ue}px * var(--scale-factor)) / calc(${ht}px * var(--scale-factor))`;ge.style.borderRadius=jt}switch(le.borderStyle.style){case O.AnnotationBorderStyleType.SOLID:ge.style.borderStyle="solid";break;case O.AnnotationBorderStyleType.DASHED:ge.style.borderStyle="dashed";break;case O.AnnotationBorderStyleType.BEVELED:(0,O.warn)("Unimplemented border style: beveled");break;case O.AnnotationBorderStyleType.INSET:(0,O.warn)("Unimplemented border style: inset");break;case O.AnnotationBorderStyleType.UNDERLINE:ge.style.borderBottomStyle="solid";break}const $t=le.borderColor||null;$t?ge.style.borderColor=O.Util.makeHexColor($t[0]|0,$t[1]|0,$t[2]|0):ge.style.borderWidth=0}ge.style.left=`${100*(lt[0]-st)/we}%`,ge.style.top=`${100*(lt[1]-it)/Qe}%`;const{rotation:pt}=le;return le.hasOwnCanvas||pt===0?(ge.style.width=`${100*Ue/we}%`,ge.style.height=`${100*ht/Qe}%`):this.setRotation(pt,ge),ge}setRotation(oe,le=this.container){const{pageWidth:ve,pageHeight:Ae}=this.viewport.rawDims,{width:ge,height:we}=pe(this.data.rect);let Qe,st;oe%180===0?(Qe=100*ge/ve,st=100*we/Ae):(Qe=100*we/ve,st=100*ge/Ae),le.style.width=`${Qe}%`,le.style.height=`${st}%`,le.setAttribute("data-main-rotation",(360-oe)%360)}get _commonActions(){const oe=(le,ve,Ae)=>{const ge=Ae.detail[le];Ae.target.style[ve]=ie.ColorConverters[`${ge[0]}_HTML`](ge.slice(1))};return(0,O.shadow)(this,"_commonActions",{display:le=>{const ve=le.detail.display%2===1;this.container.style.visibility=ve?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ve,print:le.detail.display===0||le.detail.display===3})},print:le=>{this.annotationStorage.setValue(this.data.id,{print:le.detail.print})},hidden:le=>{this.container.style.visibility=le.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:le.detail.hidden})},focus:le=>{setTimeout(()=>le.target.focus({preventScroll:!1}),0)},userName:le=>{le.target.title=le.detail.userName},readonly:le=>{le.detail.readonly?le.target.setAttribute("readonly",""):le.target.removeAttribute("readonly")},required:le=>{this._setRequired(le.target,le.detail.required)},bgColor:le=>{oe("bgColor","backgroundColor",le)},fillColor:le=>{oe("fillColor","backgroundColor",le)},fgColor:le=>{oe("fgColor","color",le)},textColor:le=>{oe("textColor","color",le)},borderColor:le=>{oe("borderColor","borderColor",le)},strokeColor:le=>{oe("strokeColor","borderColor",le)},rotation:le=>{const ve=le.detail.rotation;this.setRotation(ve),this.annotationStorage.setValue(this.data.id,{rotation:ve})}})}_dispatchEventFromSandbox(oe,le){const ve=this._commonActions;for(const Ae of Object.keys(le.detail)){const ge=oe[Ae]||ve[Ae];ge==null||ge(le)}}_setDefaultPropertiesFromJS(oe){if(!this.enableScripting)return;const le=this.annotationStorage.getRawValue(this.data.id);if(!le)return;const ve=this._commonActions;for(const[Ae,ge]of Object.entries(le)){const we=ve[Ae];if(we){const Qe={detail:{[Ae]:ge},target:oe};we(Qe),delete le[Ae]}}}_createQuadrilaterals(oe=!1){if(!this.data.quadPoints)return null;const le=[],ve=this.data.rect;for(const Ae of this.data.quadPoints)this.data.rect=[Ae[2].x,Ae[2].y,Ae[1].x,Ae[1].y],le.push(this._createContainer(oe));return this.data.rect=ve,le}_createPopup(oe,le){let ve=this.container;this.quadrilaterals&&(oe=oe||this.quadrilaterals,ve=this.quadrilaterals[0]),oe||(oe=document.createElement("div"),oe.className="popupTriggerArea",ve.append(oe));const ge=new ue({container:ve,trigger:oe,color:le.color,titleObj:le.titleObj,modificationDate:le.modificationDate,contentsObj:le.contentsObj,richText:le.richText,hideWrapper:!0}).render();ge.style.left="100%",ve.append(ge)}_renderQuadrilaterals(oe){for(const le of this.quadrilaterals)le.className=oe;return this.quadrilaterals}render(){(0,O.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(oe,le=null){const ve=[];if(this._fieldObjects){const Ae=this._fieldObjects[oe];if(Ae)for(const{page:ge,id:we,exportValues:Qe}of Ae){if(ge===-1||we===le)continue;const st=typeof Qe=="string"?Qe:null,it=document.querySelector(`[data-element-id="${we}"]`);if(it&&!te.has(it)){(0,O.warn)(`_getElementsByName - element not allowed: ${we}`);continue}ve.push({id:we,exportValue:st,domElement:it})}return ve}for(const Ae of document.getElementsByName(oe)){const{exportValue:ge}=Ae,we=Ae.getAttribute("data-element-id");we!==le&&te.has(Ae)&&ve.push({id:we,exportValue:ge,domElement:Ae})}return ve}}class Y extends K{constructor(le,ve=null){super(le,{isRenderable:!0,ignoreBorder:!!(ve!=null&&ve.ignoreBorder),createQuadrilaterals:!0});at(this,ne);at(this,Se);this.isTooltipOnly=le.data.isTooltipOnly}render(){const{data:le,linkService:ve}=this,Ae=document.createElement("a");Ae.setAttribute("data-element-id",le.id);let ge=!1;return le.url?(ve.addLinkAttributes(Ae,le.url,le.newWindow),ge=!0):le.action?(this._bindNamedAction(Ae,le.action),ge=!0):le.attachment?(this._bindAttachment(Ae,le.attachment),ge=!0):le.setOCGState?(ft(this,Se,Ri).call(this,Ae,le.setOCGState),ge=!0):le.dest?(this._bindLink(Ae,le.dest),ge=!0):(le.actions&&(le.actions.Action||le.actions["Mouse Up"]||le.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ae,le),ge=!0),le.resetForm?(this._bindResetFormAction(Ae,le.resetForm),ge=!0):this.isTooltipOnly&&!ge&&(this._bindLink(Ae,""),ge=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((we,Qe)=>{const st=Qe===0?Ae:Ae.cloneNode();return we.append(st),we}):(this.container.className="linkAnnotation",ge&&this.container.append(Ae),this.container)}_bindLink(le,ve){le.href=this.linkService.getDestinationHash(ve),le.onclick=()=>(ve&&this.linkService.goToDestination(ve),!1),(ve||ve==="")&&ft(this,ne,Yn).call(this)}_bindNamedAction(le,ve){le.href=this.linkService.getAnchorUrl(""),le.onclick=()=>(this.linkService.executeNamedAction(ve),!1),ft(this,ne,Yn).call(this)}_bindAttachment(le,ve){le.href=this.linkService.getAnchorUrl(""),le.onclick=()=>{var Ae;return(Ae=this.downloadManager)==null||Ae.openOrDownloadData(this.container,ve.content,ve.filename),!1},ft(this,ne,Yn).call(this)}_bindJSAction(le,ve){le.href=this.linkService.getAnchorUrl("");const Ae=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ge of Object.keys(ve.actions)){const we=Ae.get(ge);we&&(le[we]=()=>{var Qe;return(Qe=this.linkService.eventBus)==null||Qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ve.id,name:ge}}),!1})}le.onclick||(le.onclick=()=>!1),ft(this,ne,Yn).call(this)}_bindResetFormAction(le,ve){const Ae=le.onclick;if(Ae||(le.href=this.linkService.getAnchorUrl("")),ft(this,ne,Yn).call(this),!this._fieldObjects){(0,O.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ae||(le.onclick=()=>!1);return}le.onclick=()=>{var ht;Ae==null||Ae();const{fields:ge,refs:we,include:Qe}=ve,st=[];if(ge.length!==0||we.length!==0){const lt=new Set(we);for(const pt of ge){const Ct=this._fieldObjects[pt]||[];for(const{id:yt}of Ct)lt.add(yt)}for(const pt of Object.values(this._fieldObjects))for(const Ct of pt)lt.has(Ct.id)===Qe&&st.push(Ct)}else for(const lt of Object.values(this._fieldObjects))st.push(...lt);const it=this.annotationStorage,Ue=[];for(const lt of st){const{id:pt}=lt;switch(Ue.push(pt),lt.type){case"text":{const yt=lt.defaultValue||"";it.setValue(pt,{value:yt});break}case"checkbox":case"radiobutton":{const yt=lt.defaultValue===lt.exportValues;it.setValue(pt,{value:yt});break}case"combobox":case"listbox":{const yt=lt.defaultValue||"";it.setValue(pt,{value:yt});break}default:continue}const Ct=document.querySelector(`[data-element-id="${pt}"]`);if(Ct){if(!te.has(Ct)){(0,O.warn)(`_bindResetFormAction - element not allowed: ${pt}`);continue}}else continue;Ct.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ht=this.linkService.eventBus)==null||ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ue,name:"ResetForm"}})),!1}}}ne=new WeakSet,Yn=function(){this.container.setAttribute("data-internal-link","")},Se=new WeakSet,Ri=function(le,ve){le.href=this.linkService.getAnchorUrl(""),le.onclick=()=>(this.linkService.executeSetOCGState(ve),!1),ft(this,ne,Yn).call(this)};class G extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le})}render(){this.container.className="textAnnotation";const oe=document.createElement("img");return oe.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",oe.alt="[{{type}} Annotation]",oe.dataset.l10nId="text_annotation_type",oe.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(oe,this.data),this.container.append(oe),this.container}}class U extends K{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(oe){const{isWin:le,isMac:ve}=O.FeatureTest.platform;return le&&oe.ctrlKey||ve&&oe.metaKey}_setEventListener(oe,le,ve,Ae){le.includes("mouse")?oe.addEventListener(le,ge=>{var we;(we=this.linkService.eventBus)==null||we.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ve,value:Ae(ge),shift:ge.shiftKey,modifier:this._getKeyModifier(ge)}})}):oe.addEventListener(le,ge=>{var we;(we=this.linkService.eventBus)==null||we.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ve,value:Ae(ge)}})})}_setEventListeners(oe,le,ve){var Ae;for(const[ge,we]of le)(we==="Action"||(Ae=this.data.actions)!=null&&Ae[we])&&this._setEventListener(oe,ge,we,ve)}_setBackgroundColor(oe){const le=this.data.backgroundColor||null;oe.style.backgroundColor=le===null?"transparent":O.Util.makeHexColor(le[0],le[1],le[2])}_setTextStyle(oe){const le=["left","center","right"],{fontColor:ve}=this.data.defaultAppearanceData,Ae=this.data.defaultAppearanceData.fontSize||re,ge=oe.style;let we;const Qe=2,st=it=>Math.round(10*it)/10;if(this.data.multiLine){const it=Math.abs(this.data.rect[3]-this.data.rect[1]-Qe),Ue=Math.round(it/(O.LINE_FACTOR*Ae))||1,ht=it/Ue;we=Math.min(Ae,st(ht/O.LINE_FACTOR))}else{const it=Math.abs(this.data.rect[3]-this.data.rect[1]-Qe);we=Math.min(Ae,st(it/O.LINE_FACTOR))}ge.fontSize=`calc(${we}px * var(--scale-factor))`,ge.color=O.Util.makeHexColor(ve[0],ve[1],ve[2]),this.data.textAlignment!==null&&(ge.textAlign=le[this.data.textAlignment])}_setRequired(oe,le){le?oe.setAttribute("required",!0):oe.removeAttribute("required"),oe.setAttribute("aria-required",le)}}class V extends U{constructor(oe){const le=oe.renderForms||!oe.data.hasAppearance&&!!oe.data.fieldValue;super(oe,{isRenderable:le})}setPropertyOnSiblings(oe,le,ve,Ae){const ge=this.annotationStorage;for(const we of this._getElementsByName(oe.name,oe.id))we.domElement&&(we.domElement[le]=ve),ge.setValue(we.id,{[Ae]:ve})}render(){var Ae;const oe=this.annotationStorage,le=this.data.id;this.container.className="textWidgetAnnotation";let ve=null;if(this.renderForms){const ge=oe.getValue(le,{value:this.data.fieldValue});let we=ge.formattedValue||ge.value||"";const Qe=oe.getValue(le,{charLimit:this.data.maxLen}).charLimit;Qe&&we.length>Qe&&(we=we.slice(0,Qe));const st={userValue:we,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ve=document.createElement("textarea"),ve.textContent=we,this.data.doNotScroll&&(ve.style.overflowY="hidden")):(ve=document.createElement("input"),ve.type="text",ve.setAttribute("value",we),this.data.doNotScroll&&(ve.style.overflowX="hidden")),te.add(ve),ve.setAttribute("data-element-id",le),ve.disabled=this.data.readOnly,ve.name=this.data.fieldName,ve.tabIndex=he,this._setRequired(ve,this.data.required),Qe&&(ve.maxLength=Qe),ve.addEventListener("input",Ue=>{oe.setValue(le,{value:Ue.target.value}),this.setPropertyOnSiblings(ve,"value",Ue.target.value,"value")}),ve.addEventListener("resetform",Ue=>{const ht=this.data.defaultFieldValue??"";ve.value=st.userValue=ht,st.formattedValue=null});let it=Ue=>{const{formattedValue:ht}=st;ht!=null&&(Ue.target.value=ht),Ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ve.addEventListener("focus",ht=>{const{target:lt}=ht;st.userValue&&(lt.value=st.userValue),st.lastCommittedValue=lt.value,st.commitKey=1}),ve.addEventListener("updatefromsandbox",ht=>{const lt={value(pt){st.userValue=pt.detail.value??"",oe.setValue(le,{value:st.userValue.toString()}),pt.target.value=st.userValue},formattedValue(pt){const{formattedValue:Ct}=pt.detail;st.formattedValue=Ct,Ct!=null&&pt.target!==document.activeElement&&(pt.target.value=Ct),oe.setValue(le,{formattedValue:Ct})},selRange(pt){pt.target.setSelectionRange(...pt.detail.selRange)},charLimit:pt=>{var jt;const{charLimit:Ct}=pt.detail,{target:yt}=pt;if(Ct===0){yt.removeAttribute("maxLength");return}yt.setAttribute("maxLength",Ct);let $t=st.userValue;!$t||$t.length<=Ct||($t=$t.slice(0,Ct),yt.value=st.userValue=$t,oe.setValue(le,{value:$t}),(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:yt.selectionStart,selEnd:yt.selectionEnd}}))}};this._dispatchEventFromSandbox(lt,ht)}),ve.addEventListener("keydown",ht=>{var Ct;st.commitKey=1;let lt=-1;if(ht.key==="Escape"?lt=0:ht.key==="Enter"&&!this.data.multiLine?lt=2:ht.key==="Tab"&&(st.commitKey=3),lt===-1)return;const{value:pt}=ht.target;st.lastCommittedValue!==pt&&(st.lastCommittedValue=pt,st.userValue=pt,(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:pt,willCommit:!0,commitKey:lt,selStart:ht.target.selectionStart,selEnd:ht.target.selectionEnd}}))});const Ue=it;it=null,ve.addEventListener("blur",ht=>{var pt;if(!ht.relatedTarget)return;const{value:lt}=ht.target;st.userValue=lt,st.lastCommittedValue!==lt&&((pt=this.linkService.eventBus)==null||pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:lt,willCommit:!0,commitKey:st.commitKey,selStart:ht.target.selectionStart,selEnd:ht.target.selectionEnd}})),Ue(ht)}),(Ae=this.data.actions)!=null&&Ae.Keystroke&&ve.addEventListener("beforeinput",ht=>{var bt;st.lastCommittedValue=null;const{data:lt,target:pt}=ht,{value:Ct,selectionStart:yt,selectionEnd:$t}=pt;let jt=yt,nt=$t;switch(ht.inputType){case"deleteWordBackward":{const Ke=Ct.substring(0,yt).match(/\w*[^\w]*$/);Ke&&(jt-=Ke[0].length);break}case"deleteWordForward":{const Ke=Ct.substring(yt).match(/^[^\w]*\w*/);Ke&&(nt+=Ke[0].length);break}case"deleteContentBackward":yt===$t&&(jt-=1);break;case"deleteContentForward":yt===$t&&(nt+=1);break}ht.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:Ct,change:lt||"",willCommit:!1,selStart:jt,selEnd:nt}})}),this._setEventListeners(ve,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ht=>ht.target.value)}if(it&&ve.addEventListener("blur",it),this.data.comb){const ht=(this.data.rect[2]-this.data.rect[0])/Qe;ve.classList.add("comb"),ve.style.letterSpacing=`calc(${ht}px * var(--scale-factor) - 1ch)`}}else ve=document.createElement("div"),ve.textContent=this.data.fieldValue,ve.style.verticalAlign="middle",ve.style.display="table-cell";return this._setTextStyle(ve),this._setBackgroundColor(ve),this._setDefaultPropertiesFromJS(ve),this.container.append(ve),this.container}}class q extends U{constructor(oe){super(oe,{isRenderable:oe.renderForms})}render(){const oe=this.annotationStorage,le=this.data,ve=le.id;let Ae=oe.getValue(ve,{value:le.exportValue===le.fieldValue}).value;typeof Ae=="string"&&(Ae=Ae!=="Off",oe.setValue(ve,{value:Ae})),this.container.className="buttonWidgetAnnotation checkBox";const ge=document.createElement("input");return te.add(ge),ge.setAttribute("data-element-id",ve),ge.disabled=le.readOnly,this._setRequired(ge,this.data.required),ge.type="checkbox",ge.name=le.fieldName,Ae&&ge.setAttribute("checked",!0),ge.setAttribute("exportValue",le.exportValue),ge.tabIndex=he,ge.addEventListener("change",we=>{const{name:Qe,checked:st}=we.target;for(const it of this._getElementsByName(Qe,ve)){const Ue=st&&it.exportValue===le.exportValue;it.domElement&&(it.domElement.checked=Ue),oe.setValue(it.id,{value:Ue})}oe.setValue(ve,{value:st})}),ge.addEventListener("resetform",we=>{const Qe=le.defaultFieldValue||"Off";we.target.checked=Qe===le.exportValue}),this.enableScripting&&this.hasJSActions&&(ge.addEventListener("updatefromsandbox",we=>{const Qe={value(st){st.target.checked=st.detail.value!=="Off",oe.setValue(ve,{value:st.target.checked})}};this._dispatchEventFromSandbox(Qe,we)}),this._setEventListeners(ge,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],we=>we.target.checked)),this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class Q extends U{constructor(oe){super(oe,{isRenderable:oe.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const oe=this.annotationStorage,le=this.data,ve=le.id;let Ae=oe.getValue(ve,{value:le.fieldValue===le.buttonValue}).value;typeof Ae=="string"&&(Ae=Ae!==le.buttonValue,oe.setValue(ve,{value:Ae}));const ge=document.createElement("input");if(te.add(ge),ge.setAttribute("data-element-id",ve),ge.disabled=le.readOnly,this._setRequired(ge,this.data.required),ge.type="radio",ge.name=le.fieldName,Ae&&ge.setAttribute("checked",!0),ge.tabIndex=he,ge.addEventListener("change",we=>{const{name:Qe,checked:st}=we.target;for(const it of this._getElementsByName(Qe,ve))oe.setValue(it.id,{value:!1});oe.setValue(ve,{value:st})}),ge.addEventListener("resetform",we=>{const Qe=le.defaultFieldValue;we.target.checked=Qe!=null&&Qe===le.buttonValue}),this.enableScripting&&this.hasJSActions){const we=le.buttonValue;ge.addEventListener("updatefromsandbox",Qe=>{const st={value:it=>{const Ue=we===it.detail.value;for(const ht of this._getElementsByName(it.target.name)){const lt=Ue&&ht.id===ve;ht.domElement&&(ht.domElement.checked=lt),oe.setValue(ht.id,{value:lt})}}};this._dispatchEventFromSandbox(st,Qe)}),this._setEventListeners(ge,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Qe=>Qe.target.checked)}return this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class Z extends Y{constructor(oe){super(oe,{ignoreBorder:oe.data.hasAppearance})}render(){const oe=super.render();oe.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(oe.title=this.data.alternativeText);const le=oe.lastChild;return this.enableScripting&&this.hasJSActions&&le&&(this._setDefaultPropertiesFromJS(le),le.addEventListener("updatefromsandbox",ve=>{this._dispatchEventFromSandbox({},ve)})),oe}}class W extends U{constructor(oe){super(oe,{isRenderable:oe.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const oe=this.annotationStorage,le=this.data.id,ve=oe.getValue(le,{value:this.data.fieldValue}),Ae=document.createElement("select");te.add(Ae),Ae.setAttribute("data-element-id",le),Ae.disabled=this.data.readOnly,this._setRequired(Ae,this.data.required),Ae.name=this.data.fieldName,Ae.tabIndex=he;let ge=this.data.combo&&this.data.options.length>0;this.data.combo||(Ae.size=this.data.options.length,this.data.multiSelect&&(Ae.multiple=!0)),Ae.addEventListener("resetform",Ue=>{const ht=this.data.defaultFieldValue;for(const lt of Ae.options)lt.selected=lt.value===ht});for(const Ue of this.data.options){const ht=document.createElement("option");ht.textContent=Ue.displayValue,ht.value=Ue.exportValue,ve.value.includes(Ue.exportValue)&&(ht.setAttribute("selected",!0),ge=!1),Ae.append(ht)}let we=null;if(ge){const Ue=document.createElement("option");Ue.value=" ",Ue.setAttribute("hidden",!0),Ue.setAttribute("selected",!0),Ae.prepend(Ue),we=()=>{Ue.remove(),Ae.removeEventListener("input",we),we=null},Ae.addEventListener("input",we)}const Qe=Ue=>{const ht=Ue?"value":"textContent",{options:lt,multiple:pt}=Ae;return pt?Array.prototype.filter.call(lt,Ct=>Ct.selected).map(Ct=>Ct[ht]):lt.selectedIndex===-1?null:lt[lt.selectedIndex][ht]};let st=Qe(!1);const it=Ue=>{const ht=Ue.target.options;return Array.prototype.map.call(ht,lt=>({displayValue:lt.textContent,exportValue:lt.value}))};return this.enableScripting&&this.hasJSActions?(Ae.addEventListener("updatefromsandbox",Ue=>{const ht={value(lt){we==null||we();const pt=lt.detail.value,Ct=new Set(Array.isArray(pt)?pt:[pt]);for(const yt of Ae.options)yt.selected=Ct.has(yt.value);oe.setValue(le,{value:Qe(!0)}),st=Qe(!1)},multipleSelection(lt){Ae.multiple=!0},remove(lt){const pt=Ae.options,Ct=lt.detail.remove;pt[Ct].selected=!1,Ae.remove(Ct),pt.length>0&&Array.prototype.findIndex.call(pt,$t=>$t.selected)===-1&&(pt[0].selected=!0),oe.setValue(le,{value:Qe(!0),items:it(lt)}),st=Qe(!1)},clear(lt){for(;Ae.length!==0;)Ae.remove(0);oe.setValue(le,{value:null,items:[]}),st=Qe(!1)},insert(lt){const{index:pt,displayValue:Ct,exportValue:yt}=lt.detail.insert,$t=Ae.children[pt],jt=document.createElement("option");jt.textContent=Ct,jt.value=yt,$t?$t.before(jt):Ae.append(jt),oe.setValue(le,{value:Qe(!0),items:it(lt)}),st=Qe(!1)},items(lt){const{items:pt}=lt.detail;for(;Ae.length!==0;)Ae.remove(0);for(const Ct of pt){const{displayValue:yt,exportValue:$t}=Ct,jt=document.createElement("option");jt.textContent=yt,jt.value=$t,Ae.append(jt)}Ae.options.length>0&&(Ae.options[0].selected=!0),oe.setValue(le,{value:Qe(!0),items:it(lt)}),st=Qe(!1)},indices(lt){const pt=new Set(lt.detail.indices);for(const Ct of lt.target.options)Ct.selected=pt.has(Ct.index);oe.setValue(le,{value:Qe(!0)}),st=Qe(!1)},editable(lt){lt.target.disabled=!lt.detail.editable}};this._dispatchEventFromSandbox(ht,Ue)}),Ae.addEventListener("input",Ue=>{var lt;const ht=Qe(!0);oe.setValue(le,{value:ht}),Ue.preventDefault(),(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:st,changeEx:ht,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ae,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ue=>Ue.target.checked)):Ae.addEventListener("input",function(Ue){oe.setValue(le,{value:Qe(!0)})}),this.data.combo&&this._setTextStyle(Ae),this._setBackgroundColor(Ae),this._setDefaultPropertiesFromJS(Ae),this.container.append(Ae),this.container}}const ke=class extends K{constructor(oe){var Ae,ge,we;const{data:le}=oe,ve=!ke.IGNORE_TYPES.has(le.parentType)&&!!((Ae=le.titleObj)!=null&&Ae.str||(ge=le.contentsObj)!=null&&ge.str||(we=le.richText)!=null&&we.str);super(oe,{isRenderable:ve})}render(){this.container.className="popupAnnotation";const oe=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(oe.length===0)return this.container;const le=new ue({container:this.container,trigger:Array.from(oe),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ve=this.page,Ae=O.Util.normalizeRect([this.data.parentRect[0],ve.view[3]-this.data.parentRect[1]+ve.view[1],this.data.parentRect[2],ve.view[3]-this.data.parentRect[3]+ve.view[1]]),ge=Ae[0]+this.data.parentRect[2]-this.data.parentRect[0],we=Ae[1],{pageWidth:Qe,pageHeight:st,pageX:it,pageY:Ue}=this.viewport.rawDims;return this.container.style.left=`${100*(ge-it)/Qe}%`,this.container.style.top=`${100*(we-Ue)/st}%`,this.container.append(le.render()),this.container}};let X=ke;gn(X,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class ue{constructor(oe){this.container=oe.container,this.trigger=oe.trigger,this.color=oe.color,this.titleObj=oe.titleObj,this.modificationDate=oe.modificationDate,this.contentsObj=oe.contentsObj,this.richText=oe.richText,this.hideWrapper=oe.hideWrapper||!1,this.pinned=!1}render(){var Qe,st;const le=document.createElement("div");le.className="popupWrapper",this.hideElement=this.hideWrapper?le:this.container,this.hideElement.hidden=!0;const ve=document.createElement("div");ve.className="popup";const Ae=this.color;if(Ae){const it=.7*(255-Ae[0])+Ae[0],Ue=.7*(255-Ae[1])+Ae[1],ht=.7*(255-Ae[2])+Ae[2];ve.style.backgroundColor=O.Util.makeHexColor(it|0,Ue|0,ht|0)}const ge=document.createElement("h1");ge.dir=this.titleObj.dir,ge.textContent=this.titleObj.str,ve.append(ge);const we=R.PDFDateString.toDateObject(this.modificationDate);if(we){const it=document.createElement("span");it.className="popupDate",it.textContent="{{date}}, {{time}}",it.dataset.l10nId="annotation_date_string",it.dataset.l10nArgs=JSON.stringify({date:we.toLocaleDateString(),time:we.toLocaleTimeString()}),ve.append(it)}if((Qe=this.richText)!=null&&Qe.str&&(!((st=this.contentsObj)!=null&&st.str)||this.contentsObj.str===this.richText.str))se.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ve}),ve.lastChild.className="richText popupContent";else{const it=this._formatContents(this.contentsObj);ve.append(it)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const it of this.trigger)it.addEventListener("click",this._toggle.bind(this)),it.addEventListener("mouseover",this._show.bind(this,!1)),it.addEventListener("mouseout",this._hide.bind(this,!1));return ve.addEventListener("click",this._hide.bind(this,!0)),le.append(ve),le}_formatContents({str:oe,dir:le}){const ve=document.createElement("p");ve.className="popupContent",ve.dir=le;const Ae=oe.split(/(?:\r\n?|\n)/);for(let ge=0,we=Ae.length;ge<we;++ge){const Qe=Ae[ge];ve.append(document.createTextNode(Qe)),ge<we-1&&ve.append(document.createElement("br"))}return ve}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(oe=!1){oe&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(oe=!0){oe&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class be extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0}),this.textContent=oe.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const oe=document.createElement("div");oe.className="annotationTextContent",oe.setAttribute("role","comment");for(const le of this.textContent){const ve=document.createElement("span");ve.textContent=le,oe.append(ve)}this.container.append(oe)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class _e extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const oe=this.data,{width:le,height:ve}=pe(oe.rect),Ae=this.svgFactory.create(le,ve,!0),ge=this.svgFactory.createElement("svg:line");return ge.setAttribute("x1",oe.rect[2]-oe.lineCoordinates[0]),ge.setAttribute("y1",oe.rect[3]-oe.lineCoordinates[1]),ge.setAttribute("x2",oe.rect[2]-oe.lineCoordinates[2]),ge.setAttribute("y2",oe.rect[3]-oe.lineCoordinates[3]),ge.setAttribute("stroke-width",oe.borderStyle.width||1),ge.setAttribute("stroke","transparent"),ge.setAttribute("fill","transparent"),Ae.append(ge),this.container.append(Ae),this._createPopup(ge,oe),this.container}}class Pe extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const oe=this.data,{width:le,height:ve}=pe(oe.rect),Ae=this.svgFactory.create(le,ve,!0),ge=oe.borderStyle.width,we=this.svgFactory.createElement("svg:rect");return we.setAttribute("x",ge/2),we.setAttribute("y",ge/2),we.setAttribute("width",le-ge),we.setAttribute("height",ve-ge),we.setAttribute("stroke-width",ge||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),Ae.append(we),this.container.append(Ae),this._createPopup(we,oe),this.container}}class ce extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const oe=this.data,{width:le,height:ve}=pe(oe.rect),Ae=this.svgFactory.create(le,ve,!0),ge=oe.borderStyle.width,we=this.svgFactory.createElement("svg:ellipse");return we.setAttribute("cx",le/2),we.setAttribute("cy",ve/2),we.setAttribute("rx",le/2-ge/2),we.setAttribute("ry",ve/2-ge/2),we.setAttribute("stroke-width",ge||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),Ae.append(we),this.container.append(Ae),this._createPopup(we,oe),this.container}}class $e extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const oe=this.data,{width:le,height:ve}=pe(oe.rect),Ae=this.svgFactory.create(le,ve,!0);let ge=[];for(const Qe of oe.vertices){const st=Qe.x-oe.rect[0],it=oe.rect[3]-Qe.y;ge.push(st+","+it)}ge=ge.join(" ");const we=this.svgFactory.createElement(this.svgElementName);return we.setAttribute("points",ge),we.setAttribute("stroke-width",oe.borderStyle.width||1),we.setAttribute("stroke","transparent"),we.setAttribute("fill","transparent"),Ae.append(we),this.container.append(Ae),this._createPopup(we,oe),this.container}}class Xe extends $e{constructor(oe){super(oe),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class De extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ge extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const oe=this.data,{width:le,height:ve}=pe(oe.rect),Ae=this.svgFactory.create(le,ve,!0);for(const ge of oe.inkLists){let we=[];for(const st of ge){const it=st.x-oe.rect[0],Ue=oe.rect[3]-st.y;we.push(`${it},${Ue}`)}we=we.join(" ");const Qe=this.svgFactory.createElement(this.svgElementName);Qe.setAttribute("points",we),Qe.setAttribute("stroke-width",oe.borderStyle.width||1),Qe.setAttribute("stroke","transparent"),Qe.setAttribute("fill","transparent"),this._createPopup(Qe,oe),Ae.append(Qe)}return this.container.append(Ae),this.container}}class Ie extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Me extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Te extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class et extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ze extends K{constructor(oe){var ve,Ae,ge;const le=!!(oe.data.hasPopup||(ve=oe.data.titleObj)!=null&&ve.str||(Ae=oe.data.contentsObj)!=null&&Ae.str||(ge=oe.data.richText)!=null&&ge.str);super(oe,{isRenderable:le,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ye extends K{constructor(oe){var Ae;super(oe,{isRenderable:!0});const{filename:le,content:ve}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(le,!0),this.content=ve,(Ae=this.linkService.eventBus)==null||Ae.dispatch("fileattachmentannotation",{source:this,filename:le,content:ve})}render(){var le,ve;this.container.className="fileAttachmentAnnotation";let oe;return this.data.hasAppearance?oe=document.createElement("div"):(oe=document.createElement("img"),oe.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),oe.className="popupTriggerArea",oe.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((le=this.data.titleObj)!=null&&le.str||(ve=this.data.contentsObj)!=null&&ve.str||this.data.richText)&&this._createPopup(oe,this.data),this.container.append(oe),this.container}_download(){var oe;(oe=this.downloadManager)==null||oe.openOrDownloadData(this.container,this.content,this.filename)}}const tt=class{static render(oe){var st,it;const{annotations:le,div:ve,viewport:Ae,accessibilityManager:ge}=oe;(0,R.setLayerDimensions)(ve,Ae);const we={data:null,layer:ve,page:oe.page,viewport:Ae,linkService:oe.linkService,downloadManager:oe.downloadManager,imageResourcesPath:oe.imageResourcesPath||"",renderForms:oe.renderForms!==!1,svgFactory:new R.DOMSVGFactory,annotationStorage:oe.annotationStorage||new B.AnnotationStorage,enableScripting:oe.enableScripting===!0,hasJSActions:oe.hasJSActions,fieldObjects:oe.fieldObjects};let Qe=0;for(const Ue of le){if(Ue.annotationType!==O.AnnotationType.POPUP){const{width:pt,height:Ct}=pe(Ue.rect);if(pt<=0||Ct<=0)continue}we.data=Ue;const ht=J.create(we);if(!ht.isRenderable)continue;const lt=ht.render();if(Ue.hidden&&(lt.style.visibility="hidden"),Array.isArray(lt))for(const pt of lt)pt.style.zIndex=Qe++,ft(st=tt,Fe,Gr).call(st,pt,Ue.id,ve,ge);else lt.style.zIndex=Qe++,ht instanceof X?ve.prepend(lt):ft(it=tt,Fe,Gr).call(it,lt,Ue.id,ve,ge)}ft(this,rt,Xr).call(this,ve,oe.annotationCanvasMap)}static update(oe){const{annotationCanvasMap:le,div:ve,viewport:Ae}=oe;(0,R.setLayerDimensions)(ve,{rotation:Ae.rotation}),ft(this,rt,Xr).call(this,ve,le),ve.hidden=!1}};let ae=tt;Fe=new WeakSet,Gr=function(oe,le,ve,Ae){const ge=oe.firstChild||oe;ge.id=`${R.AnnotationPrefix}${le}`,ve.append(oe),Ae==null||Ae.moveElementInDOM(ve,oe,ge,!1)},rt=new WeakSet,Xr=function(oe,le){if(le){for(const[ve,Ae]of le){const ge=oe.querySelector(`[data-annotation-id="${ve}"]`);if(!ge)continue;const{firstChild:we}=ge;we?we.nodeName==="CANVAS"?we.replaceWith(Ae):we.before(Ae):ge.append(Ae)}le.clear()}},at(ae,Fe),at(ae,rt),$.AnnotationLayer=ae},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(R){return Math.floor(Math.max(0,Math.min(1,R))*255).toString(16).padStart(2,"0")}class O{static CMYK_G([B,ie,se,he]){return["G",1-Math.min(1,.3*B+.59*se+.11*ie+he)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_HTML([B]){const ie=H(B);return`#${ie}${ie}${ie}`}static RGB_G([B,ie,se]){return["G",.3*B+.59*ie+.11*se]}static RGB_HTML([B,ie,se]){const he=H(B),re=H(ie),te=H(se);return`#${he}${re}${te}`}static T_HTML(){return"#00000000"}static CMYK_RGB([B,ie,se,he]){return["RGB",1-Math.min(1,B+he),1-Math.min(1,se+he),1-Math.min(1,ie+he)]}static CMYK_HTML(B){const ie=this.CMYK_RGB(B).slice(1);return this.RGB_HTML(ie)}static RGB_CMYK([B,ie,se]){const he=1-B,re=1-ie,te=1-se,pe=Math.min(he,re,te);return["CMYK",he,re,te,pe]}}$.ColorConverters=O},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var O=H(19);class R{static setupStorage(ie,se,he,re,te){const pe=re.getValue(se,{value:null});switch(he.name){case"textarea":if(pe.value!==null&&(ie.textContent=pe.value),te==="print")break;ie.addEventListener("input",J=>{re.setValue(se,{value:J.target.value})});break;case"input":if(he.attributes.type==="radio"||he.attributes.type==="checkbox"){if(pe.value===he.attributes.xfaOn?ie.setAttribute("checked",!0):pe.value===he.attributes.xfaOff&&ie.removeAttribute("checked"),te==="print")break;ie.addEventListener("change",J=>{re.setValue(se,{value:J.target.checked?J.target.getAttribute("xfaOn"):J.target.getAttribute("xfaOff")})})}else{if(pe.value!==null&&ie.setAttribute("value",pe.value),te==="print")break;ie.addEventListener("input",J=>{re.setValue(se,{value:J.target.value})})}break;case"select":if(pe.value!==null)for(const J of he.children)J.attributes.value===pe.value&&(J.attributes.selected=!0);ie.addEventListener("input",J=>{const K=J.target.options,Y=K.selectedIndex===-1?"":K[K.selectedIndex].value;re.setValue(se,{value:Y})});break}}static setAttributes({html:ie,element:se,storage:he=null,intent:re,linkService:te}){const{attributes:pe}=se,J=ie instanceof HTMLAnchorElement;pe.type==="radio"&&(pe.name=`${pe.name}-${re}`);for(const[K,Y]of Object.entries(pe))if(Y!=null)switch(K){case"class":Y.length&&ie.setAttribute(K,Y.join(" "));break;case"dataId":break;case"id":ie.setAttribute("data-element-id",Y);break;case"style":Object.assign(ie.style,Y);break;case"textContent":ie.textContent=Y;break;default:(!J||K!=="href"&&K!=="newWindow")&&ie.setAttribute(K,Y)}J&&te.addLinkAttributes(ie,pe.href,pe.newWindow),he&&pe.dataId&&this.setupStorage(ie,pe.dataId,se,he)}static render(ie){var G;const se=ie.annotationStorage,he=ie.linkService,re=ie.xfaHtml,te=ie.intent||"display",pe=document.createElement(re.name);re.attributes&&this.setAttributes({html:pe,element:re,intent:te,linkService:he});const J=[[re,-1,pe]],K=ie.div;if(K.append(pe),ie.viewport){const U=`matrix(${ie.viewport.transform.join(",")})`;K.style.transform=U}te!=="richText"&&K.setAttribute("class","xfaLayer xfaFont");const Y=[];for(;J.length>0;){const[U,V,q]=J.at(-1);if(V+1===U.children.length){J.pop();continue}const Q=U.children[++J.at(-1)[1]];if(Q===null)continue;const{name:Z}=Q;if(Z==="#text"){const X=document.createTextNode(Q.value);Y.push(X),q.append(X);continue}let W;if((G=Q==null?void 0:Q.attributes)!=null&&G.xmlns?W=document.createElementNS(Q.attributes.xmlns,Z):W=document.createElement(Z),q.append(W),Q.attributes&&this.setAttributes({html:W,element:Q,storage:se,intent:te,linkService:he}),Q.children&&Q.children.length>0)J.push([Q,-1,W]);else if(Q.value){const X=document.createTextNode(Q.value);O.XfaText.shouldBuildText(Z)&&Y.push(X),W.append(X)}}for(const U of K.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:Y}}static update(ie){const se=`matrix(${ie.viewport.transform.join(",")})`;ie.div.style.transform=se,ie.div.hidden=!1}}$.XfaLayer=R},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var O=H(6),R=H(1),B=H(10);let ie=class{constructor(){(0,R.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=ie;{let G=function(W){let X=[];const ue=[];for(const be of W){if(be.fn==="save"){X.push({fnId:92,fn:"group",items:[]}),ue.push(X),X=X.at(-1).items;continue}be.fn==="restore"?X=ue.pop():X.push(be)}return X},U=function(W){if(Number.isInteger(W))return W.toString();const X=W.toFixed(10);let ue=X.length-1;if(X[ue]!=="0")return X;do ue--;while(X[ue]==="0");return X.substring(0,X[ue]==="."?ue:ue+1)},V=function(W){if(W[4]===0&&W[5]===0){if(W[1]===0&&W[2]===0)return W[0]===1&&W[3]===1?"":`scale(${U(W[0])} ${U(W[3])})`;if(W[0]===W[3]&&W[1]===-W[2]){const X=Math.acos(W[0])*180/Math.PI;return`rotate(${U(X)})`}}else if(W[0]===1&&W[1]===0&&W[2]===0&&W[3]===1)return`translate(${U(W[4])} ${U(W[5])})`;return`matrix(${U(W[0])} ${U(W[1])} ${U(W[2])} ${U(W[3])} ${U(W[4])} ${U(W[5])})`};const se={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},he="http://www.w3.org/XML/1998/namespace",re="http://www.w3.org/1999/xlink",te=["butt","round","square"],pe=["miter","round","bevel"],J=function(W,X="",ue=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([W],{type:X}));const be="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let _e=`data:${X};base64,`;for(let Pe=0,ce=W.length;Pe<ce;Pe+=3){const $e=W[Pe]&255,Xe=W[Pe+1]&255,De=W[Pe+2]&255,Ge=$e>>2,Ie=($e&3)<<4|Xe>>4,Me=Pe+1<ce?(Xe&15)<<2|De>>6:64,Te=Pe+2<ce?De&63:64;_e+=be[Ge]+be[Ie]+be[Me]+be[Te]}return _e},K=function(){const W=new Uint8Array([137,80,78,71,13,10,26,10]),X=12,ue=new Int32Array(256);for(let De=0;De<256;De++){let Ge=De;for(let Ie=0;Ie<8;Ie++)Ge&1?Ge=3988292384^Ge>>1&2147483647:Ge=Ge>>1&2147483647;ue[De]=Ge}function be(De,Ge,Ie){let Me=-1;for(let Te=Ge;Te<Ie;Te++){const et=(Me^De[Te])&255,Ze=ue[et];Me=Me>>>8^Ze}return Me^-1}function _e(De,Ge,Ie,Me){let Te=Me;const et=Ge.length;Ie[Te]=et>>24&255,Ie[Te+1]=et>>16&255,Ie[Te+2]=et>>8&255,Ie[Te+3]=et&255,Te+=4,Ie[Te]=De.charCodeAt(0)&255,Ie[Te+1]=De.charCodeAt(1)&255,Ie[Te+2]=De.charCodeAt(2)&255,Ie[Te+3]=De.charCodeAt(3)&255,Te+=4,Ie.set(Ge,Te),Te+=Ge.length;const Ze=be(Ie,Me+4,Te);Ie[Te]=Ze>>24&255,Ie[Te+1]=Ze>>16&255,Ie[Te+2]=Ze>>8&255,Ie[Te+3]=Ze&255}function Pe(De,Ge,Ie){let Me=1,Te=0;for(let et=Ge;et<Ie;++et)Me=(Me+(De[et]&255))%65521,Te=(Te+Me)%65521;return Te<<16|Me}function ce(De){if(!B.isNodeJS)return $e(De);try{let Ge;parseInt(process.versions.node)>=8?Ge=De:Ge=Buffer.from(De);const Ie=require$$5.deflateSync(Ge,{level:9});return Ie instanceof Uint8Array?Ie:new Uint8Array(Ie)}catch(Ge){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ge)}return $e(De)}function $e(De){let Ge=De.length;const Ie=65535,Me=Math.ceil(Ge/Ie),Te=new Uint8Array(2+Ge+Me*5+4);let et=0;Te[et++]=120,Te[et++]=156;let Ze=0;for(;Ge>Ie;)Te[et++]=0,Te[et++]=255,Te[et++]=255,Te[et++]=0,Te[et++]=0,Te.set(De.subarray(Ze,Ze+Ie),et),et+=Ie,Ze+=Ie,Ge-=Ie;Te[et++]=1,Te[et++]=Ge&255,Te[et++]=Ge>>8&255,Te[et++]=~Ge&65535&255,Te[et++]=(~Ge&65535)>>8&255,Te.set(De.subarray(Ze),et),et+=De.length-Ze;const ye=Pe(De,0,De.length);return Te[et++]=ye>>24&255,Te[et++]=ye>>16&255,Te[et++]=ye>>8&255,Te[et++]=ye&255,Te}function Xe(De,Ge,Ie,Me){const Te=De.width,et=De.height;let Ze,ye,ae;const ne=De.data;switch(Ge){case R.ImageKind.GRAYSCALE_1BPP:ye=0,Ze=1,ae=Te+7>>3;break;case R.ImageKind.RGB_24BPP:ye=2,Ze=8,ae=Te*3;break;case R.ImageKind.RGBA_32BPP:ye=6,Ze=8,ae=Te*4;break;default:throw new Error("invalid format")}const fe=new Uint8Array((1+ae)*et);let Se=0,Ee=0;for(let tt=0;tt<et;++tt)fe[Se++]=0,fe.set(ne.subarray(Ee,Ee+ae),Se),Ee+=ae,Se+=ae;if(Ge===R.ImageKind.GRAYSCALE_1BPP&&Me){Se=0;for(let tt=0;tt<et;tt++){Se++;for(let ze=0;ze<ae;ze++)fe[Se++]^=255}}const ke=new Uint8Array([Te>>24&255,Te>>16&255,Te>>8&255,Te&255,et>>24&255,et>>16&255,et>>8&255,et&255,Ze,ye,0,0,0]),Fe=ce(fe),He=W.length+X*3+ke.length+Fe.length,rt=new Uint8Array(He);let Je=0;return rt.set(W,Je),Je+=W.length,_e("IHDR",ke,rt,Je),Je+=X+ke.length,_e("IDATA",Fe,rt,Je),Je+=X+Fe.length,_e("IEND",new Uint8Array(0),rt,Je),J(rt,"image/png",Ie)}return function(Ge,Ie,Me){const Te=Ge.kind===void 0?R.ImageKind.GRAYSCALE_1BPP:Ge.kind;return Xe(Ge,Te,Ie,Me)}}();class Y{constructor(){this.fontSizeScale=1,this.fontWeight=se.fontWeight,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=se.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(X,ue){this.x=X,this.y=ue}}let q=0,Q=0,Z=0;$.SVGGraphics=ie=class{constructor(W,X,ue=!1){(0,O.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new O.DOMSVGFactory,this.current=new Y,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=W,this.objs=X,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ue,this._operatorIdMapping=[];for(const be in R.OPS)this._operatorIdMapping[R.OPS[be]]=be}getObject(W,X=null){return typeof W=="string"?W.startsWith("g_")?this.commonObjs.get(W):this.objs.get(W):X}save(){this.transformStack.push(this.transformMatrix);const W=this.current;this.extraStack.push(W),this.current=W.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(W){this.save(),this.executeOpTree(W),this.restore()}loadDependencies(W){const X=W.fnArray,ue=W.argsArray;for(let be=0,_e=X.length;be<_e;be++)if(X[be]===R.OPS.dependency)for(const Pe of ue[be]){const ce=Pe.startsWith("g_")?this.commonObjs:this.objs,$e=new Promise(Xe=>{ce.get(Pe,Xe)});this.current.dependencies.push($e)}return Promise.all(this.current.dependencies)}transform(W,X,ue,be,_e,Pe){const ce=[W,X,ue,be,_e,Pe];this.transformMatrix=R.Util.transform(this.transformMatrix,ce),this.tgrp=null}getSVG(W,X){this.viewport=X;const ue=this._initialize(X);return this.loadDependencies(W).then(()=>(this.transformMatrix=R.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(W)),ue))}convertOpList(W){const X=this._operatorIdMapping,ue=W.argsArray,be=W.fnArray,_e=[];for(let Pe=0,ce=be.length;Pe<ce;Pe++){const $e=be[Pe];_e.push({fnId:$e,fn:X[$e],args:ue[Pe]})}return G(_e)}executeOpTree(W){for(const X of W){const ue=X.fn,be=X.fnId,_e=X.args;switch(be|0){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(_e);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(_e[0],_e[1]);break;case R.OPS.setFont:this.setFont(_e);break;case R.OPS.showText:this.showText(_e[0]);break;case R.OPS.showSpacedText:this.showText(_e[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(_e[0],_e[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(_e[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(_e[0]);break;case R.OPS.setHScale:this.setHScale(_e[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]);break;case R.OPS.setTextRise:this.setTextRise(_e[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(_e[0]);break;case R.OPS.setLineWidth:this.setLineWidth(_e[0]);break;case R.OPS.setLineJoin:this.setLineJoin(_e[0]);break;case R.OPS.setLineCap:this.setLineCap(_e[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(_e[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(_e[0],_e[1],_e[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(_e[0],_e[1],_e[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(_e);break;case R.OPS.setFillColorN:this.setFillColorN(_e);break;case R.OPS.shadingFill:this.shadingFill(_e[0]);break;case R.OPS.setDash:this.setDash(_e[0],_e[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(_e[0]);break;case R.OPS.setFlatness:this.setFlatness(_e[0]);break;case R.OPS.setGState:this.setGState(_e[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(_e[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(_e[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(_e[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(_e[0],_e[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(_e[0],_e[1],_e[2],_e[3],_e[4],_e[5]);break;case R.OPS.constructPath:this.constructPath(_e[0],_e[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(X.items);break;default:(0,R.warn)(`Unimplemented operator ${ue}`);break}}}setWordSpacing(W){this.current.wordSpacing=W}setCharSpacing(W){this.current.charSpacing=W}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(W,X,ue,be,_e,Pe){const ce=this.current;ce.textMatrix=ce.lineMatrix=[W,X,ue,be,_e,Pe],ce.textMatrixScale=Math.hypot(W,X),ce.x=ce.lineX=0,ce.y=ce.lineY=0,ce.xcoords=[],ce.ycoords=[],ce.tspan=this.svgFactory.createElement("svg:tspan"),ce.tspan.setAttributeNS(null,"font-family",ce.fontFamily),ce.tspan.setAttributeNS(null,"font-size",`${U(ce.fontSize)}px`),ce.tspan.setAttributeNS(null,"y",U(-ce.y)),ce.txtElement=this.svgFactory.createElement("svg:text"),ce.txtElement.append(ce.tspan)}beginText(){const W=this.current;W.x=W.lineX=0,W.y=W.lineY=0,W.textMatrix=R.IDENTITY_MATRIX,W.lineMatrix=R.IDENTITY_MATRIX,W.textMatrixScale=1,W.tspan=this.svgFactory.createElement("svg:tspan"),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtgrp=this.svgFactory.createElement("svg:g"),W.xcoords=[],W.ycoords=[]}moveText(W,X){const ue=this.current;ue.x=ue.lineX+=W,ue.y=ue.lineY+=X,ue.xcoords=[],ue.ycoords=[],ue.tspan=this.svgFactory.createElement("svg:tspan"),ue.tspan.setAttributeNS(null,"font-family",ue.fontFamily),ue.tspan.setAttributeNS(null,"font-size",`${U(ue.fontSize)}px`),ue.tspan.setAttributeNS(null,"y",U(-ue.y))}showText(W){const X=this.current,ue=X.font,be=X.fontSize;if(be===0)return;const _e=X.fontSizeScale,Pe=X.charSpacing,ce=X.wordSpacing,$e=X.fontDirection,Xe=X.textHScale*$e,De=ue.vertical,Ge=De?1:-1,Ie=ue.defaultVMetrics,Me=be*X.fontMatrix[0];let Te=0;for(const ye of W){if(ye===null){Te+=$e*ce;continue}else if(typeof ye=="number"){Te+=Ge*ye*be/1e3;continue}const ae=(ye.isSpace?ce:0)+Pe,ne=ye.fontChar;let fe,Se,Ee=ye.width;if(De){let Fe;const He=ye.vmetric||Ie;Fe=ye.vmetric?He[1]:Ee*.5,Fe=-Fe*Me;const rt=He[2]*Me;Ee=He?-He[0]:Ee,fe=Fe/_e,Se=(Te+rt)/_e}else fe=Te/_e,Se=0;(ye.isInFont||ue.missingFile)&&(X.xcoords.push(X.x+fe),De&&X.ycoords.push(-X.y+Se),X.tspan.textContent+=ne);let ke;De?ke=Ee*Me-ae*$e:ke=Ee*Me+ae*$e,Te+=ke}X.tspan.setAttributeNS(null,"x",X.xcoords.map(U).join(" ")),De?X.tspan.setAttributeNS(null,"y",X.ycoords.map(U).join(" ")):X.tspan.setAttributeNS(null,"y",U(-X.y)),De?X.y-=Te:X.x+=Te*Xe,X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size",`${U(X.fontSize)}px`),X.fontStyle!==se.fontStyle&&X.tspan.setAttributeNS(null,"font-style",X.fontStyle),X.fontWeight!==se.fontWeight&&X.tspan.setAttributeNS(null,"font-weight",X.fontWeight);const et=X.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(et===R.TextRenderingMode.FILL||et===R.TextRenderingMode.FILL_STROKE?(X.fillColor!==se.fillColor&&X.tspan.setAttributeNS(null,"fill",X.fillColor),X.fillAlpha<1&&X.tspan.setAttributeNS(null,"fill-opacity",X.fillAlpha)):X.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?X.tspan.setAttributeNS(null,"fill","transparent"):X.tspan.setAttributeNS(null,"fill","none"),et===R.TextRenderingMode.STROKE||et===R.TextRenderingMode.FILL_STROKE){const ye=1/(X.textMatrixScale||1);this._setStrokeAttributes(X.tspan,ye)}let Ze=X.textMatrix;X.textRise!==0&&(Ze=Ze.slice(),Ze[5]+=X.textRise),X.txtElement.setAttributeNS(null,"transform",`${V(Ze)} scale(${U(Xe)}, -1)`),X.txtElement.setAttributeNS(he,"xml:space","preserve"),X.txtElement.append(X.tspan),X.txtgrp.append(X.txtElement),this._ensureTransformGroup().append(X.txtElement)}setLeadingMoveText(W,X){this.setLeading(-X),this.moveText(W,X)}addFontStyle(W){if(!W.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const X=J(W.data,W.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${W.loadedName}"; src: url(${X}); }
`}setFont(W){const X=this.current,ue=this.commonObjs.get(W[0]);let be=W[1];X.font=ue,this.embedFonts&&!ue.missingFile&&!this.embeddedFonts[ue.loadedName]&&(this.addFontStyle(ue),this.embeddedFonts[ue.loadedName]=ue),X.fontMatrix=ue.fontMatrix||R.FONT_IDENTITY_MATRIX;let _e="normal";ue.black?_e="900":ue.bold&&(_e="bold");const Pe=ue.italic?"italic":"normal";be<0?(be=-be,X.fontDirection=-1):X.fontDirection=1,X.fontSize=be,X.fontFamily=ue.loadedName,X.fontWeight=_e,X.fontStyle=Pe,X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"y",U(-X.y)),X.xcoords=[],X.ycoords=[]}endText(){var X;const W=this.current;W.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&((X=W.txtElement)!=null&&X.hasChildNodes())&&(W.element=W.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(W){W>0&&(this.current.lineWidth=W)}setLineCap(W){this.current.lineCap=te[W]}setLineJoin(W){this.current.lineJoin=pe[W]}setMiterLimit(W){this.current.miterLimit=W}setStrokeAlpha(W){this.current.strokeAlpha=W}setStrokeRGBColor(W,X,ue){this.current.strokeColor=R.Util.makeHexColor(W,X,ue)}setFillAlpha(W){this.current.fillAlpha=W}setFillRGBColor(W,X,ue){this.current.fillColor=R.Util.makeHexColor(W,X,ue),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(W){this.current.strokeColor=this._makeColorN_Pattern(W)}setFillColorN(W){this.current.fillColor=this._makeColorN_Pattern(W)}shadingFill(W){const X=this.viewport.width,ue=this.viewport.height,be=R.Util.inverseTransform(this.transformMatrix),_e=R.Util.applyTransform([0,0],be),Pe=R.Util.applyTransform([0,ue],be),ce=R.Util.applyTransform([X,0],be),$e=R.Util.applyTransform([X,ue],be),Xe=Math.min(_e[0],Pe[0],ce[0],$e[0]),De=Math.min(_e[1],Pe[1],ce[1],$e[1]),Ge=Math.max(_e[0],Pe[0],ce[0],$e[0]),Ie=Math.max(_e[1],Pe[1],ce[1],$e[1]),Me=this.svgFactory.createElement("svg:rect");Me.setAttributeNS(null,"x",Xe),Me.setAttributeNS(null,"y",De),Me.setAttributeNS(null,"width",Ge-Xe),Me.setAttributeNS(null,"height",Ie-De),Me.setAttributeNS(null,"fill",this._makeShadingPattern(W)),this.current.fillAlpha<1&&Me.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Me)}_makeColorN_Pattern(W){return W[0]==="TilingPattern"?this._makeTilingPattern(W):this._makeShadingPattern(W)}_makeTilingPattern(W){const X=W[1],ue=W[2],be=W[3]||R.IDENTITY_MATRIX,[_e,Pe,ce,$e]=W[4],Xe=W[5],De=W[6],Ge=W[7],Ie=`shading${Z++}`,[Me,Te,et,Ze]=R.Util.normalizeRect([...R.Util.applyTransform([_e,Pe],be),...R.Util.applyTransform([ce,$e],be)]),[ye,ae]=R.Util.singularValueDecompose2dScale(be),ne=Xe*ye,fe=De*ae,Se=this.svgFactory.createElement("svg:pattern");Se.setAttributeNS(null,"id",Ie),Se.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Se.setAttributeNS(null,"width",ne),Se.setAttributeNS(null,"height",fe),Se.setAttributeNS(null,"x",`${Me}`),Se.setAttributeNS(null,"y",`${Te}`);const Ee=this.svg,ke=this.transformMatrix,Fe=this.current.fillColor,He=this.current.strokeColor,rt=this.svgFactory.create(et-Me,Ze-Te);if(this.svg=rt,this.transformMatrix=be,Ge===2){const Je=R.Util.makeHexColor(...X);this.current.fillColor=Je,this.current.strokeColor=Je}return this.executeOpTree(this.convertOpList(ue)),this.svg=Ee,this.transformMatrix=ke,this.current.fillColor=Fe,this.current.strokeColor=He,Se.append(rt.childNodes[0]),this.defs.append(Se),`url(#${Ie})`}_makeShadingPattern(W){switch(typeof W=="string"&&(W=this.objs.get(W)),W[0]){case"RadialAxial":const X=`shading${Z++}`,ue=W[3];let be;switch(W[1]){case"axial":const _e=W[4],Pe=W[5];be=this.svgFactory.createElement("svg:linearGradient"),be.setAttributeNS(null,"id",X),be.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),be.setAttributeNS(null,"x1",_e[0]),be.setAttributeNS(null,"y1",_e[1]),be.setAttributeNS(null,"x2",Pe[0]),be.setAttributeNS(null,"y2",Pe[1]);break;case"radial":const ce=W[4],$e=W[5],Xe=W[6],De=W[7];be=this.svgFactory.createElement("svg:radialGradient"),be.setAttributeNS(null,"id",X),be.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),be.setAttributeNS(null,"cx",$e[0]),be.setAttributeNS(null,"cy",$e[1]),be.setAttributeNS(null,"r",De),be.setAttributeNS(null,"fx",ce[0]),be.setAttributeNS(null,"fy",ce[1]),be.setAttributeNS(null,"fr",Xe);break;default:throw new Error(`Unknown RadialAxial type: ${W[1]}`)}for(const _e of ue){const Pe=this.svgFactory.createElement("svg:stop");Pe.setAttributeNS(null,"offset",_e[0]),Pe.setAttributeNS(null,"stop-color",_e[1]),be.append(Pe)}return this.defs.append(be),`url(#${X})`;case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${W[0]}`)}}setDash(W,X){this.current.dashArray=W,this.current.dashPhase=X}constructPath(W,X){const ue=this.current;let be=ue.x,_e=ue.y,Pe=[],ce=0;for(const $e of W)switch($e|0){case R.OPS.rectangle:be=X[ce++],_e=X[ce++];const Xe=X[ce++],De=X[ce++],Ge=be+Xe,Ie=_e+De;Pe.push("M",U(be),U(_e),"L",U(Ge),U(_e),"L",U(Ge),U(Ie),"L",U(be),U(Ie),"Z");break;case R.OPS.moveTo:be=X[ce++],_e=X[ce++],Pe.push("M",U(be),U(_e));break;case R.OPS.lineTo:be=X[ce++],_e=X[ce++],Pe.push("L",U(be),U(_e));break;case R.OPS.curveTo:be=X[ce+4],_e=X[ce+5],Pe.push("C",U(X[ce]),U(X[ce+1]),U(X[ce+2]),U(X[ce+3]),U(be),U(_e)),ce+=6;break;case R.OPS.curveTo2:Pe.push("C",U(be),U(_e),U(X[ce]),U(X[ce+1]),U(X[ce+2]),U(X[ce+3])),be=X[ce+2],_e=X[ce+3],ce+=4;break;case R.OPS.curveTo3:be=X[ce+2],_e=X[ce+3],Pe.push("C",U(X[ce]),U(X[ce+1]),U(be),U(_e),U(be),U(_e)),ce+=4;break;case R.OPS.closePath:Pe.push("Z");break}Pe=Pe.join(" "),ue.path&&W.length>0&&W[0]!==R.OPS.rectangle&&W[0]!==R.OPS.moveTo?Pe=ue.path.getAttributeNS(null,"d")+Pe:(ue.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ue.path)),ue.path.setAttributeNS(null,"d",Pe),ue.path.setAttributeNS(null,"fill","none"),ue.element=ue.path,ue.setCurrentPoint(be,_e)}endPath(){const W=this.current;if(W.path=null,!this.pendingClip)return;if(!W.element){this.pendingClip=null;return}const X=`clippath${q++}`,ue=this.svgFactory.createElement("svg:clipPath");ue.setAttributeNS(null,"id",X),ue.setAttributeNS(null,"transform",V(this.transformMatrix));const be=W.element.cloneNode(!0);if(this.pendingClip==="evenodd"?be.setAttributeNS(null,"clip-rule","evenodd"):be.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ue.append(be),this.defs.append(ue),W.activeClipUrl){W.clipGroup=null;for(const _e of this.extraStack)_e.clipGroup=null;ue.setAttributeNS(null,"clip-path",W.activeClipUrl)}W.activeClipUrl=`url(#${X})`,this.tgrp=null}clip(W){this.pendingClip=W}closePath(){const W=this.current;if(W.path){const X=`${W.path.getAttributeNS(null,"d")}Z`;W.path.setAttributeNS(null,"d",X)}}setLeading(W){this.current.leading=-W}setTextRise(W){this.current.textRise=W}setTextRenderingMode(W){this.current.textRenderingMode=W}setHScale(W){this.current.textHScale=W/100}setRenderingIntent(W){}setFlatness(W){}setGState(W){for(const[X,ue]of W)switch(X){case"LW":this.setLineWidth(ue);break;case"LC":this.setLineCap(ue);break;case"LJ":this.setLineJoin(ue);break;case"ML":this.setMiterLimit(ue);break;case"D":this.setDash(ue[0],ue[1]);break;case"RI":this.setRenderingIntent(ue);break;case"FL":this.setFlatness(ue);break;case"Font":this.setFont(ue);break;case"CA":this.setStrokeAlpha(ue);break;case"ca":this.setFillAlpha(ue);break;default:(0,R.warn)(`Unimplemented graphic state operator ${X}`);break}}fill(){const W=this.current;W.element&&(W.element.setAttributeNS(null,"fill",W.fillColor),W.element.setAttributeNS(null,"fill-opacity",W.fillAlpha),this.endPath())}stroke(){const W=this.current;W.element&&(this._setStrokeAttributes(W.element),W.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(W,X=1){const ue=this.current;let be=ue.dashArray;X!==1&&be.length>0&&(be=be.map(function(_e){return X*_e})),W.setAttributeNS(null,"stroke",ue.strokeColor),W.setAttributeNS(null,"stroke-opacity",ue.strokeAlpha),W.setAttributeNS(null,"stroke-miterlimit",U(ue.miterLimit)),W.setAttributeNS(null,"stroke-linecap",ue.lineCap),W.setAttributeNS(null,"stroke-linejoin",ue.lineJoin),W.setAttributeNS(null,"stroke-width",U(X*ue.lineWidth)+"px"),W.setAttributeNS(null,"stroke-dasharray",be.map(U).join(" ")),W.setAttributeNS(null,"stroke-dashoffset",U(X*ue.dashPhase)+"px")}eoFill(){var W;(W=this.current.element)==null||W.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var W;(W=this.current.element)==null||W.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width","1px"),W.setAttributeNS(null,"height","1px"),W.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(W)}paintImageXObject(W){const X=this.getObject(W);if(!X){(0,R.warn)(`Dependent image with object ID ${W} is not ready yet`);return}this.paintInlineImageXObject(X)}paintInlineImageXObject(W,X){const ue=W.width,be=W.height,_e=K(W,this.forceDataSchema,!!X),Pe=this.svgFactory.createElement("svg:rect");Pe.setAttributeNS(null,"x","0"),Pe.setAttributeNS(null,"y","0"),Pe.setAttributeNS(null,"width",U(ue)),Pe.setAttributeNS(null,"height",U(be)),this.current.element=Pe,this.clip("nonzero");const ce=this.svgFactory.createElement("svg:image");ce.setAttributeNS(re,"xlink:href",_e),ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y",U(-be)),ce.setAttributeNS(null,"width",U(ue)+"px"),ce.setAttributeNS(null,"height",U(be)+"px"),ce.setAttributeNS(null,"transform",`scale(${U(1/ue)} ${U(-1/be)})`),X?X.append(ce):this._ensureTransformGroup().append(ce)}paintImageMaskXObject(W){const X=this.getObject(W.data,W);if(X.bitmap){(0,R.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ue=this.current,be=X.width,_e=X.height,Pe=ue.fillColor;ue.maskId=`mask${Q++}`;const ce=this.svgFactory.createElement("svg:mask");ce.setAttributeNS(null,"id",ue.maskId);const $e=this.svgFactory.createElement("svg:rect");$e.setAttributeNS(null,"x","0"),$e.setAttributeNS(null,"y","0"),$e.setAttributeNS(null,"width",U(be)),$e.setAttributeNS(null,"height",U(_e)),$e.setAttributeNS(null,"fill",Pe),$e.setAttributeNS(null,"mask",`url(#${ue.maskId})`),this.defs.append(ce),this._ensureTransformGroup().append($e),this.paintInlineImageXObject(X,ce)}paintFormXObjectBegin(W,X){if(Array.isArray(W)&&W.length===6&&this.transform(W[0],W[1],W[2],W[3],W[4],W[5]),X){const ue=X[2]-X[0],be=X[3]-X[1],_e=this.svgFactory.createElement("svg:rect");_e.setAttributeNS(null,"x",X[0]),_e.setAttributeNS(null,"y",X[1]),_e.setAttributeNS(null,"width",U(ue)),_e.setAttributeNS(null,"height",U(be)),this.current.element=_e,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(W){const X=this.svgFactory.create(W.width,W.height),ue=this.svgFactory.createElement("svg:defs");X.append(ue),this.defs=ue;const be=this.svgFactory.createElement("svg:g");return be.setAttributeNS(null,"transform",V(W.transform)),X.append(be),this.svg=be,X}_ensureClipGroup(){if(!this.current.clipGroup){const W=this.svgFactory.createElement("svg:g");W.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(W),this.current.clipGroup=W}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",V(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return ie.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return se.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return he.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return O.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return O.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return O.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return re.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return te.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return O.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return O.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return O.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return O.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return O.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return O.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return R.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return O.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return R.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),O=__w_pdfjs_require__(6),R=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),ie=__w_pdfjs_require__(5),se=__w_pdfjs_require__(32),he=__w_pdfjs_require__(14),re=__w_pdfjs_require__(35),te=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);(function(A){var $=reactExports,H=pdfExports;function O(ee){var de=Object.create(null);return ee&&Object.keys(ee).forEach(function(Ce){if(Ce!=="default"){var Re=Object.getOwnPropertyDescriptor(ee,Ce);Object.defineProperty(de,Ce,Re.get?Re:{enumerable:!0,get:function(){return ee[Ce]}})}}),de.default=ee,Object.freeze(de)}var R,B=O($),ie=O(H);A.AnnotationType=void 0,(R=A.AnnotationType||(A.AnnotationType={}))[R.Text=1]="Text",R[R.Link=2]="Link",R[R.FreeText=3]="FreeText",R[R.Line=4]="Line",R[R.Square=5]="Square",R[R.Circle=6]="Circle",R[R.Polygon=7]="Polygon",R[R.Polyline=8]="Polyline",R[R.Highlight=9]="Highlight",R[R.Underline=10]="Underline",R[R.Squiggly=11]="Squiggly",R[R.StrikeOut=12]="StrikeOut",R[R.Stamp=13]="Stamp",R[R.Caret=14]="Caret",R[R.Ink=15]="Ink",R[R.Popup=16]="Popup",R[R.FileAttachment=17]="FileAttachment";var se=function(ee,de){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ce,Re){Ce.__proto__=Re}||function(Ce,Re){for(var Oe in Re)Object.prototype.hasOwnProperty.call(Re,Oe)&&(Ce[Oe]=Re[Oe])},se(ee,de)};function he(ee,de){if(typeof de!="function"&&de!==null)throw new TypeError("Class extends value "+String(de)+" is not a constructor or null");function Ce(){this.constructor=ee}se(ee,de),ee.prototype=de===null?Object.create(de):(Ce.prototype=de.prototype,new Ce)}var re,te=function(){return te=Object.assign||function(ee){for(var de,Ce=1,Re=arguments.length;Ce<Re;Ce++)for(var Oe in de=arguments[Ce])Object.prototype.hasOwnProperty.call(de,Oe)&&(ee[Oe]=de[Oe]);return ee},te.apply(this,arguments)};A.TextDirection=void 0,(re=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",re.LeftToRight="LTR";var pe,J=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),K=function(ee){var de=[];return Object.keys(ee).forEach(function(Ce){Ce&&ee[Ce]&&de.push(Ce)}),de.join(" ")},Y=typeof window<"u"?B.useLayoutEffect:B.useEffect,G=function(ee){var de=B.useRef(null),Ce=ee.once,Re=ee.threshold,Oe=ee.onVisibilityChanged;return Y(function(){var Ne=de.current;if(Ne){var We=new IntersectionObserver(function(je){je.forEach(function(xe){var qe=xe.isIntersecting,Ye=xe.intersectionRatio;Oe({isVisible:qe,ratio:Ye}),qe&&Ce&&(We.unobserve(Ne),We.disconnect())})},{threshold:Re||0});return We.observe(Ne),function(){We.unobserve(Ne),We.disconnect()}}},[]),de},U=function(ee){var de=ee.children,Ce=ee.ignoreDirection,Re=Ce!==void 0&&Ce,Oe=ee.size,Ne=Oe===void 0?24:Oe,We=B.useContext(J).direction,je=!Re&&We===A.TextDirection.RightToLeft,xe="".concat(Ne||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:K({"rpv-core__icon":!0,"rpv-core__icon--rtl":je}),focusable:"false",height:xe,viewBox:"0 0 24 24",width:xe},de)},V=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},q=function(ee){var de=ee.children,Ce=ee.testId,Re=ee.onClick,Oe=B.useContext(J).direction===A.TextDirection.RightToLeft,Ne=Ce?{"data-testid":Ce}:{};return B.createElement("button",te({className:K({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Oe}),type:"button",onClick:Re},Ne),de)},Q=function(ee){var de=ee.size,Ce=de===void 0?"4rem":de,Re=ee.testId,Oe=B.useState(!1),Ne=Oe[0],We=Oe[1],je=Re?{"data-testid":Re}:{},xe=G({onVisibilityChanged:function(qe){We(qe.isVisible)}});return B.createElement("div",te({},je,{className:K({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ne}),ref:xe,style:{height:Ce,width:Ce}}))},Z=function(ee){var de=ee.ariaLabel,Ce=de===void 0?"":de,Re=ee.autoFocus,Oe=Re!==void 0&&Re,Ne=ee.placeholder,We=Ne===void 0?"":Ne,je=ee.testId,xe=ee.type,qe=xe===void 0?"text":xe,Ye=ee.value,dt=Ye===void 0?"":Ye,ot=ee.onChange,mt=ee.onKeyDown,ut=mt===void 0?function(){}:mt,Ot=B.useContext(J).direction,_t=B.useRef(),Zt=Ot===A.TextDirection.RightToLeft,xt={ref:_t,"data-testid":"","aria-label":Ce,className:K({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Zt}),placeholder:We,value:dt,onChange:function(Tt){return ot(Tt.target.value)},onKeyDown:ut};return je&&(xt["data-testid"]=je),Y(function(){if(Oe){var Tt=_t.current;if(Tt){var At=window.scrollX,It=window.scrollY;Tt.focus(),window.scrollTo(At,It)}}},[]),qe==="text"?B.createElement("input",te({type:"text"},xt)):B.createElement("input",te({type:"password"},xt))},W=function(){var ee=B.useRef(!1);return B.useEffect(function(){return ee.current=!0,function(){ee.current=!1}},[]),ee},X=function(ee){var de=B.useRef(ee);return B.useEffect(function(){de.current=ee},[ee]),de.current};(function(ee){ee.NotRenderedYet="NotRenderedYet",ee.Rendering="Rendering",ee.Rendered="Rendered"})(pe||(pe={}));var ue,be=-9999,_e=function(ee){var de=ee.doc,Ce=de.numPages,Re=de.loadingTask.docId,Oe=B.useMemo(function(){return Array(Ce).fill(null).map(function(je,xe){return{pageIndex:xe,renderStatus:pe.NotRenderedYet,visibility:be}})},[Re]),Ne=B.useRef({currentRenderingPage:-1,startRange:0,endRange:Ce-1,visibilities:Oe}),We=function(je,xe){Ne.current.visibilities[je].visibility=xe};return{getHighestPriorityPage:function(){var je=Ne.current.visibilities.slice(Ne.current.startRange,Ne.current.endRange+1).filter(function(ot){return ot.visibility>be});if(!je.length)return-1;for(var xe=je[0].pageIndex,qe=je[je.length-1].pageIndex,Ye=je.length,dt=0;dt<Ye;dt++){if(je[dt].renderStatus===pe.Rendering)return-1;if(je[dt].renderStatus===pe.NotRenderedYet)return je[dt].pageIndex}return qe+1<Ce&&Ne.current.visibilities[qe+1].renderStatus!==pe.Rendered?qe+1:xe-1>=0&&Ne.current.visibilities[xe-1].renderStatus!==pe.Rendered?xe-1:-1},isInRange:function(je){return je>=Ne.current.startRange&&je<=Ne.current.endRange},markNotRendered:function(){for(var je=0;je<Ce;je++)Ne.current.visibilities[je].renderStatus=pe.NotRenderedYet},markRendered:function(je){Ne.current.visibilities[je].renderStatus=pe.Rendered},markRendering:function(je){Ne.current.currentRenderingPage!==-1&&Ne.current.currentRenderingPage!==je&&Ne.current.visibilities[Ne.current.currentRenderingPage].renderStatus===pe.Rendering&&(Ne.current.visibilities[Ne.current.currentRenderingPage].renderStatus=pe.NotRenderedYet),Ne.current.visibilities[je].renderStatus=pe.Rendering,Ne.current.currentRenderingPage=je},setOutOfRange:function(je){We(je,be)},setRange:function(je,xe){Ne.current.startRange=je,Ne.current.endRange=xe;for(var qe=0;qe<Ce;qe++)(qe<je||qe>xe)&&(Ne.current.visibilities[qe].visibility=be,Ne.current.visibilities[qe].renderStatus=pe.NotRenderedYet)},setVisibility:We}},Pe={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ce=B.createContext({l10n:Pe,setL10n:function(){}}),$e=0,Xe=function(){return $e++},De=function(ee,de,Ce){var Re=function(Oe){var Ne=de.current;if(Ne){var We=Oe.target;if(We instanceof Element&&We.shadowRoot){var je=Oe.composedPath();je.length>0&&!Ne.contains(je[0])&&Ce()}else Ne.contains(We)||Ce()}};B.useEffect(function(){if(ee){var Oe={capture:!0};return document.addEventListener("click",Re,Oe),function(){document.removeEventListener("click",Re,Oe)}}},[])},Ge=function(ee){var de=function(Ce){Ce.key==="Escape"&&ee()};B.useEffect(function(){return document.addEventListener("keyup",de),function(){document.removeEventListener("keyup",de)}},[])},Ie=function(ee){var de=ee.ariaControlsSuffix,Ce=ee.children,Re=ee.closeOnClickOutside,Oe=ee.closeOnEscape,Ne=ee.onToggle,We=B.useRef(),je=B.useContext(J).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var xe=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=xe}},[]),Ge(function(){We.current&&Oe&&Ne()}),De(Re,We,Ne),Y(function(){var xe=We.current;if(xe){var qe=.75*document.body.clientHeight;xe.getBoundingClientRect().height>=qe&&(xe.style.overflow="auto",xe.style.maxHeight="".concat(qe,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:K({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":je}),id:"rpv-core__modal-body-".concat(de),ref:We,role:"dialog",tabIndex:-1},Ce)},Me=function(ee){var de=ee.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},de)};A.ToggleStatus=void 0,(ue=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",ue.Open="Open",ue.Toggle="Toggle";var Te,et=function(ee){var de=B.useState(ee),Ce=de[0],Re=de[1];return{opened:Ce,toggle:function(Oe){switch(Oe){case A.ToggleStatus.Close:Re(!1);break;case A.ToggleStatus.Open:Re(!0);break;case A.ToggleStatus.Toggle:default:Re(function(Ne){return!Ne})}}}},Ze=function(ee){var de=ee.content,Ce=ee.isOpened,Re=Ce!==void 0&&Ce,Oe=ee.target,Ne=et(Re),We=Ne.opened,je=Ne.toggle;return B.createElement(B.Fragment,null,Oe&&Oe(je,We),We&&de(je))};A.Position=void 0,(Te=A.Position||(A.Position={})).TopLeft="TOP_LEFT",Te.TopCenter="TOP_CENTER",Te.TopRight="TOP_RIGHT",Te.RightTop="RIGHT_TOP",Te.RightCenter="RIGHT_CENTER",Te.RightBottom="RIGHT_BOTTOM",Te.BottomLeft="BOTTOM_LEFT",Te.BottomCenter="BOTTOM_CENTER",Te.BottomRight="BOTTOM_RIGHT",Te.LeftTop="LEFT_TOP",Te.LeftCenter="LEFT_CENTER",Te.LeftBottom="LEFT_BOTTOM";var ye,ae,ne,fe,Se,Ee,ke,Fe=function(ee,de,Ce,Re,Oe){Y(function(){var Ne=de.current,We=ee.current,je=Ce.current;if(We&&Ne&&je){var xe=je.getBoundingClientRect(),qe=function(ot,mt,ut,Ot){var _t=mt.getBoundingClientRect(),Zt=ot.getBoundingClientRect(),xt=Zt.height,Tt=Zt.width,At=0,It=0;switch(ut){case A.Position.TopLeft:At=_t.top-xt,It=_t.left;break;case A.Position.TopCenter:At=_t.top-xt,It=_t.left+_t.width/2-Tt/2;break;case A.Position.TopRight:At=_t.top-xt,It=_t.left+_t.width-Tt;break;case A.Position.RightTop:At=_t.top,It=_t.left+_t.width;break;case A.Position.RightCenter:At=_t.top+_t.height/2-xt/2,It=_t.left+_t.width;break;case A.Position.RightBottom:At=_t.top+_t.height-xt,It=_t.left+_t.width;break;case A.Position.BottomLeft:At=_t.top+_t.height,It=_t.left;break;case A.Position.BottomCenter:At=_t.top+_t.height,It=_t.left+_t.width/2-Tt/2;break;case A.Position.BottomRight:At=_t.top+_t.height,It=_t.left+_t.width-Tt;break;case A.Position.LeftTop:At=_t.top,It=_t.left-Tt;break;case A.Position.LeftCenter:At=_t.top+_t.height/2-xt/2,It=_t.left-Tt;break;case A.Position.LeftBottom:At=_t.top+_t.height-xt,It=_t.left-Tt}return{left:It+(Ot.left||0),top:At+(Ot.top||0)}}(We,Ne,Re,Oe),Ye=qe.top,dt=qe.left;We.style.top="".concat(Ye-xe.top,"px"),We.style.left="".concat(dt-xe.left,"px")}},[])},He=function(ee){var de,Ce=ee.customClassName,Re=ee.position;return B.createElement("div",{className:K((de={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Re===A.Position.TopLeft,"rpv-core__arrow--tc":Re===A.Position.TopCenter,"rpv-core__arrow--tr":Re===A.Position.TopRight,"rpv-core__arrow--rt":Re===A.Position.RightTop,"rpv-core__arrow--rc":Re===A.Position.RightCenter,"rpv-core__arrow--rb":Re===A.Position.RightBottom,"rpv-core__arrow--bl":Re===A.Position.BottomLeft,"rpv-core__arrow--bc":Re===A.Position.BottomCenter,"rpv-core__arrow--br":Re===A.Position.BottomRight,"rpv-core__arrow--lt":Re===A.Position.LeftTop,"rpv-core__arrow--lc":Re===A.Position.LeftCenter,"rpv-core__arrow--lb":Re===A.Position.LeftBottom},de["".concat(Ce)]=Ce!=="",de))})},rt=function(ee){var de=ee.ariaControlsSuffix,Ce=ee.children,Re=ee.closeOnClickOutside,Oe=ee.offset,Ne=ee.position,We=ee.targetRef,je=ee.onClose,xe=B.useRef(),qe=B.useRef(),Ye=B.useRef(),dt=B.useContext(J).direction===A.TextDirection.RightToLeft;De(Re,xe,je),Fe(xe,We,Ye,Ne,Oe),Y(function(){var mt=qe.current;if(mt){var ut=.75*document.body.clientHeight;mt.getBoundingClientRect().height>=ut&&(mt.style.overflow="auto",mt.style.maxHeight="".concat(ut,"px"))}},[]);var ot="rpv-core__popover-body-inner-".concat(de);return B.createElement(B.Fragment,null,B.createElement("div",{ref:Ye,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":ot,className:K({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":dt}),id:"rpv-core__popover-body-".concat(de),ref:xe,role:"dialog",tabIndex:-1},B.createElement(He,{customClassName:"rpv-core__popover-body-arrow",position:Ne}),B.createElement("div",{id:ot,ref:qe},Ce)))},Je=function(ee){var de=ee.closeOnEscape,Ce=ee.onClose,Re=B.useRef();return Ge(function(){Re.current&&de&&Ce()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Re})},tt=function(ee){var de=ee.ariaControlsSuffix,Ce=ee.children,Re=ee.contentRef,Oe=ee.offset,Ne=ee.position,We=ee.targetRef,je=B.useRef(),xe=B.useContext(J).direction===A.TextDirection.RightToLeft;return Fe(Re,We,je,Ne,Oe),B.createElement(B.Fragment,null,B.createElement("div",{ref:je,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:K({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":xe}),id:"rpv-core__tooltip-body-".concat(de),ref:Re,role:"tooltip"},B.createElement(He,{customClassName:"rpv-core__tooltip-body-arrow",position:Ne}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},Ce)))};A.LayerRenderStatus=void 0,(ye=A.LayerRenderStatus||(A.LayerRenderStatus={}))[ye.PreRender=0]="PreRender",ye[ye.DidRender=1]="DidRender",A.PageMode=void 0,(ae=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",ae.Bookmarks="UseOutlines",ae.ContentGroup="UseOC",ae.Default="UserNone",ae.FullScreen="FullScreen",ae.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(ne=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",ne.WrongPassword="WrongPassword",A.RotateDirection=void 0,(fe=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",fe.Forward="Forward",A.ScrollMode=void 0,(Se=A.ScrollMode||(A.ScrollMode={})).Page="Page",Se.Horizontal="Horizontal",Se.Vertical="Vertical",Se.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(Ee=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",Ee.PageFit="PageFit",Ee.PageWidth="PageWidth",A.ViewMode=void 0,(ke=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",ke.DualPageWithCover="DualPageWithCover",ke.SinglePage="SinglePage";var ze,oe=function(ee,de){return ee.reduce(function(Ce,Re,Oe){return Oe%de?Ce[Ce.length-1].push(Re):Ce.push([Re]),Ce},[])},le=function(ee,de){switch(de[1].name){case"XYZ":return{bottomOffset:function(Ce,Re){return de[3]===null?Re:de[3]},leftOffset:function(Ce,Re){return de[2]===null?0:de[2]},pageIndex:ee,scaleTo:de[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:ee,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:de[2],leftOffset:0,pageIndex:ee,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:ee,scaleTo:1}}},ve=new Map,Ae=new Map,ge=function(ee,de){return"".concat(ee.loadingTask.docId,"___").concat(de.num,"R").concat(de.gen===0?"":de.gen)},we=function(ee,de,Ce){ve.set(ge(ee,de),Ce)},Qe=function(ee,de){if(!ee)return Promise.reject("The document is not loaded yet");var Ce="".concat(ee.loadingTask.docId,"___").concat(de),Re=Ae.get(Ce);return Re?Promise.resolve(Re):new Promise(function(Oe,Ne){ee.getPage(de+1).then(function(We){Ae.set(Ce,We),We.ref&&we(ee,We.ref,de),Oe(We)})})},st=function(ee,de){return new Promise(function(Ce){new Promise(function(Re){typeof de=="string"?ee.getDestination(de).then(function(Oe){Re(Oe)}):Re(de)}).then(function(Re){if(typeof Re[0]=="object"&&Re[0]!==null){var Oe=Re[0],Ne=function(je,xe){var qe=ge(je,xe);return ve.has(qe)?ve.get(qe):null}(ee,Oe);Ne===null?ee.getPageIndex(Oe).then(function(je){we(ee,Oe,je),st(ee,de).then(function(xe){return Ce(xe)})}):Ce(le(Ne,Re))}else{var We=le(Re[0],Re);Ce(We)}})})};(function(ee){ee[ee.Solid=1]="Solid",ee[ee.Dashed=2]="Dashed",ee[ee.Beveled=3]="Beveled",ee[ee.Inset=4]="Inset",ee[ee.Underline=5]="Underline"})(ze||(ze={}));var it,Ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),ht=function(ee,de,Ce,Re){var Oe=parseInt(ee,10);return Oe>=de&&Oe<=Ce?Oe:Re},lt=function(ee){return ee.contentsObj?ee.contentsObj.str:ee.contents||""},pt=function(ee){return ee.titleObj?ee.titleObj.str:ee.title||""},Ct=function(ee){var de=ee.annotation,Ce=B.useContext(J).direction,Re=pt(de),Oe=lt(de),Ne=Ce===A.TextDirection.RightToLeft,We=B.useRef(),je="";if(de.modificationDate){var xe=function(qe){var Ye=Ue.exec(qe);if(!Ye)return null;var dt=parseInt(Ye[1],10),ot=ht(Ye[2],1,12,1)-1,mt=ht(Ye[3],1,31,1),ut=ht(Ye[4],0,23,0),Ot=ht(Ye[5],0,59,0),_t=ht(Ye[6],0,59,0),Zt=Ye[7]||"Z",xt=ht(Ye[8],0,23,0),Tt=ht(Ye[9],0,59,0);switch(Zt){case"-":ut+=xt,Ot+=Tt;break;case"+":ut-=xt,Ot-=Tt}return new Date(Date.UTC(dt,ot,mt,ut,Ot,_t))}(de.modificationDate);je=xe?"".concat(xe.toLocaleDateString(),", ").concat(xe.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(We.current){var qe=document.querySelector('[data-annotation-id="'.concat(de.id,'"]'));if(qe){var Ye=qe;return Ye.style.zIndex+=1,function(){Ye.style.zIndex="".concat(parseInt(Ye.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:We,className:K({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ne}),style:{top:de.annotationType===A.AnnotationType.Popup?"":"100%"}},Re&&B.createElement(B.Fragment,null,B.createElement("div",{className:K({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ne,"rpv-core__annotation-popup-title--rtl":Ne})},Re),B.createElement("div",{className:"rpv-core__annotation-popup-date"},je)),Oe&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Oe.split(`
`).map(function(qe,Ye){return B.createElement(B.Fragment,{key:Ye},qe,B.createElement("br",null))})))};(function(ee){ee.Click="Click",ee.Hover="Hover"})(it||(it={}));var yt,$t=function(ee){var de,Ce=ee.annotation,Re=ee.children,Oe=ee.ignoreBorder,Ne=ee.hasPopup,We=ee.isRenderable,je=ee.page,xe=ee.viewport,qe=Ce.rect,Ye=function(){var Kt=et(!1),bn=Kt.opened,_n=Kt.toggle,nn=B.useState(it.Hover),ln=nn[0],pn=nn[1];return{opened:bn,closeOnHover:function(){ln===it.Hover&&_n(A.ToggleStatus.Close)},openOnHover:function(){ln===it.Hover&&_n(A.ToggleStatus.Open)},toggleOnClick:function(){switch(ln){case it.Click:bn&&pn(it.Hover),_n(A.ToggleStatus.Toggle);break;case it.Hover:pn(it.Click),_n(A.ToggleStatus.Open)}}}}(),dt=Ye.closeOnHover,ot=Ye.opened,mt=Ye.openOnHover,ut=Ye.toggleOnClick,Ot=(de=[qe[0],je.view[3]+je.view[1]-qe[1],qe[2],je.view[3]+je.view[1]-qe[3]],[Math.min(de[0],de[2]),Math.min(de[1],de[3]),Math.max(de[0],de[2]),Math.max(de[1],de[3])]),_t=qe[2]-qe[0],Zt=qe[3]-qe[1],xt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Oe&&Ce.borderStyle.width>0){switch(Ce.borderStyle.style){case ze.Dashed:xt.borderStyle="dashed";break;case ze.Solid:xt.borderStyle="solid";break;case ze.Underline:xt=Object.assign({borderBottomStyle:"solid"},xt);case ze.Beveled:case ze.Inset:}var Tt=Ce.borderStyle.width;xt.borderWidth="".concat(Tt,"px"),Ce.borderStyle.style!==ze.Underline&&(_t-=2*Tt,Zt-=2*Tt);var At=Ce.borderStyle,It=At.horizontalCornerRadius,Qt=At.verticalCornerRadius;(It>0||Qt>0)&&(xt.borderRadius="".concat(It,"px / ").concat(Qt,"px")),Ce.color?xt.borderColor="rgb(".concat(0|Ce.color[0],", ").concat(0|Ce.color[1],", ").concat(0|Ce.color[2],")"):xt.borderWidth="0"}return B.createElement(B.Fragment,null,We&&Re({popup:{opened:ot,closeOnHover:dt,openOnHover:mt,toggleOnClick:ut},slot:{attrs:{style:Object.assign({height:"".concat(Zt,"px"),left:"".concat(Ot[0],"px"),top:"".concat(Ot[1],"px"),transform:"matrix(".concat(xe.transform.join(","),")"),transformOrigin:"-".concat(Ot[0],"px -").concat(Ot[1],"px"),width:"".concat(_t,"px")},xt)},children:B.createElement(B.Fragment,null,Ne&&ot&&B.createElement(Ct,{annotation:Ce}))}}))},jt=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We);return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},nt=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We),xe=de.rect,qe=xe[2]-xe[0],Ye=xe[3]-xe[1],dt=de.borderStyle.width;return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(ot){return B.createElement("div",te({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":de.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ye,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Ye),width:"".concat(qe,"px")},B.createElement("circle",{cy:Ye/2,fill:"none",rx:qe/2-dt/2,ry:Ye/2-dt/2,stroke:"transparent",strokeWidth:dt||1})),ot.slot.children)})},bt=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=pt(de),Ne=lt(de),We=!(de.hasPopup!==!1||!Oe&&!Ne),je=function(){var xe,qe,Ye,dt,ot=de.file;ot&&(xe=ot.filename,qe=ot.content,Ye=typeof qe=="string"?"":URL.createObjectURL(new Blob([qe],{type:""})),(dt=document.createElement("a")).style.display="none",dt.href=Ye||xe,dt.setAttribute("download",function(mt){var ut=mt.split("/").pop();return ut?ut.split("#")[0].split("?")[0]:mt}(xe)),document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),Ye&&URL.revokeObjectURL(Ye))};return B.createElement($t,{annotation:de,hasPopup:We,ignoreBorder:!0,isRenderable:!0,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onDoubleClick:je,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},Ke=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We);return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},Le=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=pt(de),Ne=lt(de),We=!(!Oe&&!Ne),je=!de.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(de.parentType)!==-1;return Y(function(){if(de.parentId){var xe=document.querySelector('[data-annotation-id="'.concat(de.parentId,'"]')),qe=document.querySelector('[data-annotation-id="'.concat(de.id,'"]'));if(xe&&qe){var Ye=parseFloat(xe.style.left),dt=parseFloat(xe.style.top)+parseFloat(xe.style.height);qe.style.left="".concat(Ye,"px"),qe.style.top="".concat(dt,"px"),qe.style.transformOrigin="-".concat(Ye,"px -").concat(dt,"px")}}},[]),B.createElement($t,{annotation:de,hasPopup:je,ignoreBorder:!1,isRenderable:We,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":de.id}),B.createElement(Ct,{annotation:de}))})},Ve=function(ee){var de=ee.annotation,Ce=ee.childAnnotation,Re=ee.page,Oe=ee.viewport,Ne=de.hasPopup===!1,We=pt(de),je=lt(de),xe=!!(de.hasPopup||We||je);if(de.quadPoints&&de.quadPoints.length>0){var qe=de.quadPoints.map(function(Ye){return Object.assign({},de,{rect:[Ye[2].x,Ye[2].y,Ye[1].x,Ye[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,qe.map(function(Ye,dt){return B.createElement(Ve,{key:dt,annotation:Ye,childAnnotation:Ce,page:Re,viewport:Oe})}))}return B.createElement($t,{annotation:de,hasPopup:Ne,ignoreBorder:!0,isRenderable:xe,page:Re,viewport:Oe},function(Ye){return B.createElement(B.Fragment,null,B.createElement("div",te({},Ye.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":de.id,onClick:Ye.popup.toggleOnClick,onMouseEnter:Ye.popup.openOnHover,onMouseLeave:Ye.popup.closeOnHover}),Ye.slot.children),Ce&&Ce.annotationType===A.AnnotationType.Popup&&Ye.popup.opened&&B.createElement(Le,{annotation:Ce,page:Re,viewport:Oe}))})},wt=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We),xe=de.rect,qe=xe[2]-xe[0],Ye=xe[3]-xe[1],dt=de.borderStyle.width;return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(ot){return B.createElement("div",te({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":de.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),de.inkLists&&de.inkLists.length&&B.createElement("svg",{height:"".concat(Ye,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Ye),width:"".concat(qe,"px")},de.inkLists.map(function(mt,ut){return B.createElement("polyline",{key:ut,fill:"none",stroke:"transparent",strokeWidth:dt||1,points:mt.map(function(Ot){return"".concat(Ot.x-xe[0],",").concat(xe[3]-Ot.y)}).join(" ")})})),ot.slot.children)})},Be=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We),xe=de.rect,qe=xe[2]-xe[0],Ye=xe[3]-xe[1],dt=de.borderStyle.width;return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(ot){return B.createElement("div",te({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":de.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ye,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Ye),width:"".concat(qe,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:dt||1,x1:xe[2]-de.lineCoordinates[0],x2:xe[2]-de.lineCoordinates[2],y1:xe[3]-de.lineCoordinates[1],y2:xe[3]-de.lineCoordinates[3]})),ot.slot.children)})},ct=/^([^\w]*)(javascript|data|vbscript)/im,Et=/&#(\w+)(^\w|;)?/g,kt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Xt=/^([^:]+):/gm,en=function(ee,de){de===void 0&&(de="about:blank");var Ce,Re=(Ce=ee||"",Ce.replace(Et,function(je,xe){return String.fromCharCode(xe)})).replace(kt,"").trim();if(!Re)return de;var Oe=Re[0];if(Oe==="."||Oe==="/")return Re;var Ne=Re.match(Xt);if(!Ne)return Re;var We=Ne[0];return ct.test(We)?de:Re},zt=function(ee){var de,Ce=ee.annotation,Re=ee.doc,Oe=ee.outlines,Ne=ee.page,We=ee.viewport,je=ee.onExecuteNamedAction,xe=ee.onJumpToDest,qe=!!(Ce.url||Ce.dest||Ce.action||Ce.unsafeUrl),Ye={};if(Ce.url||Ce.unsafeUrl){var dt=en(Ce.url||Ce.unsafeUrl,"");dt?Ye={"data-target":"external",href:dt,rel:"noopener noreferrer nofollow",target:Ce.newWindow?"_blank":"",title:dt}:qe=!1}else Ye={href:"","data-annotation-link":Ce.id,onClick:function(mt){mt.preventDefault(),Ce.action?je(Ce.action):st(Re,Ce.dest).then(function(ut){var Ot=ut.pageIndex,_t=ut.bottomOffset,Zt=ut.leftOffset,xt=ut.scaleTo;xe(Ot,_t,Zt,xt)})}};var ot=Oe&&Oe.length&&Ce.dest&&typeof Ce.dest=="string"?(de=Oe.find(function(mt){return mt.dest===Ce.dest}))===null||de===void 0?void 0:de.title:"";return ot&&(Ye=Object.assign({},Ye,{title:ot,"aria-label":ot})),B.createElement($t,{annotation:Ce,hasPopup:!1,ignoreBorder:!1,isRenderable:qe,page:Ne,viewport:We},function(mt){return B.createElement("div",te({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ce.id,"data-testid":"core__annotation--link-".concat(Ce.id)}),B.createElement("a",te({},Ye)))})},Ut=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We),xe=de.rect,qe=xe[2]-xe[0],Ye=xe[3]-xe[1],dt=de.borderStyle.width;return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(ot){return B.createElement("div",te({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":de.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),de.vertices&&de.vertices.length&&B.createElement("svg",{height:"".concat(Ye,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Ye),width:"".concat(qe,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:dt||1,points:de.vertices.map(function(mt){return"".concat(mt.x-xe[0],",").concat(xe[3]-mt.y)}).join(" ")})),ot.slot.children)})},tn=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We),xe=de.rect,qe=xe[2]-xe[0],Ye=xe[3]-xe[1],dt=de.borderStyle.width;return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(ot){return B.createElement("div",te({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":de.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),de.vertices&&de.vertices.length&&B.createElement("svg",{height:"".concat(Ye,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Ye),width:"".concat(qe,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:dt||1,points:de.vertices.map(function(mt){return"".concat(mt.x-xe[0],",").concat(xe[3]-mt.y)}).join(" ")})),ot.slot.children)})},Yt=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We),xe=de.rect,qe=xe[2]-xe[0],Ye=xe[3]-xe[1],dt=de.borderStyle.width;return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(ot){return B.createElement("div",te({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":de.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Ye,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Ye),width:"".concat(qe,"px")},B.createElement("rect",{height:Ye-dt,fill:"none",stroke:"transparent",strokeWidth:dt||1,x:dt/2,y:dt/2,width:qe-dt})),ot.slot.children)})},Jt=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We);return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},dn=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We);return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},hn=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We);return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},vn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},$n=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},xn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},fn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},On=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},Pn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Zn=function(ee){var de=ee.annotation,Ce=ee.childAnnotation,Re=ee.page,Oe=ee.viewport,Ne=de.hasPopup===!1,We=pt(de),je=lt(de),xe=!!(de.hasPopup||We||je),qe=de.name?de.name.toLowerCase():"";return B.createElement($t,{annotation:de,hasPopup:Ne,ignoreBorder:!1,isRenderable:xe,page:Re,viewport:Oe},function(Ye){return B.createElement(B.Fragment,null,B.createElement("div",te({},Ye.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":de.id,onClick:Ye.popup.toggleOnClick,onMouseEnter:Ye.popup.openOnHover,onMouseLeave:Ye.popup.closeOnHover}),qe&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},qe==="check"&&B.createElement(V,null),qe==="comment"&&B.createElement(vn,null),qe==="help"&&B.createElement($n,null),qe==="insert"&&B.createElement(Pn,null),qe==="key"&&B.createElement(xn,null),qe==="note"&&B.createElement(fn,null),(qe==="newparagraph"||qe==="paragraph")&&B.createElement(On,null)),Ye.slot.children),Ce&&Ce.annotationType===A.AnnotationType.Popup&&Ye.popup.opened&&B.createElement(Le,{annotation:Ce,page:Re,viewport:Oe}))})},Jn=function(ee){var de=ee.annotation,Ce=ee.page,Re=ee.viewport,Oe=de.hasPopup===!1,Ne=pt(de),We=lt(de),je=!!(de.hasPopup||Ne||We);return B.createElement($t,{annotation:de,hasPopup:Oe,ignoreBorder:!0,isRenderable:je,page:Ce,viewport:Re},function(xe){return B.createElement("div",te({},xe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":de.id,onClick:xe.popup.toggleOnClick,onMouseEnter:xe.popup.openOnHover,onMouseLeave:xe.popup.closeOnHover}),xe.slot.children)})},Qn=function(ee){var de=ee.annotations,Ce=ee.doc,Re=ee.outlines,Oe=ee.page,Ne=ee.pageIndex,We=ee.plugins,je=ee.rotation,xe=ee.scale,qe=ee.onExecuteNamedAction,Ye=ee.onJumpToDest,dt=B.useRef(),ot=Oe.getViewport({rotation:je,scale:xe}).clone({dontFlip:!0}),mt=de.filter(function(ut){return!ut.parentId});return Y(function(){var ut=dt.current;ut&&We.forEach(function(Ot){Ot.onAnnotationLayerRender&&Ot.onAnnotationLayerRender({annotations:mt,container:ut,pageIndex:Ne,rotation:je,scale:xe})})},[]),B.createElement("div",{ref:dt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ne)},mt.map(function(ut){var Ot=de.find(function(_t){return _t.parentId===ut.id});switch(ut.annotationType){case A.AnnotationType.Caret:return B.createElement(jt,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Circle:return B.createElement(nt,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.FileAttachment:return B.createElement(bt,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.FreeText:return B.createElement(Ke,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Highlight:return B.createElement(Ve,{key:ut.id,annotation:ut,childAnnotation:Ot,page:Oe,viewport:ot});case A.AnnotationType.Ink:return B.createElement(wt,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Line:return B.createElement(Be,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Link:return B.createElement(zt,{key:ut.id,annotation:ut,doc:Ce,outlines:Re,page:Oe,viewport:ot,onExecuteNamedAction:qe,onJumpToDest:Ye});case A.AnnotationType.Polygon:return B.createElement(Ut,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Polyline:return B.createElement(tn,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Popup:return B.createElement(Le,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Square:return B.createElement(Yt,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Squiggly:return B.createElement(Jt,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Stamp:return B.createElement(dn,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.StrikeOut:return B.createElement(hn,{key:ut.id,annotation:ut,page:Oe,viewport:ot});case A.AnnotationType.Text:return B.createElement(Zn,{key:ut.id,annotation:ut,childAnnotation:Ot,page:Oe,viewport:ot});case A.AnnotationType.Underline:return B.createElement(Jn,{key:ut.id,annotation:ut,page:Oe,viewport:ot});default:return B.createElement(B.Fragment,{key:ut.id})}}))},er=function(ee){var de=ee.page,Ce=ee.renderAnnotations,Re=W(),Oe=B.useState({loading:!0,annotations:[]}),Ne=Oe[0],We=Oe[1];return B.useEffect(function(){de.getAnnotations({intent:"display"}).then(function(je){Re.current&&We({loading:!1,annotations:je})})},[]),Ne.loading?B.createElement(B.Fragment,null):Ce(Ne.annotations)},tr=function(ee){var de=ee.doc,Ce=ee.outlines,Re=ee.page,Oe=ee.pageIndex,Ne=ee.plugins,We=ee.rotation,je=ee.scale,xe=ee.onExecuteNamedAction,qe=ee.onJumpToDest;return B.createElement(er,{page:Re,renderAnnotations:function(Ye){return B.createElement(Qn,{annotations:Ye,doc:de,outlines:Ce,page:Re,pageIndex:Oe,plugins:Ne,rotation:We,scale:je,onExecuteNamedAction:xe,onJumpToDest:qe})}})},Wn=function(ee,de){var Ce=ee%de;return Ce===0?ee:Math.floor(ee-Ce)},mr=function(ee){var de=ee.canvasLayerRef,Ce=ee.height,Re=ee.page,Oe=ee.pageIndex,Ne=ee.plugins,We=ee.rotation,je=ee.scale,xe=ee.width,qe=ee.onRenderCanvasCompleted,Ye=B.useRef();return Y(function(){var dt=Ye.current;dt&&dt.cancel();var ot=de.current;ot.removeAttribute("data-testid"),Ne.forEach(function(Kt){Kt.onCanvasLayerRender&&Kt.onCanvasLayerRender({ele:ot,pageIndex:Oe,rotation:We,scale:je,status:A.LayerRenderStatus.PreRender})});var mt=Re.getViewport({rotation:We,scale:je}),ut=window.devicePixelRatio||1,Ot=Math.sqrt(16777216/(mt.width*mt.height)),_t=ut>Ot;_t?ot.style.transform="scale(1, 1)":ot.style.removeProperty("transform");var Zt=Math.min(Ot,ut),xt=function(Kt,bn){var _n,nn;if(Math.floor(Kt)===Kt)return[Kt,1];var ln=1/Kt;if(ln>bn)return[1,bn];if(Math.floor(ln)===ln)return[1,ln];for(var pn=Kt>1?ln:Kt,Sn=0,Cn=1,Rn=1,rn=1;;){var En=Sn+Rn,sn=Cn+rn;if(sn>bn)break;pn<=En/sn?(Rn=(_n=[En,sn])[0],rn=_n[1]):(Sn=(nn=[En,sn])[0],Cn=nn[1])}return pn<(Sn/Cn+Rn/rn)/2?pn===Kt?[Sn,Cn]:[Cn,Sn]:pn===Kt?[Rn,rn]:[rn,Rn]}(Zt,8),Tt=xt[0],At=xt[1];ot.width=Wn(mt.width*Zt,Tt),ot.height=Wn(mt.height*Zt,Tt),ot.style.width="".concat(Wn(mt.width,At),"px"),ot.style.height="".concat(Wn(mt.height,At),"px"),ot.hidden=!0;var It=ot.getContext("2d",{alpha:!1}),Qt=_t||ut!==1?[Zt,0,0,Zt,0,0]:null;return Ye.current=Re.render({canvasContext:It,transform:Qt,viewport:mt}),Ye.current.promise.then(function(){ot.hidden=!1,ot.setAttribute("data-testid","core__canvas-layer-".concat(Oe)),Ne.forEach(function(Kt){Kt.onCanvasLayerRender&&Kt.onCanvasLayerRender({ele:ot,pageIndex:Oe,rotation:We,scale:je,status:A.LayerRenderStatus.DidRender})}),qe()},function(){qe()}),function(){ot&&(ot.width=0,ot.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ce,"px"),width:"".concat(xe,"px")}},B.createElement("canvas",{ref:de}))},Fi=function(ee){var de=ee.height,Ce=ee.page,Re=ee.rotation,Oe=ee.scale,Ne=ee.width,We=B.useRef();return Y(function(){var je=We.current,xe=Ce.getViewport({rotation:Re,scale:Oe});Ce.getOperatorList().then(function(qe){(function(){var Ye=We.current;Ye&&(Ye.innerHTML="")})(),new ie.SVGGraphics(Ce.commonObjs,Ce.objs).getSVG(qe,xe).then(function(Ye){Ye.style.height="".concat(de,"px"),Ye.style.width="".concat(Ne,"px"),je.appendChild(Ye)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:We})},Oi=function(ee){var de=ee.containerRef,Ce=ee.page,Re=ee.pageIndex,Oe=ee.plugins,Ne=ee.rotation,We=ee.scale,je=ee.onRenderTextCompleted,xe=B.useRef(),qe=function(){var Ye=de.current;Ye&&([].slice.call(Ye.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(dt){return Ye.removeChild(dt)}),[].slice.call(Ye.querySelectorAll('br[role="presentation"]')).forEach(function(dt){return Ye.removeChild(dt)}))};return Y(function(){var Ye=xe.current;Ye&&Ye.cancel();var dt=de.current;if(dt){dt.removeAttribute("data-testid");var ot=Ce.getViewport({rotation:Ne,scale:We});return Oe.forEach(function(mt){mt.onTextLayerRender&&mt.onTextLayerRender({ele:dt,pageIndex:Re,scale:We,status:A.LayerRenderStatus.PreRender})}),Ce.getTextContent().then(function(mt){qe(),xe.current=ie.renderTextLayer({container:dt,textContent:mt,textContentSource:mt,viewport:ot}),xe.current.promise.then(function(){dt.setAttribute("data-testid","core__text-layer-".concat(Re)),[].slice.call(dt.children).forEach(function(ut){ut.classList.contains("rpv-core__text-layer-text--not")||ut.classList.add("rpv-core__text-layer-text")}),Oe.forEach(function(ut){ut.onTextLayerRender&&ut.onTextLayerRender({ele:dt,pageIndex:Re,scale:We,status:A.LayerRenderStatus.DidRender})}),je()},function(){dt.removeAttribute("data-testid"),je()})}),function(){var mt;qe(),(mt=xe.current)===null||mt===void 0||mt.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:de})},Ii=function(ee){var de=ee.doc,Ce=ee.measureRef,Re=ee.outlines,Oe=ee.pageIndex,Ne=ee.pageRotation,We=ee.pageSize,je=ee.plugins,xe=ee.renderPage,qe=ee.renderQueueKey,Ye=ee.rotation,dt=ee.scale,ot=ee.shouldRender,mt=ee.viewMode,ut=ee.onExecuteNamedAction,Ot=ee.onJumpToDest,_t=ee.onRenderCompleted,Zt=ee.onRotatePage,xt=W(),Tt=B.useState(null),At=Tt[0],It=Tt[1],Qt=B.useState(!1),Kt=Qt[0],bn=Qt[1],_n=B.useState(!1),nn=_n[0],ln=_n[1],pn=B.useRef(),Sn=B.useRef(),Cn=Math.abs(Ye+Ne)%180==0,Rn=We.pageWidth*dt,rn=We.pageHeight*dt,En=Cn?Rn:rn,sn=Cn?rn:Rn,mn=(We.rotation+Ye+Ne)%360,In=B.useRef(0),Tn=xe||function(kn){return B.createElement(B.Fragment,null,kn.canvasLayer.children,kn.textLayer.children,kn.annotationLayer.children)};return B.useEffect(function(){It(null),bn(!1),ln(!1)},[Ne,Ye,dt]),B.useEffect(function(){ot&&xt.current&&!At&&Qe(de,Oe).then(function(kn){xt.current&&(In.current=qe,It(kn))})},[ot,At]),B.useEffect(function(){Kt&&nn&&(qe!==In.current?(It(null),bn(!1),ln(!1)):_t(Oe))},[Kt,nn]),B.createElement("div",{className:K({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":mt===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":mt===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":mt===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Oe),ref:Ce,style:{height:"".concat(sn,"px"),width:"".concat(En,"px")}},At?B.createElement(B.Fragment,null,Tn({annotationLayer:{attrs:{},children:B.createElement(tr,{doc:de,outlines:Re,page:At,pageIndex:Oe,plugins:je,rotation:mn,scale:dt,onExecuteNamedAction:ut,onJumpToDest:Ot})},canvasLayer:{attrs:{},children:B.createElement(mr,{canvasLayerRef:pn,height:sn,page:At,pageIndex:Oe,plugins:je,rotation:mn,scale:dt,width:En,onRenderCanvasCompleted:function(){xt.current&&bn(!0)}})},canvasLayerRendered:Kt,doc:de,height:sn,pageIndex:Oe,rotation:mn,scale:dt,svgLayer:{attrs:{},children:B.createElement(Fi,{height:sn,page:At,rotation:mn,scale:dt,width:En})},textLayer:{attrs:{},children:B.createElement(Oi,{containerRef:Sn,page:At,pageIndex:Oe,plugins:je,rotation:mn,scale:dt,onRenderTextCompleted:function(){xt.current&&ln(!0)}})},textLayerRendered:nn,width:En,markRendered:_t,onRotatePage:function(kn){return Zt(Oe,kn)}}),je.map(function(kn,Dn){return kn.renderPageLayer?B.createElement(B.Fragment,{key:Dn},kn.renderPageLayer({canvasLayerRef:pn,canvasLayerRendered:Kt,doc:de,height:sn,pageIndex:Oe,rotation:mn,scale:dt,textLayerRef:Sn,textLayerRendered:nn,width:En})):B.createElement(B.Fragment,{key:Dn})})):B.createElement(Q,{testId:"core__page-layer-loading-".concat(Oe)}))},Li=function(ee,de){var Ce=de.rect;return ee.height!==Ce.height||ee.width!==Ce.width?Ce:ee};(function(ee){ee.Horizontal="Horizontal",ee.Vertical="Vertical",ee.Both="Both"})(yt||(yt={}));var Di=function(ee){return 1-Math.pow(1-ee,4)},Kr=1e-4,Ni={left:0,top:0},Yr={capture:!1,passive:!0},ji=function(ee){var de=ee.elementRef,Ce=ee.isRtl,Re=ee.scrollDirection,Oe=ee.onSmoothScroll,Ne=function(_t){var Zt=W(),xt=B.useRef(0),Tt=B.useState(_t),At=Tt[0],It=Tt[1],Qt=B.useCallback(function(Kt){cancelAnimationFrame(xt.current),xt.current=requestAnimationFrame(function(){Zt.current&&It(Kt)})},[]);return B.useEffect(function(){return function(){cancelAnimationFrame(xt.current)}},[]),[At,Qt]}(Ni),We=Ne[0],je=Ne[1],xe=B.useState(de.current),qe=xe[0],Ye=xe[1],dt=Ce?-1:1,ot=B.useRef(Re);ot.current=Re;var mt=B.useCallback(function(){return Oe(!1)},[]),ut=B.useCallback(function(){if(qe)switch(ot.current){case yt.Horizontal:je({left:dt*qe.scrollLeft,top:0});break;case yt.Both:je({left:dt*qe.scrollLeft,top:qe.scrollTop});break;case yt.Vertical:default:je({left:0,top:qe.scrollTop})}},[qe]);Y(function(){Ye(de.current)}),Y(function(){if(qe)return qe.addEventListener("scroll",ut,Yr),function(){qe.removeEventListener("scroll",ut,Yr)}},[qe]);var Ot=B.useCallback(function(_t,Zt){var xt=de.current;if(xt){var Tt={left:0,top:0};switch(ot.current){case yt.Horizontal:Tt.left=dt*_t.left;break;case yt.Both:Tt.left=dt*_t.left,Tt.top=_t.top;break;case yt.Vertical:default:Tt.top=_t.top}if(Zt)Oe(!0),function(At,It,Qt,Kt,bn,_n){bn===void 0&&(bn=function(En){return En}),_n===void 0&&(_n=function(){});var nn=0,ln=0;switch(It){case yt.Horizontal:ln=At.scrollLeft,nn=0;case yt.Both:ln=At.scrollLeft,nn=At.scrollTop;break;case yt.Vertical:default:ln=0,nn=At.scrollTop}if(!(nn===Qt.top&&It===yt.Vertical||ln===Qt.left&&It===yt.Horizontal)){var pn,Sn=-1,Cn=ln-Qt.left,Rn=nn-Qt.top,rn=function(En){Sn===-1&&(Sn=En);var sn=En-Sn,mn=Math.min(sn/Kt,1),In=bn(mn),Tn={left:ln-Cn*In,top:nn-Rn*In};switch(It){case yt.Horizontal:At.scrollLeft=Tn.left;break;case yt.Both:At.scrollLeft=Tn.left,At.scrollTop=Tn.top;break;case yt.Vertical:default:At.scrollTop=Tn.top}Math.abs(Tn.top-Qt.top)<=Kr&&Math.abs(Tn.left-Qt.left)<=Kr&&_n(),sn<Kt?pn=window.requestAnimationFrame(rn):window.cancelAnimationFrame(pn)};pn=window.requestAnimationFrame(rn)}}(xt,ot.current,Tt,400,Di,mt);else switch(ot.current){case yt.Horizontal:xt.scrollLeft=Tt.left;break;case yt.Both:xt.scrollLeft=Tt.left,xt.scrollTop=Tt.top;break;case yt.Vertical:default:xt.scrollTop=Tt.top}}},[de]);return{scrollOffset:We,scrollTo:Ot}},ur=function(ee,de,Ce){return Math.max(ee,Math.min(Ce,de))},Bi=function(ee,de){if(de!==A.ViewMode.DualPageWithCover)return 0;if(!function(Oe){var Ne=Oe.length;if(Ne===1)return!1;for(var We=1;We<Ne;We++)if(Oe[We].height!==Oe[0].height||Oe[We].width!==Oe[0].width)return!0;return!1}(ee))return 2*ee[0].width;var Ce=oe(ee.slice(1),2).map(function(Oe){return Oe.length===2?Oe[0].width+Oe[1].width:Oe[0].width}),Re=[ee[0].width].concat(Ce);return Math.max.apply(Math,Re)},zi={left:0,top:0},Hi={left:0,top:0},Cr={left:0,top:0},Vi={left:0,top:0},Ar={height:0,width:0},Zr={left:0,top:0},Jr="data-virtual-index",Ui=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Wi=function(ee){var de=ee.isRtl,Ce=ee.numberOfItems,Re=ee.parentRef,Oe=ee.setStartRange,Ne=ee.setEndRange,We=ee.sizes,je=ee.scrollMode,xe=ee.viewMode,qe=B.useState(!1),Ye=qe[0],dt=qe[1],ot=B.useCallback(function(Pt){return dt(Pt)},[]),mt=B.useRef(je);mt.current=je;var ut=B.useRef(xe);ut.current=xe;var Ot=je===A.ScrollMode.Wrapped||xe===A.ViewMode.DualPageWithCover||xe===A.ViewMode.DualPage?yt.Both:je===A.ScrollMode.Horizontal?yt.Horizontal:yt.Vertical,_t=ji({elementRef:Re,isRtl:de,scrollDirection:Ot,onSmoothScroll:ot}),Zt=_t.scrollOffset,xt=_t.scrollTo,Tt=function(Pt){var Mt=Pt.elementRef,Rt=B.useState(Mt.current),Dt=Rt[0],Ft=Rt[1],Lt=B.useRef(!1),Bt=B.useReducer(Li,{height:0,width:0}),Wt=Bt[0],vt=Bt[1];return Y(function(){Mt.current!==Dt&&Ft(Mt.current)}),Y(function(){if(Dt&&!Lt.current){Lt.current=!0;var Nt=Dt.getBoundingClientRect(),Vt=Nt.height,an=Nt.width;vt({rect:{height:Vt,width:an}})}},[Dt]),B.useEffect(function(){if(Dt){var Nt=new ResizeObserver(function(Vt,an){Vt.forEach(function(yn){if(yn.target===Dt){var Mn=yn.contentRect,zn=Mn.height,jn=Mn.width;vt({rect:{height:zn,width:jn}})}})});return Nt.observe(Dt),function(){Nt.unobserve(Dt)}}},[Dt]),Wt}({elementRef:Re}),At=B.useRef({scrollOffset:Zr,measurements:[],parentRect:Ar,totalSize:Ar});At.current.scrollOffset=Zt,At.current.parentRect=Tt;var It=B.useMemo(function(){return Array(Ce).fill(-1)},[]),Qt=B.useState(It),Kt=Qt[0],bn=Qt[1],_n=B.useMemo(function(){var Pt=new IntersectionObserver(function(Mt){Mt.forEach(function(Rt){var Dt=Rt.isIntersecting?Rt.intersectionRatio:-1,Ft=Rt.target.getAttribute(Jr);if(Ft){var Lt=parseInt(Ft,10);0<=Lt&&Lt<Ce&&bn(function(Bt){return Bt[Lt]=Dt,function(Wt,vt,Nt){if(Nt||arguments.length===2)for(var Vt,an=0,yn=vt.length;an<yn;an++)!Vt&&an in vt||(Vt||(Vt=Array.prototype.slice.call(vt,0,an)),Vt[an]=vt[an]);return Wt.concat(Vt||Array.prototype.slice.call(vt))}([],Bt,!0)})}})},{threshold:Ui});return Pt},[]),nn=B.useMemo(function(){return je===A.ScrollMode.Page&&xe===A.ViewMode.SinglePage?function(Pt,Mt,Rt){for(var Dt=[],Ft=0;Ft<Pt;Ft++){var Lt={height:Math.max(Mt.height,Rt[Ft].height),width:Math.max(Mt.width,Rt[Ft].width)},Bt=Ft===0?Vi:Dt[Ft-1].end,Wt={left:Bt.left+Lt.width,top:Bt.top+Lt.height};Dt[Ft]={index:Ft,start:Bt,size:Lt,end:Wt,visibility:-1}}return Dt}(Ce,Tt,We):xe===A.ViewMode.DualPageWithCover?function(Pt,Mt,Rt,Dt){for(var Ft=[],Lt=0,Bt=0,Wt=Cr,vt=0;vt<Pt;vt++){var Nt=vt===0?{height:Dt===A.ScrollMode.Page?Math.max(Mt.height,Rt[vt].height):Rt[vt].height,width:Dt===A.ScrollMode.Page?Math.max(Mt.width,Rt[vt].width):Rt[vt].width}:{height:Dt===A.ScrollMode.Page?Math.max(Mt.height,Rt[vt].height):Rt[vt].height,width:Math.max(Mt.width/2,Rt[vt].width)};Dt===A.ScrollMode.Page?Wt=vt===0?Cr:{left:vt%2==0?Nt.width:0,top:Math.floor((vt-1)/2)*Nt.height+Ft[0].end.top}:vt===0?(Wt=Cr,Lt=Rt[0].height,Bt=0):vt%2==1?(Wt={left:0,top:Lt+=Bt},Bt=vt===Pt-1?Rt[vt].height:Math.max(Rt[vt].height,Rt[vt+1].height)):Wt={left:Ft[vt-1].end.left,top:Lt};var Vt={left:Wt.left+Nt.width,top:Wt.top+Nt.height};Ft[vt]={index:vt,start:Wt,size:Nt,end:Vt,visibility:-1}}return Ft}(Ce,Tt,We,je):xe===A.ViewMode.DualPage?function(Pt,Mt,Rt,Dt){for(var Ft=[],Lt=0,Bt=0,Wt=Hi,vt=0;vt<Pt;vt++){var Nt={height:Dt===A.ScrollMode.Page?Math.max(Mt.height,Rt[vt].height):Rt[vt].height,width:Math.max(Mt.width/2,Rt[vt].width)};Dt===A.ScrollMode.Page?Wt={left:vt%2==0?0:Nt.width,top:Math.floor(vt/2)*Nt.height}:vt%2==0?(Wt={left:0,top:Lt+=Bt},Bt=vt===Pt-1?Rt[vt].height:Math.max(Rt[vt].height,Rt[vt+1].height)):Wt={left:Ft[vt-1].end.left,top:Lt};var Vt={left:Wt.left+Nt.width,top:Wt.top+Nt.height};Ft[vt]={index:vt,start:Wt,size:Nt,end:Vt,visibility:-1}}return Ft}(Ce,Tt,We,je):function(Pt,Mt,Rt,Dt){for(var Ft=[],Lt=0,Bt={left:0,top:0},Wt=0,vt=zi,Nt=0;Nt<Pt;Nt++){var Vt=Rt[Nt];if(Nt===0)Lt=Vt.width,Bt={left:0,top:0},Wt=Vt.height;else switch(Dt){case A.ScrollMode.Wrapped:(Lt+=Vt.width)<Mt.width?(vt={left:Ft[Nt-1].end.left,top:Bt.top},Wt=Math.max(Wt,Vt.height)):(Lt=Vt.width,Bt={left:(vt={left:Bt.left,top:Bt.top+Wt}).left,top:vt.top},Wt=Vt.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:vt=Ft[Nt-1].end}var an={left:vt.left+Vt.width,top:vt.top+Vt.height};Ft[Nt]={index:Nt,start:vt,size:Vt,end:an,visibility:-1}}return Ft}(Ce,Tt,We,je)},[je,We,xe,Tt]),ln=nn[Ce-1]?{height:nn[Ce-1].end.top,width:nn[Ce-1].end.left}:Ar;At.current.measurements=nn,At.current.totalSize=ln;var pn=function(Pt,Mt,Rt,Dt){var Ft=0;switch(Pt){case yt.Horizontal:Ft=Dt.left;break;case yt.Vertical:default:Ft=Dt.top}var Lt=Mt.length-1,Bt=function(an,yn,Mn,zn){for(;an<=yn;){var jn=(an+yn)/2|0,An=zn(jn);if(An<Mn)an=jn+1;else{if(!(An>Mn))return jn;yn=jn-1}}return an>0?an-1:0}(0,Lt,Ft,function(an){switch(Pt){case yt.Horizontal:return Mt[an].start.left;case yt.Both:case yt.Vertical:default:return Mt[an].start.top}});if(Pt===yt.Both)for(var Wt=Mt[Bt].start.top;Bt-1>=0&&Mt[Bt-1].start.top===Wt&&Mt[Bt-1].start.left>=Dt.left;)Bt--;for(var vt=Bt;vt<=Lt;){var Nt={top:Mt[vt].start.top-Dt.top,left:Mt[vt].start.left-Dt.left},Vt={height:Rt.height-Nt.top,width:Rt.width-Nt.left};if(Pt===yt.Horizontal&&Vt.width<0||Pt===yt.Vertical&&Vt.height<0||Pt===yt.Both&&(Vt.width<0||Vt.height<0))break;vt++}return{start:Bt,end:vt}}(Ot,At.current.measurements,At.current.parentRect,At.current.scrollOffset),Sn=pn.start,Cn=pn.end,Rn=Kt.slice(ur(0,Ce,Sn),ur(0,Ce,Cn)),rn=Sn+Rn.reduce(function(Pt,Mt,Rt,Dt){return Mt>Dt[Pt]?Rt:Pt},0),En=rn=ur(0,Ce-1,rn),sn=Oe(Sn),mn=Ne(Cn);switch(xe){case A.ViewMode.DualPageWithCover:rn>0&&(En=rn%2==1?rn:rn-1),sn=sn===0?0:sn%2==1?sn:sn-1,Ce-(mn=mn%2==1?mn-1:mn)<=2&&(mn=Ce-1);break;case A.ViewMode.DualPage:En=rn%2==0?rn:rn-1,sn=sn%2==0?sn:sn-1,mn=mn%2==1?mn:mn-1;break;case A.ViewMode.SinglePage:default:En=rn}var In=B.useMemo(function(){for(var Pt=[],Mt=function(Dt){var Ft=nn[Dt],Lt=te(te({},Ft),{visibility:Kt[Dt]!==void 0?Kt[Dt]:-1,measureRef:function(Bt){Bt&&(Bt.setAttribute(Jr,"".concat(Dt)),_n.observe(Bt))}});Pt.push(Lt)},Rt=sn;Rt<=mn;Rt++)Mt(Rt);return Pt},[sn,mn,Kt,nn]),Tn=B.useCallback(function(Pt,Mt){var Rt=At.current.measurements[ur(0,Ce-1,Pt)],Dt=mt.current===A.ScrollMode.Page?Zr:Mt;Rt&&xt({left:Dt.left+Rt.start.left,top:Dt.top+Rt.start.top},!0)},[xt]),kn=B.useCallback(function(Pt,Mt){var Rt=At.current.measurements,Dt=Rt[Pt].start,Ft=Rt.find(function(Bt){return Bt.start.top-Dt.top>1e-12});if(Ft){var Lt=Ft.index;switch(ut.current){case A.ViewMode.DualPage:Lt=Lt%2==0?Lt:Lt+1;break;case A.ViewMode.DualPageWithCover:Lt=Lt%2==1?Lt:Lt+1}Tn(Lt,Mt)}},[]),Dn=B.useCallback(function(Pt,Mt){for(var Rt=At.current.measurements,Dt=Rt[Pt].start,Ft=Pt,Lt=!1,Bt=Ce-1;Bt>=0;Bt--)if(Dt.top-Rt[Bt].start.top>1e-12){Lt=!0,Ft=Rt[Bt].index;break}if(Lt){switch(ut.current){case A.ViewMode.DualPage:Ft=Ft%2==0?Ft:Ft-1;break;case A.ViewMode.DualPageWithCover:Ft=Ft%2==0?Ft-1:Ft}Ft===Pt&&(Ft=Pt-1),Tn(Ft,Mt)}},[]),rr=B.useCallback(function(Pt,Mt){if(ut.current!==A.ViewMode.DualPageWithCover&&ut.current!==A.ViewMode.DualPage)switch(mt.current){case A.ScrollMode.Wrapped:kn(Pt,Mt);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Tn(Pt+1,Mt)}else kn(Pt,Mt)},[]),Nn=B.useCallback(function(Pt,Mt){if(ut.current!==A.ViewMode.DualPageWithCover&&ut.current!==A.ViewMode.DualPage)switch(mt.current){case A.ScrollMode.Wrapped:Dn(Pt,Mt);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Tn(Pt-1,Mt)}else Dn(Pt,Mt)},[]),Fn=B.useCallback(function(){return function(Pt,Mt){switch(Mt){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(Pt.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(Pt.height,"px"),width:"100%"}}}(ln,mt.current)},[ln]),dr=B.useCallback(function(Pt){return function(Mt,Rt,Dt){return Dt!==A.ScrollMode.Page?{}:{height:"".concat(Rt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Mt.start.top,"px)")}}(Pt,Tt,mt.current)},[Tt]),ir=B.useCallback(function(Pt){return function(Mt,Rt,Dt,Ft,Lt){var Bt,Wt,vt,Nt,Vt,an,yn,Mn=Rt?"right":"left",zn=Rt?-1:1,jn=Dt.length,An=Mt.start.left*zn,ar=Mt.size,Hn=ar.height,Vn=ar.width;if(Ft===A.ViewMode.DualPageWithCover){var or=Lt===A.ScrollMode.Page?0:Mt.start.top;return Mt.index===0||jn%2==0&&Mt.index===jn-1?((Bt={height:"".concat(Hn,"px"),minWidth:"".concat(Bi(Dt,Ft),"px"),width:"100%"})[Mn]=0,Bt.position="absolute",Bt.top=0,Bt.transform="translate(".concat(An,"px, ").concat(or,"px)"),Bt):((Wt={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,Wt.position="absolute",Wt.top=0,Wt.transform="translate(".concat(An,"px, ").concat(or,"px)"),Wt)}if(Ft===A.ViewMode.DualPage)return(vt={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,vt.position="absolute",vt.top=0,vt.transform="translate(".concat(An,"px, ").concat(Lt===A.ScrollMode.Page?0:Mt.start.top,"px)"),vt;switch(Lt){case A.ScrollMode.Horizontal:return(Nt={height:"100%",width:"".concat(Vn,"px")})[Mn]=0,Nt.position="absolute",Nt.top=0,Nt.transform="translateX(".concat(An,"px)"),Nt;case A.ScrollMode.Page:return(Vt={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,Vt.position="absolute",Vt.top=0,Vt;case A.ScrollMode.Wrapped:return(an={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,an.position="absolute",an.top=0,an.transform="translate(".concat(An,"px, ").concat(Mt.start.top,"px)"),an;case A.ScrollMode.Vertical:default:return(yn={height:"".concat(Hn,"px"),width:"100%"})[Mn]=0,yn.position="absolute",yn.top=0,yn.transform="translateY(".concat(Mt.start.top,"px)"),yn}}(Pt,de,We,ut.current,mt.current)},[de,We]),qn=B.useCallback(function(Pt,Mt){var Rt=At.current,Dt=Rt.measurements,Ft=Rt.scrollOffset,Lt=Dt[ur(0,Ce-1,Mt)];if(Lt){var Bt=mt.current===A.ScrollMode.Page?{left:Lt.start.left,top:Lt.start.top}:{left:Ft.left*Pt,top:Ft.top*Pt};xt(Bt,!1)}},[]);return B.useEffect(function(){return function(){_n.disconnect()}},[]),{boundingClientRect:Tt,isSmoothScrolling:Ye,startIndex:Sn,startRange:sn,endIndex:Cn,endRange:mn,maxVisbilityIndex:En,virtualItems:In,getContainerStyles:Fn,getItemContainerStyles:dr,getItemStyles:ir,scrollToItem:Tn,scrollToNextItem:rr,scrollToPreviousItem:Nn,zoom:qn}},wr=function(ee,de,Ce,Re,Oe,Ne){var We=Ce;switch(!0){case(Oe===A.ViewMode.DualPageWithCover&&Ne>=3):case(Oe===A.ViewMode.DualPage&&Ne>=3):We=2*Ce;break;default:We=Ce}switch(Re){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((ee.clientWidth-17)/We,(ee.clientHeight-16)/de);case A.SpecialZoomLevel.PageWidth:return(ee.clientWidth-17)/We}},Qr=function(ee){var de=[];return ee.map(function(Ce){de=de.concat(Ce).concat(function(Re){var Oe=[];return Re.items&&Re.items.length>0&&(Oe=Oe.concat(Qr(Re.items))),Oe}(Ce))}),de},qi={buildPageStyles:function(){return{}},transformSize:function(ee){return ee.size}},nr={left:0,top:0},Gi=function(ee){var de=ee.currentFile,Ce=ee.defaultScale,Re=ee.doc,Oe=ee.initialPage,Ne=ee.initialRotation,We=ee.initialScale,je=ee.pageLayout,xe=ee.pageSizes,qe=ee.plugins,Ye=ee.renderPage,dt=ee.scrollMode,ot=ee.viewMode,mt=ee.viewerState,ut=ee.onDocumentLoad,Ot=ee.onOpenFile,_t=ee.onPageChange,Zt=ee.onRotate,xt=ee.onRotatePage,Tt=ee.onZoom,At=Re.numPages,It=Re.loadingTask.docId,Qt=B.useContext(ce).l10n,Kt=B.useContext(J),bn=Kt.direction===A.TextDirection.RightToLeft,_n=B.useRef(),nn=B.useRef(),ln=B.useState(Oe),pn=ln[0],Sn=ln[1],Cn=B.useRef(null),Rn=B.useState(Ne),rn=Rn[0],En=Rn[1],sn=X(rn),mn=B.useState(!1),In=mn[0],Tn=mn[1],kn=B.useState(new Map),Dn=kn[0],rr=kn[1],Nn=B.useState(dt),Fn=Nn[0],dr=Nn[1],ir=X(Fn),qn=B.useState(ot),Pt=qn[0],Mt=qn[1],Rt=X(Pt),Dt=function(gt){var Ht=W(),qt=B.useState([]),cn=qt[0],on=qt[1];return B.useEffect(function(){gt.getOutline().then(function(Gt){if(Ht.current&&Gt!==null){var wn=Qr(Gt);on(wn)}})},[]),cn}(Re),Ft=B.useState(We),Lt=Ft[0],Bt=Ft[1],Wt=X(Lt),vt=B.useRef(mt),Nt=B.useRef(typeof Ce=="string"?Ce:null),Vt=B.useState(-1),an=Vt[0],yn=Vt[1],Mn=B.useState(0),zn=Mn[0],jn=Mn[1],An=_e({doc:Re});B.useEffect(function(){return function(){ve.clear(),Ae.clear()}},[It]);var ar,Hn,Vn,or,ri=B.useMemo(function(){return Object.assign({},qi,je)},[]),Ji=B.useMemo(function(){return Array(At).fill(0).map(function(gt,Ht){var qt=[xe[Ht].pageHeight,xe[Ht].pageWidth],cn=Math.abs(rn)%180==0?{height:qt[0],width:qt[1]}:{height:qt[1],width:qt[0]},on={height:cn.height*Lt,width:cn.width*Lt};return ri.transformSize({numPages:At,pageIndex:Ht,size:on})})},[rn,Lt]),Qi=B.useCallback(function(gt){return Math.max(gt-3,0)},[]),ea=B.useCallback(function(gt){return Math.min(gt+3,At-1)},[At]),un=Wi({isRtl:bn,numberOfItems:At,parentRef:nn,scrollMode:Fn,setStartRange:Qi,setEndRange:ea,sizes:Ji,viewMode:Pt}),ta=(ar=function(gt){Nt.current&&(yn(-1),hr(Nt.current))},Hn=200,Vn=B.useRef(),or=function(){Vn.current&&clearTimeout(Vn.current)},B.useEffect(function(){return function(){return or()}},[]),B.useCallback(function(){for(var gt=[],Ht=0;Ht<arguments.length;Ht++)gt[Ht]=arguments[Ht];or(),Vn.current=setTimeout(function(){ar.apply(void 0,gt)},Hn)},[ar,Hn]));(function(gt){var Ht=gt.targetRef,qt=gt.onResize;Y(function(){var cn=new ResizeObserver(function(Gt){Gt.forEach(function(wn){qt(wn.target)})}),on=Ht.current;if(on)return cn.observe(on),function(){cn.unobserve(on)}},[])})({targetRef:nn,onResize:ta});var Gn=function(gt){var Ht=gt;qe.forEach(function(qt){qt.onViewerStateChange&&(Ht=qt.onViewerStateChange(Ht))}),vt.current=Ht},na=function(){return nn.current},ra=function(){return vt.current},ii=B.useCallback(function(gt,Ht,qt,cn){var on=nn.current,Gt=vt.current;on&&Gt&&Qe(Re,gt).then(function(wn){var Bn=wn.getViewport({scale:1}),Kn=0,vr=(typeof Ht=="function"?Ht(Bn.width,Bn.height):Ht)||0,br=(typeof qt=="function"?qt(Bn.width,Bn.height):qt)||0,sr=Gt.scale;switch(cn){case A.SpecialZoomLevel.PageFit:Kn=0,br=0,hr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:sr=wr(on,xe[gt].pageHeight,xe[gt].pageWidth,A.SpecialZoomLevel.PageWidth,ot,At),Kn=(Bn.height-vr)*sr,br*=sr,hr(sr);break;default:Kn=(Bn.height-vr)*sr,br*=sr}switch(Gt.scrollMode){case A.ScrollMode.Horizontal:un.scrollToItem(gt,{left:br,top:0});break;case A.ScrollMode.Vertical:default:un.scrollToItem(gt,{left:0,top:Kn})}})},[]),ia=B.useCallback(function(){un.scrollToNextItem(vt.current.pageIndex,nr)},[]),Xn=B.useCallback(function(gt){0<=gt&&gt<At&&un.scrollToItem(gt,nr)},[]),aa=B.useCallback(function(){un.scrollToPreviousItem(vt.current.pageIndex,nr)},[]),ai=B.useCallback(function(gt){var Ht,qt;(Ht=gt.name,qt=Ht.split(/\./).pop(),qt?qt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(cn){var on=new FileReader;on.readAsArrayBuffer(gt),on.onload=function(){var Gt=new Uint8Array(on.result);cn(Gt)}}).then(function(cn){Ot(gt.name,cn)})},[Ot]),oi=B.useCallback(function(gt){var Ht=gt===A.RotateDirection.Backward?-90:90,qt=vt.current.rotation,cn=qt===360||qt===-360?Ht:qt+Ht;An.markNotRendered(),En(cn),Gn(te(te({},vt.current),{rotation:cn})),Zt({direction:gt,doc:Re,rotation:cn})},[]),$r=B.useCallback(function(gt,Ht){var qt=Ht===A.RotateDirection.Backward?-90:90,cn=vt.current.pagesRotation,on=(cn.has(gt)?cn.get(gt):Ne)+qt,Gt=cn.set(gt,on);rr(Gt),Tn(function(wn){return!wn}),Gn(te(te({},vt.current),{pagesRotation:Gt,rotatedPage:gt})),xt({direction:Ht,doc:Re,pageIndex:gt,rotation:on}),An.markRendering(gt),yn(gt)},[]),si=B.useCallback(function(gt){Gn(te(te({},vt.current),{scrollMode:gt})),dr(gt)},[]),ci=B.useCallback(function(gt){Gn(te(te({},vt.current),{viewMode:gt})),Mt(gt)},[]),hr=B.useCallback(function(gt){var Ht=nn.current,qt=vt.current.pageIndex;if(!(qt<0||qt>=At)){var cn=xe[qt].pageHeight,on=xe[qt].pageWidth,Gt=Ht?typeof gt=="string"?wr(Ht,cn,on,gt,vt.current.viewMode,At):gt:1;Nt.current=typeof gt=="string"?gt:null,Gt!==vt.current.scale&&(jn(function(wn){return wn+1}),An.markNotRendered(),Bt(Gt),Tt({doc:Re,scale:Gt}),Gn(te(te({},vt.current),{scale:Gt})))}},[]);B.useEffect(function(){var gt={getPagesContainer:na,getViewerState:ra,jumpToDestination:ii,jumpToNextPage:ia,jumpToPreviousPage:aa,jumpToPage:Xn,openFile:ai,rotate:oi,rotatePage:$r,setViewerState:Gn,switchScrollMode:si,switchViewMode:ci,zoom:hr};return qe.forEach(function(Ht){Ht.install&&Ht.install(gt)}),function(){qe.forEach(function(Ht){Ht.uninstall&&Ht.uninstall(gt)})}},[It]),B.useEffect(function(){ut({doc:Re,file:de}),qe.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad({doc:Re,file:de})})},[It]),Y(function(){var gt=un.boundingClientRect;gt.height>0&&gt.width>0&&Oe&&Xn(Oe)},[It,un.boundingClientRect]),Y(function(){var gt=vt.current.pageIndex;gt>-1&&ir!==Fn&&un.scrollToItem(gt,nr)},[Fn]),Y(function(){var gt=vt.current.pageIndex;gt>-1&&sn!==rn&&un.scrollToItem(gt,nr)},[rn]),Y(function(){Wt!=0&&Wt!=vt.current.scale&&un.zoom(vt.current.scale/Wt,vt.current.pageIndex)},[Lt]),Y(function(){if(Rt!==vt.current.viewMode){var gt=un.startRange,Ht=un.endRange,qt=un.virtualItems;An.markNotRendered(),An.setRange(gt,Ht);for(var cn=function(Gt){var wn=qt.find(function(Bn){return Bn.index===Gt});wn&&An.setVisibility(Gt,wn.visibility)},on=gt;on<=Ht;on++)cn(on);xr()}},[Pt]),Y(function(){var gt=vt.current.pageIndex;gt>-1&&Rt!==Pt&&un.scrollToItem(gt,nr)},[Pt]),B.useEffect(function(){un.isSmoothScrolling||Cn.current!==null&&Cn.current===pn||(Cn.current=pn,_t({currentPage:pn,doc:Re}))},[pn,un.isSmoothScrolling]),B.useEffect(function(){var gt=un.startRange,Ht=un.endRange,qt=un.maxVisbilityIndex,cn=un.virtualItems,on=qt;Sn(on),Gn(te(te({},vt.current),{pageIndex:on})),An.setRange(gt,Ht);for(var Gt=function(Bn){var Kn=cn.find(function(vr){return vr.index===Bn});Kn&&An.setVisibility(Bn,Kn.visibility)},wn=gt;wn<=Ht;wn++)Gt(wn);xr()},[un.startRange,un.endRange,un.maxVisbilityIndex,In,rn,Lt]);var oa=B.useCallback(function(gt){An.markRendered(gt),xr()},[zn]),xr=function(){var gt=An.getHighestPriorityPage();gt>-1&&An.isInRange(gt)&&(An.markRendering(gt),yn(gt))},sa=function(gt){var Ht=pn-1,qt=pn+1;switch(gt){case"FirstPage":Xn(0);break;case"LastPage":Xn(At-1);break;case"NextPage":qt<At&&Xn(qt);break;case"PrevPage":Ht>=0&&Xn(Ht)}},ca=B.useCallback(function(){var gt=un.virtualItems,Ht=[];switch(Pt){case A.ViewMode.DualPage:Ht=oe(gt,2);break;case A.ViewMode.DualPageWithCover:gt.length&&(Ht=gt[0].index===0?[[gt[0]]].concat(oe(gt.slice(1),2)):oe(gt,2));break;case A.ViewMode.SinglePage:default:Ht=oe(gt,1)}var qt=Qt&&Qt.core?Qt.core.pageLabel:"Page {{pageIndex}}",cn={attrs:{"data-testid":"core__inner-container",ref:_n,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:K({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":Fn===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":bn,"rpv-core__inner-pages--single":Fn===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":Fn===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":Fn===A.ScrollMode.Wrapped}),ref:nn,style:{height:"100%",position:"relative"}},children:B.createElement("div",{style:Object.assign({"--scale-factor":Lt},un.getContainerStyles())},Ht.map(function(on){return B.createElement("div",{className:K({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":Fn===A.ScrollMode.Page}),style:un.getItemContainerStyles(on[0]),key:"".concat(on[0].index,"-").concat(Pt)},on.map(function(Gt){var wn=Pt===A.ViewMode.DualPageWithCover&&(Gt.index===0||At%2==0&&Gt.index===At-1);return B.createElement("div",{"aria-label":qt.replace("{{pageIndex}}","".concat(Gt.index+1)),className:K({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":Pt===A.ViewMode.DualPage&&Gt.index%2==0,"rpv-core__inner-page--dual-odd":Pt===A.ViewMode.DualPage&&Gt.index%2==1,"rpv-core__inner-page--dual-cover":wn,"rpv-core__inner-page--dual-cover-even":Pt===A.ViewMode.DualPageWithCover&&!wn&&Gt.index%2==0,"rpv-core__inner-page--dual-cover-odd":Pt===A.ViewMode.DualPageWithCover&&!wn&&Gt.index%2==1,"rpv-core__inner-page--single":Pt===A.ViewMode.SinglePage&&Fn===A.ScrollMode.Page}),role:"region",key:"".concat(Gt.index,"-").concat(Pt),style:Object.assign({},un.getItemStyles(Gt),ri.buildPageStyles({numPages:At,pageIndex:Gt.index,scrollMode:Fn,viewMode:Pt}))},B.createElement(Ii,{doc:Re,measureRef:Gt.measureRef,outlines:Dt,pageIndex:Gt.index,pageRotation:Dn.has(Gt.index)?Dn.get(Gt.index):0,pageSize:xe[Gt.index],plugins:qe,renderPage:Ye,renderQueueKey:zn,rotation:rn,scale:Lt,shouldRender:an===Gt.index,viewMode:Pt,onExecuteNamedAction:sa,onJumpToDest:ii,onRenderCompleted:oa,onRotatePage:$r}))}))}))}};return qe.forEach(function(on){on.renderViewer&&(cn=on.renderViewer({containerRef:_n,doc:Re,pagesContainerRef:nn,pagesRotation:Dn,pageSizes:xe,rotation:rn,slot:cn,themeContext:Kt,jumpToPage:Xn,openFile:ai,rotate:oi,rotatePage:$r,switchScrollMode:si,switchViewMode:ci,zoom:hr}))}),cn},[qe,un]),li=B.useCallback(function(gt){return B.createElement("div",te({},gt.attrs,{style:gt.attrs&&gt.attrs.style?gt.attrs.style:{}}),gt.children,gt.subSlot&&li(gt.subSlot))},[]);return li(ca())},ei=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Xi=function(ee){var de=ee.defaultScale,Ce=ee.doc,Re=ee.render,Oe=ee.scrollMode,Ne=ee.viewMode,We=B.useRef(),je=B.useState({pageSizes:[],scale:0}),xe=je[0],qe=je[1];return B.useLayoutEffect(function(){var Ye=Array(Ce.numPages).fill(0).map(function(dt,ot){return new Promise(function(mt,ut){Qe(Ce,ot).then(function(Ot){var _t=Ot.getViewport({scale:1});mt({pageHeight:_t.height,pageWidth:_t.width,rotation:_t.rotation})})})});Promise.all(Ye).then(function(dt){var ot=We.current;if(ot&&dt.length!==0){var mt=dt[0].pageWidth,ut=dt[0].pageHeight,Ot=ot.parentElement,_t=(Ot.clientWidth-45)/mt,Zt=(Ot.clientHeight-45)/ut,xt=_t;switch(Oe){case A.ScrollMode.Horizontal:xt=Math.min(_t,Zt);break;case A.ScrollMode.Vertical:default:xt=_t}var Tt,At,It=de?typeof de=="string"?wr(Ot,ut,mt,de,Ne,Ce.numPages):de:(Tt=xt,(At=ei.findIndex(function(Qt){return Qt>=Tt}))===-1||At===0?Tt:ei[At-1]);qe({pageSizes:dt,scale:It})}})},[Ce.loadingTask.docId]),xe.pageSizes.length===0||xe.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:We},B.createElement(Q,null)):Re(xe.pageSizes,xe.scale)},gr=function(){},Pr=function(ee){function de(Ce,Re){var Oe=ee.call(this)||this;return Oe.verifyPassword=Ce,Oe.passwordStatus=Re,Oe}return he(de,ee),de}(gr),Ki=function(ee){var de=ee.passwordStatus,Ce=ee.renderProtectedView,Re=ee.verifyPassword,Oe=ee.onDocumentAskPassword,Ne=B.useContext(ce).l10n,We=B.useState(""),je=We[0],xe=We[1],qe=B.useContext(J).direction===A.TextDirection.RightToLeft,Ye=function(){return Re(je)};return B.useEffect(function(){Oe&&Oe({verifyPassword:Re})},[]),Ce?Ce({passwordStatus:de,verifyPassword:Re}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:K({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":qe})},B.createElement("div",{className:"rpv-core__asking-password-message"},de===A.PasswordStatus.RequiredPassword&&Ne.core.askingPassword.requirePasswordToOpen,de===A.PasswordStatus.WrongPassword&&Ne.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:K({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!qe,"rpv-core__asking-password-input--rtl":qe})},B.createElement(Z,{testId:"core__asking-password-input",type:"password",value:je,onChange:xe,onKeyDown:function(dt){dt.key==="Enter"&&Ye()}})),B.createElement(q,{onClick:Ye},Ne.core.askingPassword.submit))))},ti=function(ee){function de(Ce){var Re=ee.call(this)||this;return Re.doc=Ce,Re}return he(de,ee),de}(gr),ni=function(ee){function de(Ce){var Re=ee.call(this)||this;return Re.error=Ce,Re}return he(de,ee),de}(gr),kr=function(ee){function de(Ce){var Re=ee.call(this)||this;return Re.percentages=Ce,Re}return he(de,ee),de}(gr),Yi=function(ee){var de=ee.characterMap,Ce=ee.file,Re=ee.httpHeaders,Oe=ee.render,Ne=ee.renderError,We=ee.renderLoader,je=ee.renderProtectedView,xe=ee.transformGetDocumentParams,qe=ee.withCredentials,Ye=ee.onDocumentAskPassword,dt=B.useContext(J).direction===A.TextDirection.RightToLeft,ot=B.useState(new kr(0)),mt=ot[0],ut=ot[1],Ot=B.useRef(""),_t=W();return B.useEffect(function(){Ot.current="",ut(new kr(0));var Zt=new ie.PDFWorker({name:"PDFWorker_".concat(Date.now())}),xt=Object.assign({httpHeaders:Re,withCredentials:qe,worker:Zt},typeof Ce=="string"?{url:Ce}:{data:Ce},de?{cMapUrl:de.url,cMapPacked:de.isCompressed}:{}),Tt=xe?xe(xt):xt,At=ie.getDocument(Tt);return At.onPassword=function(It,Qt){switch(Qt){case ie.PasswordResponses.NEED_PASSWORD:_t.current&&ut(new Pr(It,A.PasswordStatus.RequiredPassword));break;case ie.PasswordResponses.INCORRECT_PASSWORD:_t.current&&ut(new Pr(It,A.PasswordStatus.WrongPassword))}},At.onProgress=function(It){var Qt=It.total>0?Math.min(100,100*It.loaded/It.total):100;_t.current&&Ot.current===""&&ut(new kr(Qt))},At.promise.then(function(It){Ot.current=It.loadingTask.docId,_t.current&&ut(new ti(It))},function(It){return _t.current&&!Zt.destroyed&&ut(new ni({message:It.message||"Cannot load document",name:It.name}))}),function(){At.destroy(),Zt.destroy()}},[Ce]),mt instanceof Pr?B.createElement(Ki,{passwordStatus:mt.passwordStatus,renderProtectedView:je,verifyPassword:mt.verifyPassword,onDocumentAskPassword:Ye}):mt instanceof ti?Oe(mt.doc):mt instanceof ni?Ne?Ne(mt.error):B.createElement("div",{className:K({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":dt})},B.createElement("div",{className:"rpv-core__doc-error-text"},mt.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:K({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":dt})},We?We(mt.percentages):B.createElement(Q,null))},Zi=function(ee,de){var Ce=B.useMemo(function(){return ee==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":ee},[]),Re=B.useState(Ce),Oe=Re[0],Ne=Re[1],We=X(Oe);return B.useEffect(function(){if(ee==="auto"){var je=window.matchMedia("(prefers-color-scheme: dark)"),xe=function(qe){Ne(qe.matches?"dark":"light")};return je.addEventListener("change",xe),function(){return je.removeEventListener("change",xe)}}},[]),B.useEffect(function(){Oe!==We&&de&&de(Oe)},[Oe]),B.useEffect(function(){ee!==Oe&&Ne(ee)},[ee]),{currentTheme:Oe,setCurrentTheme:Ne}};A.Button=function(ee){var de=ee.children,Ce=ee.testId,Re=ee.onClick,Oe=B.useContext(J).direction===A.TextDirection.RightToLeft,Ne=Ce?{"data-testid":Ce}:{};return B.createElement("button",te({className:K({"rpv-core__button":!0,"rpv-core__button--rtl":Oe}),type:"button",onClick:Re},Ne),de)},A.Icon=U,A.LazyRender=function(ee){var de=ee.attrs,Ce=ee.children,Re=ee.testId,Oe=B.useState(!1),Ne=Oe[0],We=Oe[1],je=Re?te(te({},de),{"data-testid":Re}):de,xe=G({once:!0,onVisibilityChanged:function(qe){qe.isVisible&&We(!0)}});return B.createElement("div",te({ref:xe},je),Ne&&Ce)},A.LocalizationContext=ce,A.Menu=function(ee){var de=ee.children,Ce=B.useRef(),Re=B.useRef([]),Oe=B.useContext(J).direction===A.TextDirection.RightToLeft,Ne=function(je){if(Ce.current)switch(je.key){case"Tab":je.preventDefault();break;case"ArrowDown":je.preventDefault(),We(function(xe,qe){return qe+1});break;case"ArrowUp":je.preventDefault(),We(function(xe,qe){return qe-1});break;case"End":je.preventDefault(),We(function(xe,qe){return xe.length-1});break;case"Home":je.preventDefault(),We(function(xe,qe){return 0})}},We=function(je){if(Ce.current){var xe=Re.current,qe=xe.findIndex(function(dt){return dt.getAttribute("tabindex")==="0"}),Ye=Math.min(xe.length-1,Math.max(0,je(xe,qe)));qe>=0&&qe<=xe.length-1&&xe[qe].setAttribute("tabindex","-1"),xe[Ye].setAttribute("tabindex","0"),xe[Ye].focus()}};return Y(function(){var je=Ce.current;if(je){var xe=function(qe){var Ye=[];return qe.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(dt){if(dt instanceof HTMLElement){var ot=dt.parentElement;(ot===qe||window.getComputedStyle(ot).display!=="none")&&Ye.push(dt)}}),Ye}(je);Re.current=xe}},[]),Y(function(){return document.addEventListener("keydown",Ne),function(){document.removeEventListener("keydown",Ne)}},[]),B.createElement("div",{ref:Ce,"aria-orientation":"vertical",className:K({"rpv-core__menu":!0,"rpv-core__menu--rtl":Oe}),role:"menu",tabIndex:0},de)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(ee){var de=ee.checked,Ce=de!==void 0&&de,Re=ee.children,Oe=ee.icon,Ne=Oe===void 0?null:Oe,We=ee.isDisabled,je=We!==void 0&&We,xe=ee.testId,qe=ee.onClick,Ye=B.useContext(J).direction===A.TextDirection.RightToLeft,dt=xe?{"data-testid":xe}:{};return B.createElement("button",te({className:K({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":je,"rpv-core__menu-item--ltr":!Ye,"rpv-core__menu-item--rtl":Ye}),role:"menuitem",tabIndex:-1,type:"button",onClick:qe},dt),B.createElement("div",{className:K({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Ye,"rpv-core__menu-item-icon--rtl":Ye})},Ne),B.createElement("div",{className:K({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Ye,"rpv-core__menu-item-label--rtl":Ye})},Re),B.createElement("div",{className:K({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Ye,"rpv-core__menu-item-check--rtl":Ye})},Ce&&B.createElement(V,null)))},A.MinimalButton=function(ee){var de=ee.ariaLabel,Ce=de===void 0?"":de,Re=ee.ariaKeyShortcuts,Oe=Re===void 0?"":Re,Ne=ee.children,We=ee.isDisabled,je=We!==void 0&&We,xe=ee.isSelected,qe=xe!==void 0&&xe,Ye=ee.testId,dt=ee.onClick,ot=B.useContext(J).direction===A.TextDirection.RightToLeft,mt=Ye?{"data-testid":Ye}:{};return B.createElement("button",te({"aria-label":Ce},Oe&&{"aria-keyshortcuts":Oe},je&&{"aria-disabled":!0},{className:K({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":je,"rpv-core__minimal-button--rtl":ot,"rpv-core__minimal-button--selected":qe}),type:"button",onClick:dt},mt),Ne)},A.Modal=function(ee){var de=ee.ariaControlsSuffix,Ce=ee.closeOnClickOutside,Re=ee.closeOnEscape,Oe=ee.content,Ne=ee.isOpened,We=Ne!==void 0&&Ne,je=ee.target,xe=de||"".concat(Xe());return B.createElement(Ze,{target:je?function(qe,Ye){return B.createElement("div",{"aria-expanded":Ye?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(xe)},je(qe,Ye))}:null,content:function(qe){return B.createElement(Me,null,B.createElement(Ie,{ariaControlsSuffix:xe,closeOnClickOutside:Ce,closeOnEscape:Re,onToggle:qe},Oe(qe)))},isOpened:We})},A.Popover=function(ee){var de=ee.ariaHasPopup,Ce=de===void 0?"dialog":de,Re=ee.ariaControlsSuffix,Oe=ee.closeOnClickOutside,Ne=ee.closeOnEscape,We=ee.content,je=ee.lockScroll,xe=je===void 0||je,qe=ee.offset,Ye=ee.position,dt=ee.target,ot=et(!1),mt=ot.opened,ut=ot.toggle,Ot=B.useRef(),_t=B.useMemo(function(){return Re||"".concat(Xe())},[]);return B.createElement("div",{ref:Ot,"aria-expanded":mt?"true":"false","aria-haspopup":Ce,"aria-controls":"rpv-core__popver-body-".concat(_t)},dt(ut,mt),mt&&B.createElement(B.Fragment,null,xe&&B.createElement(Je,{closeOnEscape:Ne,onClose:ut}),B.createElement(rt,{ariaControlsSuffix:_t,closeOnClickOutside:Oe,offset:qe,position:Ye,targetRef:Ot,onClose:ut},We(ut))))},A.PrimaryButton=q,A.ProgressBar=function(ee){var de=ee.progress,Ce=B.useContext(J).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:K({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ce})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(de,"%")}},de,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=Q,A.Splitter=function(ee){var de=ee.constrain,Ce=B.useContext(J).direction===A.TextDirection.RightToLeft,Re=B.useRef(),Oe=B.useRef(),Ne=B.useRef(),We=B.useRef(0),je=B.useRef(0),xe=B.useRef(0),qe=B.useRef(0),Ye={capture:!0},dt=function(mt){var ut=Re.current,Ot=Oe.current,_t=Ne.current;if(ut&&Ot&&_t){var Zt=qe.current,xt=mt.clientX-We.current,Tt=xe.current+(Ce?-xt:xt),At=ut.parentElement.getBoundingClientRect().width,It=100*Tt/At;if(ut.classList.add("rpv-core__splitter--resizing"),de){var Qt=At-Tt-Zt;if(!de({firstHalfPercentage:It,firstHalfSize:Tt,secondHalfPercentage:100*Qt/At,secondHalfSize:Qt}))return}Ot.style.width="".concat(It,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),Ot.classList.add("rpv-core__splitter-sibling--resizing"),_t.classList.add("rpv-core__splitter-sibling--resizing")}},ot=function(mt){var ut=Re.current,Ot=Oe.current,_t=Ne.current;ut&&Ot&&_t&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),ut.classList.remove("rpv-core__splitter--resizing"),Ot.classList.remove("rpv-core__splitter-sibling--resizing"),_t.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",dt,Ye),document.removeEventListener("mouseup",ot,Ye))};return B.useEffect(function(){var mt=Re.current;mt&&(qe.current=mt.getBoundingClientRect().width,Oe.current=mt.previousElementSibling,Ne.current=mt.nextElementSibling)},[]),B.createElement("div",{ref:Re,className:"rpv-core__splitter",onMouseDown:function(mt){var ut=Oe.current;ut&&(We.current=mt.clientX,je.current=mt.clientY,xe.current=ut.getBoundingClientRect().width,document.addEventListener("mousemove",dt,Ye),document.addEventListener("mouseup",ot,Ye))}})},A.TextBox=Z,A.ThemeContext=J,A.Tooltip=function(ee){var de=ee.ariaControlsSuffix,Ce=ee.content,Re=ee.offset,Oe=ee.position,Ne=ee.target,We=et(!1),je=We.opened,xe=We.toggle,qe=B.useRef(),Ye=B.useRef(),dt=B.useMemo(function(){return de||"".concat(Xe())},[]);Ge(function(){qe.current&&document.activeElement&&qe.current.contains(document.activeElement)&&mt()});var ot=function(){xe(A.ToggleStatus.Open)},mt=function(){xe(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:qe,"aria-describedby":"rpv-core__tooltip-body-".concat(dt),onBlur:function(ut){ut.relatedTarget instanceof HTMLElement&&ut.currentTarget.parentElement&&ut.currentTarget.parentElement.contains(ut.relatedTarget)?Ye.current&&(Ye.current.style.display="none"):mt()},onFocus:ot,onMouseEnter:ot,onMouseLeave:mt},Ne),je&&B.createElement(tt,{ariaControlsSuffix:dt,contentRef:Ye,offset:Re,position:Oe,targetRef:qe},Ce()))},A.Viewer=function(ee){var de=ee.characterMap,Ce=ee.defaultScale,Re=ee.fileUrl,Oe=ee.httpHeaders,Ne=Oe===void 0?{}:Oe,We=ee.initialPage,je=We===void 0?0:We,xe=ee.pageLayout,qe=ee.initialRotation,Ye=qe===void 0?0:qe,dt=ee.localization,ot=ee.plugins,mt=ot===void 0?[]:ot,ut=ee.renderError,Ot=ee.renderLoader,_t=ee.renderPage,Zt=ee.renderProtectedView,xt=ee.scrollMode,Tt=xt===void 0?A.ScrollMode.Vertical:xt,At=ee.transformGetDocumentParams,It=ee.theme,Qt=It===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:It,Kt=ee.viewMode,bn=Kt===void 0?A.ViewMode.SinglePage:Kt,_n=ee.withCredentials,nn=_n!==void 0&&_n,ln=ee.onDocumentAskPassword,pn=ee.onDocumentLoad,Sn=pn===void 0?function(){}:pn,Cn=ee.onPageChange,Rn=Cn===void 0?function(){}:Cn,rn=ee.onRotate,En=rn===void 0?function(){}:rn,sn=ee.onRotatePage,mn=sn===void 0?function(){}:sn,In=ee.onSwitchTheme,Tn=In===void 0?function(){}:In,kn=ee.onZoom,Dn=kn===void 0?function(){}:kn,rr=B.useState({data:Re,name:typeof Re=="string"?Re:"",shouldLoad:!1}),Nn=rr[0],Fn=rr[1],dr=function(Nt,Vt){Fn({data:Vt,name:Nt,shouldLoad:!0})},ir=B.useState(!1),qn=ir[0],Pt=ir[1],Mt=X(Nn);B.useEffect(function(){var Nt,Vt,an,yn;Nt=Mt.data,yn=typeof(Vt=Re),(an=typeof Nt)=="string"&&yn==="string"&&Nt===Vt||an==="object"&&yn==="object"&&Nt.length===Vt.length&&Nt.every(function(Mn,zn){return Mn===Vt[zn]})||Fn({data:Re,name:typeof Re=="string"?Re:"",shouldLoad:qn})},[Re,qn]);var Rt=G({onVisibilityChanged:function(Nt){Pt(Nt.isVisible),Nt.isVisible&&Fn(function(Vt){return Object.assign({},Vt,{shouldLoad:!0})})}}),Dt=typeof Qt=="string"?{direction:A.TextDirection.LeftToRight,theme:Qt}:Qt,Ft=B.useState(dt||Pe),Lt=Ft[0],Bt=Ft[1],Wt={l10n:Lt,setL10n:Bt},vt=Object.assign({},{direction:Dt.direction},Zi(Dt.theme||"light",Tn));return B.useEffect(function(){dt&&Bt(dt)},[dt]),B.createElement(ce.Provider,{value:Wt},B.createElement(J.Provider,{value:vt},B.createElement("div",{ref:Rt,className:"rpv-core__viewer rpv-core__viewer--".concat(vt.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Nn.shouldLoad&&B.createElement(Yi,{characterMap:de,file:Nn.data,httpHeaders:Ne,render:function(Nt){return B.createElement(Xi,{defaultScale:Ce,doc:Nt,render:function(Vt,an){return B.createElement(Gi,{currentFile:{data:Nn.data,name:Nn.name},defaultScale:Ce,doc:Nt,initialPage:je,initialRotation:Ye,initialScale:an,pageLayout:xe,pageSizes:Vt,plugins:mt,renderPage:_t,scrollMode:Tt,viewMode:bn,viewerState:{file:Nn,pageIndex:-1,pageHeight:Vt[0].pageHeight,pageWidth:Vt[0].pageWidth,pagesRotation:new Map,rotation:Ye,scale:an,scrollMode:Tt,viewMode:bn},onDocumentLoad:Sn,onOpenFile:dr,onPageChange:Rn,onRotate:En,onRotatePage:mn,onZoom:Dn})},scrollMode:Tt,viewMode:bn})},renderError:ut,renderLoader:Ot,renderProtectedView:Zt,transformGetDocumentParams:At,withCredentials:nn,onDocumentAskPassword:ln}))))},A.Worker=function(ee){var de=ee.children,Ce=ee.workerUrl;return ie.GlobalWorkerOptions.workerSrc=Ce,B.createElement(B.Fragment,null,de)},A.chunk=oe,A.classNames=K,A.createStore=function(ee){var de=ee||{},Ce={},Re=function(Ne,We){var je;de=te(te({},de),((je={})[Ne]=We,je)),(Ce[Ne]||[]).forEach(function(xe){return xe(de[Ne])})},Oe=function(Ne){return de[Ne]};return{subscribe:function(Ne,We){Ce[Ne]=(Ce[Ne]||[]).concat(We)},unsubscribe:function(Ne,We){Ce[Ne]=(Ce[Ne]||[]).filter(function(je){return je!==We})},update:function(Ne,We){Re(Ne,We)},updateCurrentValue:function(Ne,We){var je=Oe(Ne);je!==void 0&&Re(Ne,We(je))},get:function(Ne){return Oe(Ne)}}},A.getDestination=st,A.getPage=Qe,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useIntersectionObserver=G,A.useIsMounted=W,A.useIsomorphicLayoutEffect=Y,A.usePrevious=X,A.useRenderQueue=_e})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=core_min})(lib$h);var libExports$g={},lib$g={get exports(){return libExports$g},set exports(A){libExports$g=A}},defaultLayout_min={},libExports$f={},lib$f={get exports(){return libExports$f},set exports(A){libExports$f=A}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),O=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),ie=O&&O.attachment?O.attachment.clickToDownload:"Click to download",se=function(he){var re=H.current,te=[].slice.call(re.getElementsByClassName("rpv-attachment__item"));if(te.length!==0){te.forEach(function(K){return K.setAttribute("tabindex","-1")});var pe=document.activeElement,J=te[Math.min(te.length-1,Math.max(0,he(te,pe)))];J.setAttribute("tabindex","0"),J.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var he=H.current;if(he){var re=[].slice.call(he.getElementsByClassName("rpv-attachment__item"));if(B.current=re,re.length>0){var te=re[0];te.focus(),te.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":R}),ref:H,tabIndex:-1,onKeyDown:function(he){switch(he.key){case"ArrowDown":he.preventDefault(),se(function(re,te){return re.indexOf(te)+1});break;case"ArrowUp":he.preventDefault(),se(function(re,te){return re.indexOf(te)-1});break;case"End":he.preventDefault(),se(function(re,te){return re.length-1});break;case"Home":he.preventDefault(),se(function(re,te){return 0})}}},$.map(function(he){return n$e.createElement("button",{className:"rpv-attachment__item",key:he.fileName,tabIndex:-1,title:ie,type:"button",onClick:function(){return re=he.fileName,te=he.data,pe=typeof te=="string"?"":URL.createObjectURL(new Blob([te],{type:""})),(J=document.createElement("a")).style.display="none",J.href=pe||re,J.setAttribute("download",function(K){var Y=K.split("/").pop();return Y?Y.split("#")[0].split("?")[0]:K}(re)),document.body.appendChild(J),J.click(),document.body.removeChild(J),void(pe&&URL.revokeObjectURL(pe));var re,te,pe,J}},he.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,R=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),ie=B[0],se=B[1];return n$e.useEffect(function(){$.getAttachments().then(function(he){var re=he?Object.keys(he).map(function(te){return{data:he[te].content,fileName:he[te].filename}}):[];se({files:re,isLoaded:!0})})},[$]),ie.isLoaded?ie.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":O})},R):n$e.createElement(a$e,{files:ie.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),O=H[0],R=H[1],B=function(ie){R(ie)};return n$e.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),O?n$e.createElement(r$e,{doc:O}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=attachment_min})(lib$f);var libExports$e={},lib$e={get exports(){return libExports$e},set exports(A){libExports$e=A}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$d,r$d=t$d(reactExports),n$d=function(){return r$d.createElement(e$d.Icon,{size:16},r$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},a$d=function(){return r$d.createElement(e$d.Icon,{size:16},r$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},i$d=function(A){var $=A.bookmark,H=A.depth,O=A.doc,R=A.index,B=A.isBookmarkExpanded,ie=A.numberOfSiblings,se=A.pathFromRoot,he=A.renderBookmarkItem,re=A.store,te=A.onJumpToDest,pe=se?"".concat(se,".").concat(R):"".concat(R),J=r$d.useMemo(function(){return function(_e){var Pe=_e.count,ce=_e.items;if(Pe>=0)return!1;var $e=ce.length;if($e===0)return!1;for(var Xe=ce.concat([]);Xe.length>0;){var De=Xe.shift(),Ge=De.items;De.count&&Ge&&De.count>0&&Ge.length>0&&($e+=Ge.length,Xe=Xe.concat(Ge))}return Math.abs(Pe)===$e}($)},[$]),K=re.get("bookmarkExpandedMap"),Y=B?B({bookmark:$,doc:O,depth:H,index:R}):K.has(pe)?K.get(pe):!J,G=r$d.useState(Y),U=G[0],V=G[1],q=$.items&&$.items.length>0,Q=function(){var _e=!U;re.updateCurrentValue("bookmarkExpandedMap",function(Pe){return Pe.set(pe,_e)}),V(_e)},Z=function(){q&&$.dest&&te($.dest)},W=function(){!q&&$.dest&&te($.dest)},X=function(_e,Pe){return r$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:_e},Pe)},ue=function(_e,Pe){return q?r$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(R),onClick:Q},U?_e:Pe):r$d.createElement("span",{className:"rpv-bookmark__toggle"})},be=function(_e){return $.url?r$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):r$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:_e},$.title)};return r$d.createElement("li",{"aria-expanded":U?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":R+1,"aria-setsize":ie,role:"treeitem",tabIndex:-1},he?he({bookmark:$,depth:H,hasSubItems:q,index:R,isExpanded:U,path:pe,defaultRenderItem:X,defaultRenderTitle:be,defaultRenderToggle:ue,onClickItem:W,onClickTitle:Z,onToggleSubItems:Q}):X(W,r$d.createElement(r$d.Fragment,null,ue(r$d.createElement(n$d,null),r$d.createElement(a$d,null)),be(Z))),q&&U&&r$d.createElement(c$d,{bookmarks:$.items,depth:H+1,doc:O,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:pe,renderBookmarkItem:he,store:re,onJumpToDest:te}))},c$d=function(A){var $=A.bookmarks,H=A.depth,O=H===void 0?0:H,R=A.doc,B=A.isBookmarkExpanded,ie=A.isRoot,se=A.pathFromRoot,he=A.renderBookmarkItem,re=A.store,te=A.onJumpToDest;return r$d.createElement("ul",{className:"rpv-bookmark__list",role:ie?"tree":"group",tabIndex:-1},$.map(function(pe,J){return r$d.createElement(i$d,{bookmark:pe,depth:O,doc:R,index:J,isBookmarkExpanded:B,key:J,numberOfSiblings:$.length,pathFromRoot:se,renderBookmarkItem:he,store:re,onJumpToDest:te})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(o$d||(o$d={}));var m$9=function(A){var $=A.bookmarks,H=A.doc,O=A.isBookmarkExpanded,R=A.renderBookmarkItem,B=A.store,ie=A.onJumpToDest,se=r$d.useRef(),he=function(J){var K=se.current;if(K&&J.target instanceof HTMLElement&&K.contains(J.target))switch(J.key){case"ArrowDown":J.preventDefault(),te(function(Y,G){return Y.indexOf(G)+1});break;case"ArrowLeft":J.preventDefault(),pe(o$d.Collapse);break;case"ArrowRight":J.preventDefault(),pe(o$d.Expand);break;case"ArrowUp":J.preventDefault,te(function(Y,G){return Y.indexOf(G)-1});break;case"End":J.preventDefault(),te(function(Y,G){return Y.length-1});break;case" ":case"Enter":case"Space":J.preventDefault(),re();break;case"Home":J.preventDefault(),te(function(Y,G){return 0})}},re=function(){var J=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");J&&J.click()},te=function(J){var K=se.current,Y=[].slice.call(K.getElementsByClassName("rpv-bookmark__item"));if(Y.length!==0){var G=document.activeElement,U=Y[Math.min(Y.length-1,Math.max(0,J(Y,G)))];G.setAttribute("tabindex","-1"),U.setAttribute("tabindex","0"),U.focus()}},pe=function(J){var K=se.current;if([].slice.call(K.getElementsByClassName("rpv-bookmark__item")).length!==0){var Y=document.activeElement.closest(".rpv-bookmark__item"),G=J===o$d.Collapse?"true":"false";if(Y&&Y.parentElement.getAttribute("aria-expanded")===G){var U=Y.querySelector(".rpv-bookmark__toggle");U&&U.click()}}};return r$d.useEffect(function(){return document.addEventListener("keydown",he),function(){document.removeEventListener("keydown",he)}},[]),r$d.useEffect(function(){var J=se.current;if(J){var K=[].slice.call(J.getElementsByClassName("rpv-bookmark__item"));K.length>0&&(K[0].focus(),K[0].setAttribute("tabindex","0"))}},[]),r$d.createElement("div",{ref:se},r$d.createElement(c$d,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:O,isRoot:!0,pathFromRoot:"",renderBookmarkItem:R,store:B,onJumpToDest:function(J){e$d.getDestination(H,J).then(function(K){var Y=K.pageIndex,G=K.bottomOffset,U=K.leftOffset,V=K.scaleTo;ie(Y,G,U,V)})}}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,O=A.renderBookmarkItem,R=A.store,B=A.onJumpToDest,ie=r$d.useContext(e$d.LocalizationContext).l10n,se=r$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,he=r$d.useState({isLoaded:!1,items:[]}),re=he[0],te=he[1];return r$d.useEffect(function(){te({isLoaded:!1,items:[]}),$.getOutline().then(function(pe){te({isLoaded:!0,items:pe||[]})})},[$]),re.isLoaded?re.items.length===0?r$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":se})},ie&&ie.bookmark?ie.bookmark.noBookmark:"There is no bookmark"):r$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":se})},r$d.createElement(m$9,{bookmarks:re.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:O,store:R,onJumpToDest:B})):r$d.createElement("div",{className:"rpv-bookmark__loader"},r$d.createElement(e$d.Spinner,null))},l$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,O=A.store,R=r$d.useState(O.get("doc")),B=R[0],ie=R[1],se=function(he){ie(he)};return r$d.useEffect(function(){return O.subscribe("doc",se),function(){O.unsubscribe("doc",se)}},[]),B?r$d.createElement(s$9,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:O,onJumpToDest:function(he,re,te,pe){var J=O.get("jumpToDestination");J&&J(he,re,te,pe)}}):r$d.createElement("div",{className:"rpv-bookmark__loader"},r$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=n$d,bookmark_min.RightArrowIcon=a$d,bookmark_min.bookmarkPlugin=function(){var A=r$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return r$d.createElement(l$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=bookmark_min})(lib$e);var libExports$d={},lib$d={get exports(){return libExports$d},set exports(A){libExports$d=A}},thumbnail_min={};(function(A){var $=libExports$h;function H(G){var U=Object.create(null);return G&&Object.keys(G).forEach(function(V){if(V!=="default"){var q=Object.getOwnPropertyDescriptor(G,V);Object.defineProperty(U,V,q.get?q:{enumerable:!0,get:function(){return G[V]}})}}),U.default=G,Object.freeze(U)}var O,R=H(reactExports);A.ThumbnailDirection=void 0,(O=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",O.Vertical="Vertical";var B=function(){return B=Object.assign||function(G){for(var U,V=1,q=arguments.length;V<q;V++)for(var Q in U=arguments[V])Object.prototype.hasOwnProperty.call(U,Q)&&(G[Q]=U[Q]);return G},B.apply(this,arguments)},ie=function(G){var U=G.doc,V=G.getPageIndex,q=G.renderSpinner,Q=G.store,Z=U.numPages,W=V?V({numPages:Z}):0,X=Math.max(0,Math.min(W,Z-1)),ue=Q.get("pagesRotation")||new Map,be=ue.has(X)?ue.get(X):0,_e=R.useState(""),Pe=_e[0],ce=_e[1],$e=$.useIsMounted(),Xe=R.useRef(),De=R.useState(Q.get("rotation")||0),Ge=De[0],Ie=De[1],Me=R.useState(be),Te=Me[0],et=Me[1],Ze=R.useState(!1),ye=Ze[0],ae=Ze[1],ne=function(Ee){var ke=Ee.has(X)?Ee.get(X):0;et(ke)},fe=function(Ee){Ie(Ee)},Se=$.useIntersectionObserver({onVisibilityChanged:function(Ee){ae(Ee.isVisible)}});return R.useEffect(function(){if(ye){var Ee=Se.current;Ee&&(ce(""),$.getPage(U,X).then(function(ke){var Fe=ke.getViewport({scale:1}),He=(Fe.rotation+Ge+Te)%360,rt=Math.abs(Ge+Te)%180==0,Je=rt?Fe.width:Fe.height,tt=rt?Fe.height:Fe.width,ze=document.createElement("canvas"),oe=ze.getContext("2d",{alpha:!1}),le=Ee.clientWidth,ve=Ee.clientHeight,Ae=Math.min(le/Je,ve/tt),ge=Ae*Je,we=Ae*tt;ze.height=we,ze.width=ge,ze.style.opacity="0";var Qe=ke.getViewport({rotation:He,scale:Ae});Xe.current=ke.render({canvasContext:oe,viewport:Qe}),Xe.current.promise.then(function(){$e.current&&ce(ze.toDataURL()),ze.width=0,ze.height=0},function(){})}))}},[Te,ye]),R.useEffect(function(){return Q.subscribe("pagesRotation",ne),Q.subscribe("rotation",fe),function(){Q.unsubscribe("pagesRotation",ne),Q.unsubscribe("rotation",fe)}},[]),R.useEffect(function(){return function(){var Ee;(Ee=Xe.current)===null||Ee===void 0||Ee.cancel()}},[]),R.createElement("div",{ref:Se,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},Pe?R.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:Pe}):R.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},q?q():R.createElement($.Spinner,null)))},se=function(G){var U=G.getPageIndex,V=G.renderSpinner,q=G.store,Q=R.useState(q.get("doc")),Z=Q[0],W=Q[1],X=function(ue){W(ue)};return R.useEffect(function(){return q.subscribe("doc",X),function(){q.unsubscribe("doc",X)}},[]),R.createElement("div",{className:"rpv-thumbnail__cover"},Z?R.createElement(ie,{doc:Z,getPageIndex:U,renderSpinner:V,store:q}):R.createElement("div",{className:"rpv-thumbnail__cover-loader"},V?V():R.createElement($.Spinner,null)))},he=function(){return R.createElement($.Spinner,null)},re=R.createContext({renderSpinner:he}),te=function(G){var U=G.children,V=G.doc,q=$.useIsMounted(),Q=R.useState({loading:!0,labels:[]}),Z=Q[0],W=Q[1];return R.useEffect(function(){V.getPageLabels().then(function(X){q.current&&W({loading:!1,labels:X||[]})})},[V.loadingTask.docId]),Z.loading?R.createElement(R.Fragment,null):U(Z.labels)},pe=function(G){var U=G.page,V=G.pageHeight,q=G.pageIndex,Q=G.pageWidth,Z=G.rotation,W=G.thumbnailHeight,X=G.thumbnailWidth,ue=G.onRenderCompleted,be=R.useContext($.LocalizationContext).l10n,_e=R.useRef(),Pe=R.useState(""),ce=Pe[0],$e=Pe[1],Xe=be&&be.thumbnail?be.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return R.useEffect(function(){var De=_e.current;De&&De.cancel();var Ge=document.createElement("canvas"),Ie=Ge.getContext("2d",{alpha:!1}),Me=X,Te=Me/(Q/V),et=Me/Q;Ge.height=Te,Ge.width=Me,Ge.style.height="".concat(Te,"px"),Ge.style.width="".concat(Me,"px");var Ze=U.getViewport({rotation:Z,scale:et});return _e.current=U.render({canvasContext:Ie,viewport:Ze}),_e.current.promise.then(function(){$e(Ge.toDataURL()),ue(q)},function(){ue(q)}),function(){var ye;(ye=_e.current)===null||ye===void 0||ye.cancel()}},[Z]),ce?R.createElement("img",{"aria-label":Xe.replace("{{pageIndex}}","".concat(q+1)),src:ce,height:"".concat(W,"px"),width:"".concat(X,"px")}):R.useContext(re).renderSpinner()},J=function(G){var U=G.doc,V=G.pageHeight,q=G.pageIndex,Q=G.pageRotation,Z=G.pageWidth,W=G.rotation,X=G.shouldRender,ue=G.thumbnailWidth,be=G.onRenderCompleted,_e=G.onVisibilityChanged,Pe=$.useIsMounted(),ce=R.useState({height:V,page:null,viewportRotation:0,width:Z}),$e=ce[0],Xe=ce[1],De=$e.page,Ge=$e.height,Ie=$e.width,Me=Ie/Ge,Te=Math.abs(W+Q)%180==0,et=Te?ue:ue/Me,Ze=Te?ue/Me:ue;R.useEffect(function(){X&&$.getPage(U,q).then(function(ne){var fe=ne.getViewport({scale:1});Pe.current&&Xe({height:fe.height,page:ne,viewportRotation:fe.rotation,width:fe.width})})},[X]);var ye=($e.viewportRotation+W+Q)%360,ae=$.useIntersectionObserver({onVisibilityChanged:function(ne){_e(q,ne)}});return R.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(q),ref:ae,style:{height:"".concat(Ze,"px"),width:"".concat(et,"px")}},De?R.createElement(pe,{page:De,pageHeight:Te?Ge:Ie,pageIndex:q,pageWidth:Te?Ie:Ge,rotation:ye,thumbnailHeight:Ze,thumbnailWidth:et,onRenderCompleted:be}):R.useContext(re).renderSpinner())},K=function(G){var U=G.currentPage,V=G.doc,q=G.labels,Q=G.pagesRotation,Z=G.pageHeight,W=G.pageWidth,X=G.renderCurrentPageLabel,ue=G.renderThumbnailItem,be=G.rotatedPage,_e=G.rotation,Pe=G.thumbnailDirection,ce=G.thumbnailWidth,$e=G.viewMode,Xe=G.onJumpToPage,De=G.onRotatePage,Ge=V.numPages,Ie=V.loadingTask.docId,Me=R.useRef(null),Te=R.useRef([]),et=R.useState(U),Ze=et[0],ye=et[1],ae=R.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,ne=R.useState(-1),fe=ne[0],Se=ne[1],Ee=$.useIsMounted(),ke=$.usePrevious($e),Fe=R.useRef(!1),He=$.useRenderQueue({doc:V}),rt=R.useMemo(function(){return Array(Ge).fill(0).map(function(ge,we){return we})},[Ie]),Je=R.useMemo(function(){switch($e){case $.ViewMode.DualPage:return $.chunk(rt,2);case $.ViewMode.DualPageWithCover:return[[rt[0]]].concat($.chunk(rt.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(rt,1)}},[Ie,$e]),tt=function(){if(Me.current){var ge=Te.current,we=Ze+1;we<ge.length&&(Ze>=0&&ge[Ze].setAttribute("tabindex","-1"),ye(we))}},ze=function(){if(Me.current){var ge=Te.current,we=Ze-1;we>=0&&(Ze>=0&&ge[Ze].setAttribute("tabindex","-1"),ye(we))}},oe=function(){Ze>=0&&Ze<Ge&&Xe(Ze)};$.useIsomorphicLayoutEffect(function(){var ge=Me.current;ge&&(Te.current=Array.from(ge.querySelectorAll(".rpv-thumbnail__item")))},[$e]),R.useEffect(function(){var ge=Te.current;if(!(ge.length===0||Ze<0||Ze>ge.length)){var we=ge[Ze];we.setAttribute("tabindex","0"),we.focus()}},[Ze]),$.useIsomorphicLayoutEffect(function(){var ge=Me.current,we=Te.current;if(!(!ge||we.length===0||U<0||U>we.length)){var Qe=we[U].closest(".rpv-thumbnail__items");Qe&&(Pe===A.ThumbnailDirection.Vertical?function(st,it){var Ue=st.getBoundingClientRect().top-it.getBoundingClientRect().top,ht=st.clientHeight,lt=it.clientHeight;Ue<0?it.scrollTop+=Ue:Ue+ht<=lt||(it.scrollTop+=Ue+ht-lt)}(Qe,ge):function(st,it){var Ue=st.getBoundingClientRect().left-it.getBoundingClientRect().left,ht=st.clientWidth,lt=it.clientWidth;Ue<0?it.scrollLeft+=Ue:Ue+ht<=lt||(it.scrollLeft+=Ue+ht-lt)}(Qe,ge))}},[U,Pe]);var le=R.useCallback(function(ge){Ee.current&&(He.markRendered(ge),Fe.current=!1,Ae())},[Ie]),ve=R.useCallback(function(ge,we){we.isVisible?He.setVisibility(ge,we.ratio):He.setOutOfRange(ge),Ae()},[Ie]),Ae=R.useCallback(function(){if(!Fe.current){var ge=He.getHighestPriorityPage();ge>-1&&(He.markRendering(ge),Fe.current=!0,Se(ge))}},[Ie]);return R.useEffect(function(){be>=0&&(He.markRendering(be),Fe.current=!0,Se(be))},[Ie,be]),$.useIsomorphicLayoutEffect(function(){ke!==$e&&(He.markNotRendered(),Ae())},[$e]),R.createElement("div",{ref:Me,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":Pe===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":ae,"rpv-thumbnail__list--vertical":Pe===A.ThumbnailDirection.Vertical}),onKeyDown:function(ge){switch(ge.key){case"ArrowDown":tt();break;case"ArrowUp":ze();break;case"Enter":oe()}}},Je.map(function(ge,we){var Qe=!1;switch($e){case $.ViewMode.DualPage:Qe=U===2*we||U===2*we+1;break;case $.ViewMode.DualPageWithCover:Qe=U===0&&we===0||we>0&&U===2*we-1||we>0&&U===2*we;break;case $.ViewMode.SinglePage:default:Qe=U===we}return R.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":$e===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":$e===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":$e===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Qe}),key:"".concat(we,"___").concat($e)},ge.map(function(st){return function(it){var Ue=$e===$.ViewMode.DualPageWithCover&&(it===0||Ge%2==0&&it===Ge-1),ht="".concat(V.loadingTask.docId,"___").concat(it),lt=q.length===Ge?q[it]:"".concat(it+1),pt=X?X({currentPage:U,pageIndex:it,numPages:Ge,pageLabel:lt}):lt,Ct=Q.has(it)?Q.get(it):0,yt=R.createElement(J,{doc:V,pageHeight:Z,pageIndex:it,pageRotation:Ct,pageWidth:W,rotation:_e,shouldRender:fe===it,thumbnailWidth:ce,onRenderCompleted:le,onVisibilityChanged:ve});return ue?ue({currentPage:U,key:ht,numPages:Ge,pageIndex:it,renderPageLabel:R.createElement(R.Fragment,null,pt),renderPageThumbnail:yt,onJumpToPage:function(){return Xe(it)},onRotatePage:function($t){return De(it,$t)}}):R.createElement("div",{key:ht},R.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":$e===$.ViewMode.DualPage&&it%2==0,"rpv-thumbnail__item--dual-odd":$e===$.ViewMode.DualPage&&it%2==1,"rpv-thumbnail__item--dual-cover":Ue,"rpv-thumbnail__item--dual-cover-even":$e===$.ViewMode.DualPageWithCover&&!Ue&&it%2==0,"rpv-thumbnail__item--dual-cover-odd":$e===$.ViewMode.DualPageWithCover&&!Ue&&it%2==1,"rpv-thumbnail__item--single":$e===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":U===it}),role:"button",tabIndex:U===it?0:-1,onClick:function(){return Xe(it)}},yt),R.createElement("div",{"data-testid":"thumbnail__label-".concat(it),className:"rpv-thumbnail__label"},pt))}(st)}))}))},Y=function(G){var U=G.renderCurrentPageLabel,V=G.renderThumbnailItem,q=G.store,Q=G.thumbnailDirection,Z=G.thumbnailWidth,W=R.useState(q.get("doc")),X=W[0],ue=W[1],be=R.useState(q.get("currentPage")||0),_e=be[0],Pe=be[1],ce=R.useState(q.get("pageHeight")||0),$e=ce[0],Xe=ce[1],De=R.useState(q.get("pageWidth")||0),Ge=De[0],Ie=De[1],Me=R.useState(q.get("rotation")||0),Te=Me[0],et=Me[1],Ze=R.useState(q.get("pagesRotation")||new Map),ye=Ze[0],ae=Ze[1],ne=R.useState(q.get("rotatedPage")||-1),fe=ne[0],Se=ne[1],Ee=R.useState(q.get("viewMode")),ke=Ee[0],Fe=Ee[1],He=function(we){Pe(we)},rt=function(we){ue(we)},Je=function(we){Xe(we)},tt=function(we){Ie(we)},ze=function(we){et(we)},oe=function(we){ae(we)},le=function(we){Se(we)},ve=function(we){Fe(we)},Ae=function(we){var Qe=q.get("jumpToPage");Qe&&Qe(we)},ge=function(we,Qe){q.get("rotatePage")(we,Qe)};return R.useEffect(function(){return q.subscribe("doc",rt),q.subscribe("pageHeight",Je),q.subscribe("pageWidth",tt),q.subscribe("rotatedPage",le),q.subscribe("rotation",ze),q.subscribe("pagesRotation",oe),q.subscribe("viewMode",ve),function(){q.unsubscribe("doc",rt),q.unsubscribe("pageHeight",Je),q.unsubscribe("pageWidth",tt),q.unsubscribe("rotatedPage",le),q.unsubscribe("rotation",ze),q.unsubscribe("pagesRotation",oe),q.unsubscribe("viewMode",ve)}},[]),$.useIsomorphicLayoutEffect(function(){return q.subscribe("currentPage",He),function(){q.unsubscribe("currentPage",He)}},[]),X?R.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},R.createElement(te,{doc:X},function(we){return R.createElement(K,{currentPage:_e,doc:X,labels:we,pagesRotation:ye,pageHeight:$e,pageWidth:Ge,renderCurrentPageLabel:U,renderThumbnailItem:V,rotatedPage:fe,rotation:Te,thumbnailDirection:Q,thumbnailWidth:Z,viewMode:ke,onJumpToPage:Ae,onRotatePage:ge})})):R.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},R.useContext(re).renderSpinner())};A.thumbnailPlugin=function(G){var U=R.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),V=R.useState(""),q=V[0],Q=V[1];return{install:function(Z){U.update("jumpToPage",Z.jumpToPage),U.update("rotatePage",Z.rotatePage)},onDocumentLoad:function(Z){Q(Z.doc.loadingTask.docId),U.update("doc",Z.doc)},onViewerStateChange:function(Z){return U.update("currentPage",Z.pageIndex),U.update("pagesRotation",Z.pagesRotation),U.update("pageHeight",Z.pageHeight),U.update("pageWidth",Z.pageWidth),U.update("rotation",Z.rotation),U.update("rotatedPage",Z.rotatedPage),U.update("viewMode",Z.viewMode),Z},Cover:function(Z){return R.createElement(se,B({},Z,{renderSpinner:G==null?void 0:G.renderSpinner,store:U}))},Thumbnails:R.useCallback(function(Z){return R.createElement(re.Provider,{value:{renderSpinner:(G==null?void 0:G.renderSpinner)||he}},R.createElement(Y,{renderCurrentPageLabel:G==null?void 0:G.renderCurrentPageLabel,renderThumbnailItem:Z==null?void 0:Z.renderThumbnailItem,store:U,thumbnailDirection:(Z==null?void 0:Z.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(G==null?void 0:G.thumbnailWidth)||100}))},[q])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=thumbnail_min})(lib$d);var libExports$c={},lib$c={get exports(){return libExports$c},set exports(A){libExports$c=A}},toolbar_min={},libExports$b={},lib$b={get exports(){return libExports$b},set exports(A){libExports$b=A}},selectionMode_min={};(function(A){var $=libExports$h;function H(Y){var G=Object.create(null);return Y&&Object.keys(Y).forEach(function(U){if(U!=="default"){var V=Object.getOwnPropertyDescriptor(Y,U);Object.defineProperty(G,U,V.get?V:{enumerable:!0,get:function(){return Y[U]}})}}),G.default=Y,Object.freeze(G)}var O,R=H(reactExports),B=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},ie=function(){return ie=Object.assign||function(Y){for(var G,U=1,V=arguments.length;U<V;U++)for(var q in G=arguments[U])Object.prototype.hasOwnProperty.call(G,q)&&(Y[q]=G[q]);return Y},ie.apply(this,arguments)};A.SelectionMode=void 0,(O=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",O.Text="Text";var se=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},he=function(Y){var G=Y.children,U=Y.mode,V=Y.onClick,q=R.useContext($.LocalizationContext).l10n,Q="",Z=R.createElement(se,null);switch(U){case A.SelectionMode.Hand:Q=q&&q.selectionMode?q.selectionMode.handTool:"Hand tool",Z=R.createElement(B,null);break;case A.SelectionMode.Text:default:Q=q&&q.selectionMode?q.selectionMode.textSelectionTool:"Text selection tool",Z=R.createElement(se,null)}return G({icon:Z,label:Q,onClick:V})},re={left:0,top:8},te=function(Y){var G=Y.isSelected,U=Y.mode,V=Y.onClick,q="";switch(U){case A.SelectionMode.Hand:q="selection-mode__hand-button";break;case A.SelectionMode.Text:default:q="selection-mode__text-button"}return R.createElement(he,{mode:U,onClick:V},function(Q){return R.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:R.createElement($.MinimalButton,{ariaLabel:Q.label,isSelected:G,testId:q,onClick:Q.onClick},Q.icon),content:function(){return Q.label},offset:re})})},pe=function(Y){var G=Y.children,U=Y.mode,V=Y.store,q=U===V.get("selectionMode");return(G||function(Q){return R.createElement(te,{isSelected:q,mode:Q.mode,onClick:Q.onClick})})({isSelected:q,mode:U,onClick:function(){return V.update("selectionMode",U)}})},J=function(Y){var G=Y.isSelected,U=Y.mode,V=Y.onClick,q="";switch(U){case A.SelectionMode.Hand:q="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:q="selection-mode__text-menu"}return R.createElement(he,{mode:U,onClick:V},function(Q){return R.createElement($.MenuItem,{checked:G,icon:Q.icon,testId:q,onClick:Q.onClick},Q.label)})},K=function(Y){var G=Y.store,U=R.useRef(null),V=R.useState(A.SelectionMode.Text),q=V[0],Q=V[1],Z=R.useRef({top:0,left:0,x:0,y:0}),W=function(Pe){var ce=U.current;ce&&(ce.scrollTop=Z.current.top-(Pe.clientY-Z.current.y),ce.scrollLeft=Z.current.left-(Pe.clientX-Z.current.x))},X=function(){var Pe=U.current;Pe&&(Pe.classList.add("rpv-selection-mode__grab"),Pe.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",X))},ue=function(Pe){var ce=U.current;ce&&q!==A.SelectionMode.Text&&(ce.classList.remove("rpv-selection-mode__grab"),ce.classList.add("rpv-selection-mode__grabbing"),Pe.preventDefault(),Pe.stopPropagation(),Z.current={left:ce.scrollLeft,top:ce.scrollTop,x:Pe.clientX,y:Pe.clientY},document.addEventListener("mousemove",W),document.addEventListener("mouseup",X))},be=function(Pe){U.current=Pe()},_e=function(Pe){Q(Pe)};return R.useEffect(function(){var Pe=U.current;if(Pe)return q===A.SelectionMode.Hand?Pe.classList.add("rpv-selection-mode__grab"):Pe.classList.remove("rpv-selection-mode__grab"),Pe.addEventListener("mousedown",ue),function(){Pe.removeEventListener("mousedown",ue)}},[q]),R.useEffect(function(){return G.subscribe("getPagesContainer",be),G.subscribe("selectionMode",_e),function(){G.unsubscribe("getPagesContainer",be),G.unsubscribe("selectionMode",_e)}},[]),R.createElement(R.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=se,A.selectionModePlugin=function(Y){var G=R.useMemo(function(){return $.createStore()},[]),U=function(V){return R.createElement(pe,ie({},V,{store:G}))};return{install:function(V){G.update("selectionMode",Y&&Y.selectionMode?Y.selectionMode:A.SelectionMode.Text),G.update("getPagesContainer",V.getPagesContainer)},renderViewer:function(V){var q=V.slot;return q.subSlot&&q.subSlot.children&&(q.subSlot.children=R.createElement(R.Fragment,null,R.createElement(K,{store:G}),q.subSlot.children)),q},SwitchSelectionMode:U,SwitchSelectionModeButton:function(V){return R.createElement(U,{mode:V.mode},function(q){return R.createElement(te,{isSelected:q.isSelected,mode:q.mode,onClick:function(){q.onClick()}})})},SwitchSelectionModeMenuItem:function(V){return R.createElement(U,{mode:V.mode},function(q){return R.createElement(J,{isSelected:q.isSelected,mode:q.mode,onClick:function(){q.onClick(),V.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=selectionMode_min})(lib$b);var libExports$a={},lib$a={get exports(){return libExports$a},set exports(A){libExports$a=A}},fullScreen_min={},e$c=libExports$h;function n$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$c,l$c=n$c(reactExports),r$c=function(){return l$c.createElement(e$c.Icon,{size:16},l$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),l$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),l$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),l$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),l$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},c$c=function(){return l$c.createElement(e$c.Icon,{size:16},l$c.createElement("path",{d:"M0.5 12L23.5 12"}),l$c.createElement("path",{d:"M11.5 1L11.5 23"}),l$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),l$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),l$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),l$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},u$c=function(){return u$c=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},u$c.apply(this,arguments)};(function(A){A[A.ExitFullScreen=0]="ExitFullScreen",A[A.FullScreenChange=1]="FullScreenChange",A[A.FullScreenElement=2]="FullScreenElement",A[A.FullScreenEnabled=3]="FullScreenEnabled",A[A.RequestFullScreen=4]="RequestFullScreen"})(t$c||(t$c={}));var o$c={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},i$c={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},a$c={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},s$8=typeof window<"u",f$9=s$8&&(t$c.FullScreenEnabled in document&&o$c||i$c.FullScreenEnabled in document&&i$c||a$c.FullScreenEnabled in document&&a$c)||o$c,S$4=function(){return s$8&&f$9.FullScreenEnabled in document&&document[f$9.FullScreenEnabled]===!0},E$5=function(A){return s$8?A[f$9.ExitFullScreen]():Promise.resolve({})},F=function(){return s$8?document[f$9.FullScreenElement]:null},m$8={left:0,top:8},d$9=function(A){var $=A.enableShortcuts,H=A.onClick,O=l$c.useContext(e$c.LocalizationContext).l10n,R=O&&O.fullScreen?O.fullScreen.enterFullScreen:"Full screen",B=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return l$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:l$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,isDisabled:!S$4(),testId:"full-screen__enter-button",onClick:H},l$c.createElement(c$c,null)),content:function(){return R},offset:m$8})},b$5={left:0,top:8},g$6=function(A){var $=A.onClick,H=l$c.useContext(e$c.LocalizationContext).l10n,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return l$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:l$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:O,testId:"full-screen__exit-button-with-tooltip",onClick:$},l$c.createElement(r$c,null)),content:function(){return O},offset:b$5})},x$2=function(A,$,H,O){var R=l$c.useState(!1),B=R[0],ie=R[1],se=l$c.useRef($.get("getPagesContainer")?$.get("getPagesContainer")():null),he=function(){var pe=F(),J=se.current,K=pe===A(J);$.update("isFullScreen",K),K?J.classList.add("rpv-full-screen__pages"):J.classList.remove("rpv-full-screen__pages");var Y=$.get("zoom");Y&&(K?H(Y):O(Y))},re=function(pe){var J;se.current=pe(),J=he,s$8&&document.addEventListener(f$9.FullScreenChange,J)},te=function(pe){ie(pe)};return l$c.useEffect(function(){return $.subscribe("isFullScreen",te),$.subscribe("getPagesContainer",re),function(){$.unsubscribe("getPagesContainer",re),$.unsubscribe("isFullScreen",te)}},[]),{enterFullScreen:function(){if(S$4()){var pe=se.current;pe&&function(){var J=se.current;if(!J)return Promise.resolve();var K=F();return K&&K!==A(J)?E$5(K):Promise.resolve()}().then(function(){var J;J=A(pe),s$8&&J[f$9.RequestFullScreen]()})}},exitFullScreen:function(){ie(!1);var pe=$.get("getPagesContainer");if(pe){var J=pe();if(J){var K=F();K&&K===A(J)&&E$5(document)}}},isFullScreen:B}},v$6=function(A){var $=A.children,H=A.enableShortcuts,O=A.getFullScreenTarget,R=A.store,B=A.onEnterFullScreen,ie=A.onExitFullScreen,se=x$2(O,R,B,ie),he=se.enterFullScreen,re=se.exitFullScreen,te=se.isFullScreen;return($||function(pe){return te?l$c.createElement(g$6,{onClick:pe.onClick}):l$c.createElement(d$9,{enableShortcuts:H,onClick:pe.onClick})})({onClick:te?re:he})},C$4=function(A){var $=A.onClick,H=l$c.useContext(e$c.LocalizationContext).l10n,O=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return l$c.createElement(e$c.MenuItem,{icon:l$c.createElement(c$c,null),isDisabled:!S$4(),testId:"full-screen__enter-menu",onClick:$},O)},h$6=function(A){var $=A.onClick,H=l$c.useContext(e$c.LocalizationContext).l10n,O=l$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return l$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!O,"rpv-full-screen__exit-button--rtl":O})},l$c.createElement(e$c.MinimalButton,{ariaLabel:R,testId:"full-screen__exit-button",onClick:$},l$c.createElement(r$c,null)))},p$8=function(A){var $=A.children,H=A.getFullScreenTarget,O=A.store,R=A.onEnterFullScreen,B=A.onExitFullScreen,ie=x$2(H,O,R,B),se=ie.enterFullScreen,he=ie.exitFullScreen,re=ie.isFullScreen;return re&&($||function(te){return l$c.createElement(h$6,{onClick:te.onClick})})({onClick:re?he:se})},k$4=function(A){var $=A.containerRef,H=A.getFullScreenTarget,O=A.store,R=A.onEnterFullScreen,B=A.onExitFullScreen,ie=x$2(H,O,R,B).enterFullScreen,se=function(he){if(!he.shiftKey&&!he.altKey&&(e$c.isMac()?he.metaKey&&he.ctrlKey&&he.key==="f":he.key==="F11")){var re=$.current;re&&document.activeElement&&re.contains(document.activeElement)&&(he.preventDefault(),ie())}};return l$c.useEffect(function(){if($.current)return document.addEventListener("keydown",se),function(){document.removeEventListener("keydown",se)}},[$.current]),l$c.createElement(l$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=c$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(ie){return ie},H=l$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),O=l$c.useMemo(function(){return e$c.createStore({})},[]),R=function(ie){return l$c.createElement(v$6,u$c({},ie,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}))},B=function(){return l$c.createElement(p$8,{getFullScreenTarget:$,store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(ie){O.update("getPagesContainer",ie.getPagesContainer),O.update("zoom",ie.zoom)},renderViewer:function(ie){var se=ie.slot;return se.subSlot&&(se.subSlot.children=l$c.createElement(l$c.Fragment,null,H.enableShortcuts&&l$c.createElement(k$4,{containerRef:ie.containerRef,getFullScreenTarget:$,store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),l$c.createElement(B,null),se.subSlot.children)),se},EnterFullScreen:R,EnterFullScreenButton:function(){return l$c.createElement(R,null,function(ie){return l$c.createElement(d$9,u$c({enableShortcuts:H.enableShortcuts},ie))})},EnterFullScreenMenuItem:function(ie){return l$c.createElement(R,null,function(se){return l$c.createElement(C$4,{onClick:function(){se.onClick(),ie.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=fullScreen_min})(lib$a);var libExports$9={},lib$9={get exports(){return libExports$9},set exports(A){libExports$9=A}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:O,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return O},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var O=URL.createObjectURL(new Blob([A],{type:H}));c$b(O,$),O&&URL.revokeObjectURL(O)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(O){return btoa(Array(O.length).fill("").map(function(R,B){return String.fromCharCode(O[B])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,O=A.store,R=n$b.useState(O.get("file")),B=R[0],ie=R[1],se=n$b.useState(O.get("doc")),he=se[0],re=se[1],te=function(J){re(J)},pe=function(J){ie(J)};return n$b.useEffect(function(){return O.subscribe("doc",te),O.subscribe("file",pe),function(){O.subscribe("doc",te),O.unsubscribe("file",pe)}},[]),($||function(J){return n$b.createElement(a$b,{onClick:J.onClick})})({onClick:function(){he&&B&&u$b(he,H(B))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},O)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(R){return R.name?(B=R.name,(ie=B.split("/").pop())?ie.split("#")[0].split("?")[0]:B):"document.pdf";var B,ie},O=function(R){return n$b.createElement(f$8,r$b({},R,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(R){$.update("doc",R.doc),$.update("file",R.file)},Download:O,DownloadButton:function(){return n$b.createElement(O,null,function(R){return n$b.createElement(a$b,r$b({},R))})},DownloadMenuItem:function(R){return n$b.createElement(O,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=getFile_min})(lib$9);var libExports$8={},lib$8={get exports(){return libExports$8},set exports(A){libExports$8=A}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var R=$.current;R&&(R.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},O=function(R){R&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",O),function(){A.unsubscribe("triggerOpenFile",O)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,O=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,B=R&&R.open?R.open.openFile:"Open file",ie=i$a(H),se=ie.inputRef,he=ie.openFile,re=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:se,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:O}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:re,ariaLabel:B,testId:"open__button",onClick:he},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,O=A.store;return($||function(R){return n$a.createElement(u$a,{enableShortcuts:H,store:O,onClick:R.onClick})})({onClick:function(R){var B=R.target.files;if(B&&B.length){var ie=O.get("openFile");ie&&ie(B[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,R=O&&O.open?O.open.openFile:"Open file",B=i$a($),ie=B.inputRef,se=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:se},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:ie,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),R))},p$7=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="o"&&(e$a.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(R.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),O=function(R){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},R,{store:H}))};return{install:function(R){H.update("openFile",R.openFile)},renderViewer:function(R){var B=R.slot,ie={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:R.containerRef,store:H}),B.children)};return o$a(o$a({},B),ie)},Open:O,OpenButton:function(){return n$a.createElement(O,null)},OpenMenuItem:function(){return n$a.createElement(O,null,function(R){return n$a.createElement(l$a,{store:H,onClick:R.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=open_min})(lib$8);var libExports$7={},lib$7={get exports(){return libExports$7},set exports(A){libExports$7=A}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],O=$[1],R=function(B){O(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",R),function(){A.unsubscribe("currentPage",R)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],O=$[1],R=function(B){O(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",R),function(){A.unsubscribe("numberOfPages",R)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,O=n$9.useState("1"),R=O[0],B=O[1],ie=i$9($).currentPage,se=u$9($).numberOfPages;n$9.useEffect(function(){return B("".concat(ie+1))},[ie]);var he=function(te){var pe=$.get("jumpToPage");pe&&pe(te)},re=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:re,testId:"page-navigation__current-page-input",type:"text",value:R,onChange:B,onKeyDown:function(te){switch(te.key){case"ArrowUp":(K=ie-1)>=0&&(B("".concat(K+1)),he(K));break;case"ArrowDown":(J=ie+1)<se&&(B("".concat(J+1)),he(J));break;case"Enter":pe=parseInt(R,10),R===""||pe<1||pe>se?B("".concat(ie+1)):he(pe-1)}var pe,J,K}}))},l$9=function(A){var $=A.children,H=A.doc,O=e$9.useIsMounted(),R=n$9.useState({loading:!0,labels:[]}),B=R[0],ie=R[1];return n$9.useEffect(function(){H.getPageLabels().then(function(se){O.current&&ie({loading:!1,labels:se||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):$(B.labels)},s$7=function(A){var $=A.children,H=A.store,O=function(se){var he=n$9.useState(se.get("doc")),re=he[0],te=he[1],pe=function(J){te(J)};return n$9.useEffect(function(){return se.subscribe("doc",pe),function(){se.unsubscribe("doc",pe)}},[]),re}(H),R=i$9(H).currentPage,B=u$9(H).numberOfPages,ie=$||function(se){return n$9.createElement(n$9.Fragment,null,se.currentPage+1)};return O?n$9.createElement(l$9,{doc:O},function(se){var he=se.length===B&&B>0?se[R]:"";return ie({currentPage:R,numberOfPages:B,pageLabel:he})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return R},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(O){return n$9.createElement(m$7,{isDisabled:O.isDisabled,onClick:O.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var O=H.get("jumpToPage");O&&O(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},R)},d$7={left:0,top:8},b$4=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return R},offset:d$7})},P$2=function(A){var $=A.children,H=A.store,O=i$9(H).currentPage,R=u$9(H).numberOfPages;return($||function(B){return n$9.createElement(b$4,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:O+1>=R,onClick:function(){var B=H.get("jumpToPage");B&&B(R-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},R)},C$3={left:0,top:8},k$3=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return R},offset:C$3})},x$1=function(A){var $=A.children,H=A.store;return($||function(O){return n$9.createElement(k$3,{onClick:O.onClick,isDisabled:O.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var O=H.get("jumpToNextPage");O&&O()}})},D=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},R)},T=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},h$5=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(T,null)),content:function(){return R},offset:L})},y$1=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(h$5,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$1=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(T,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},R)},N=function(A){var $=A.children,H=A.store,O=u$9(H).numberOfPages;return $?$({numberOfPages:O}):n$9.createElement(n$9.Fragment,null,O)},j=function(A){var $=A.containerRef,H=A.numPages,O=A.store,R=n$9.useRef(O.get("jumpFromAnnotation")||{bottomOffset:0,dest:"",leftOffset:0,pageIndex:-1}),B=i$9(O).currentPage,ie=n$9.useRef(B);ie.current=B;var se=n$9.useRef(!1),he=function(){se.current=!0},re=function(){se.current=!1},te=function(J){var K=$.current,Y=se.current||document.activeElement&&K.contains(document.activeElement);if(K&&Y){var G,U,V,q,Q=J.altKey&&J.key==="ArrowDown"||!J.shiftKey&&!J.altKey&&J.key==="PageDown",Z=J.altKey&&J.key==="ArrowUp"||!J.shiftKey&&!J.altKey&&J.key==="PageUp",W=(e$9.isMac()?J.metaKey&&!J.ctrlKey:J.altKey)&&J.key==="ArrowLeft";Q?(J.preventDefault(),V=O.get("jumpToPage"),q=ie.current+1,V&&q<H&&V(q)):Z?(J.preventDefault(),function(){var X=O.get("jumpToPage"),ue=ie.current-1;X&&ue>=0&&X(ue)}()):W&&R.current&&R.current.dest&&(J.preventDefault(),G=R.current,(U=O.get("jumpToDestination"))&&U(G.pageIndex,G.bottomOffset,G.leftOffset))}},pe=function(J){R.current=J};return n$9.useEffect(function(){return O.subscribe("jumpFromAnnotation",pe),function(){O.unsubscribe("jumpFromAnnotation",pe)}},[]),n$9.useEffect(function(){var J=$.current;if(J)return document.addEventListener("keydown",te),J.addEventListener("mouseenter",he),J.addEventListener("mouseleave",re),function(){document.removeEventListener("keydown",te),J.removeEventListener("mouseenter",he),J.removeEventListener("mouseleave",re)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=r$9,pageNavigation_min.NextIcon=a$9,pageNavigation_min.PreviousIcon=T,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),O=function(se){return n$9.createElement(p$6,o$9({},se,{store:H}))},R=function(se){return n$9.createElement(P$2,o$9({},se,{store:H}))},B=function(se){return n$9.createElement(x$1,o$9({},se,{store:H}))},ie=function(se){return n$9.createElement(y$1,o$9({},se,{store:H}))};return{install:function(se){H.update("jumpToDestination",se.jumpToDestination),H.update("jumpToNextPage",se.jumpToNextPage),H.update("jumpToPage",se.jumpToPage),H.update("jumpToPreviousPage",se.jumpToPreviousPage)},renderViewer:function(se){var he=se.slot;if(!$.enableShortcuts)return he;var re={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(j,{containerRef:se.containerRef,numPages:se.doc.numPages,store:H}),he.children)};return o$9(o$9({},he),re)},onAnnotationLayerRender:function(se){if(se.annotations.length){var he=se.annotations.filter(function(re){return re.subtype==="Link"&&!re.url&&!re.unsafeUrl&&!re.action&&re.dest});he.length&&he.forEach(function(re){var te=se.container.querySelector('a[data-annotation-link="'.concat(re.id,'"]'));te&&te.addEventListener("click",function(){se.container.style.setProperty("height","100%"),se.container.style.setProperty("width","100%");var pe=se.container.getBoundingClientRect();se.container.style.removeProperty("height"),se.container.style.removeProperty("width");var J=te.getBoundingClientRect(),K=J.left-pe.left,Y=pe.bottom-J.bottom+J.height;H.update("jumpFromAnnotation",{bottomOffset:Y/se.scale,dest:re.dest,leftOffset:K/se.scale,pageIndex:se.pageIndex})})})}},onDocumentLoad:function(se){H.update("doc",se.doc),H.update("numberOfPages",se.doc.numPages)},onViewerStateChange:function(se){return H.update("currentPage",se.pageIndex),se},jumpToNextPage:function(){var se=H.get("jumpToNextPage");se&&se()},jumpToPage:function(se){var he=H.get("jumpToPage");he&&he(se)},jumpToPreviousPage:function(){var se=H.get("jumpToPreviousPage");se&&se()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(se){return n$9.createElement(s$7,o$9({},se,{store:H}))},GoToFirstPage:O,GoToFirstPageButton:function(){return n$9.createElement(O,null,function(se){return n$9.createElement(m$7,o$9({},se))})},GoToFirstPageMenuItem:function(se){return n$9.createElement(O,null,function(he){return n$9.createElement(v$5,{isDisabled:he.isDisabled,onClick:function(){he.onClick(),se.onClick()}})})},GoToLastPage:R,GoToLastPageButton:function(){return n$9.createElement(R,null,function(se){return n$9.createElement(b$4,o$9({},se))})},GoToLastPageMenuItem:function(se){return n$9.createElement(R,null,function(he){return n$9.createElement(E$4,{isDisabled:he.isDisabled,onClick:function(){he.onClick(),se.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(se){return n$9.createElement(k$3,o$9({},se))})},GoToNextPageMenuItem:function(se){return n$9.createElement(B,null,function(he){return n$9.createElement(D,{isDisabled:he.isDisabled,onClick:function(){he.onClick(),se.onClick()}})})},GoToPreviousPage:ie,GoToPreviousPageButton:function(){return n$9.createElement(ie,null,function(se){return n$9.createElement(h$5,o$9({},se))})},GoToPreviousPageMenuItem:function(se){return n$9.createElement(ie,null,function(he){return n$9.createElement(I$1,{isDisabled:he.isDisabled,onClick:function(){he.onClick(),se.onClick()}})})},NumberOfPages:function(se){return n$9.createElement(N,o$9({},se,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=pageNavigation_min})(lib$7);var libExports$6={},lib$6={get exports(){return libExports$6},set exports(A){libExports$6=A}},print_min={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,O=a$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.print?O.print.print:"Print",B=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return R},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,O=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){O.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,O=a$8.useContext(e$8.LocalizationContext).l10n,R=a$8.useState(!0),B=R[0],ie=R[1];return a$8.useEffect(function(){$.getPermissions().then(function(se){se===null||se.includes(4)||se.includes(2048)?H.update("printStatus",o$8.Preparing):ie(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(se){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},O&&O.print?O.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){se(),H.update("printStatus",o$8.Cancelled)}},O&&O.print?O.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,O=A.onCancel,R=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,ie=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},R&&R.print?R.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:ie})),a$8.createElement(e$8.Button,{onClick:O},R&&R.print?R.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,O=A.pageHeight,R=A.pageIndex,B=A.pageWidth,ie=A.rotation,se=A.onLoad,he=e$8.useIsMounted(),re=a$8.useRef(),te=a$8.useState(""),pe=te[0],J=te[1],K=a$8.useMemo(function(){return typeof process<"u"&&{}.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var Y=re.current;Y&&Y.cancel();var G=150/72;$.height=Math.floor(O*G),$.width=Math.floor(B*G);var U=$.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,$.width,$.height),U.restore();var V=H.getViewport({rotation:ie,scale:1});re.current=H.render({canvasContext:U,intent:"print",transform:[G,0,0,G,0,0],viewport:V}),re.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(q){he.current&&J(URL.createObjectURL(q)),K&&se()}):(he.current&&J($.toDataURL()),K&&se())},function(){})},[]),pe&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(R),src:pe,onLoad:function(){K||se()}}))},f$6=function(A){var $=A.canvas,H=A.doc,O=A.pageIndex,R=A.pageRotation,B=A.pageSize,ie=A.rotation,se=A.shouldRender,he=A.onLoad,re=e$8.useIsMounted(),te=a$8.useState(null),pe=te[0],J=te[1],K=Math.abs(ie+R)%180==0;a$8.useEffect(function(){se&&e$8.getPage(H,O).then(function(G){re.current&&J(G)})},[se]);var Y=(B.rotation+ie+R)%360;return pe&&a$8.createElement(d$6,{canvas:$,page:pe,pageHeight:K?B.pageHeight:B.pageWidth,pageIndex:O,pageWidth:K?B.pageWidth:B.pageHeight,rotation:Y,onLoad:he})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,O=A.pagesRotation,R=A.pageSizes,B=A.printPages,ie=A.printStatus,se=A.rotation,he=A.onCancel,re=A.onLoad,te=a$8.useMemo(function(){return document.createElement("canvas")},[]),pe=a$8.useMemo(function(){var Y=document.querySelector(".rpv-print__zone");if(Y)return Y;var G=document.createElement("div");return G.classList.add("rpv-print__zone"),G.setAttribute("data-testid","print__zone"),document.body.appendChild(G),G},[]);a$8.useEffect(function(){ie===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var Y=function(){if(ie===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var G=document.querySelectorAll(".rpv-print__zone");G&&G.forEach(function(U){U.parentElement.removeChild(U)}),te.height=0,te.width=0,document.removeEventListener("mousemove",Y),he()}};return document.addEventListener("mousemove",Y),function(){return document.removeEventListener("mousemove",Y)}},[ie]);var J=R[0].pageHeight,K=R[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(Y,G){return a$8.createElement(f$6,{key:Y,canvas:te,doc:$,pageIndex:Y,pageRotation:O.has(Y)?O.get(Y):0,pageSize:R[Y],rotation:se,shouldRender:G===H,onLoad:re})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(K,"pt ").concat(J,"pt }")}})),pe)},v$4=function(A){var $=A.doc,H=A.pagesRotation,O=A.pageSizes,R=A.renderProgressBar,B=A.rotation,ie=A.setPages,se=A.store,he=a$8.useState(o$8.Inactive),re=he[0],te=he[1],pe=a$8.useState(0),J=pe[0],K=pe[1],Y=a$8.useMemo(function(){var q=$.numPages;return ie($).filter(function(Q){return Q>=0&&Q<q})},[$,ie]),G=Y.length,U=function(){K(0),te(o$8.Inactive)},V=function(q){return te(q)};return a$8.useEffect(function(){return se.subscribe("printStatus",V),function(){se.unsubscribe("printStatus",V)}},[]),a$8.createElement(a$8.Fragment,null,re===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:se}),re===o$8.Preparing&&(R?R(J,G,U):a$8.createElement(m$6,{numLoadedPages:J,numPages:G,onCancel:U})),(re===o$8.Preparing||re===o$8.Ready)&&J<=G&&a$8.createElement(g$4,{doc:$,numLoadedPages:J,pagesRotation:H,pageSizes:O,printPages:Y,printStatus:re,rotation:B,onCancel:U,onLoad:function(){var q=J+1;q<=G&&(K(q),q===G&&te(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,O=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},O)},E$3=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="p"&&(e$8.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(R.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,O=[];return A.replace(/\s+/g,"").split(",").forEach(function(R){var B,ie,se=R.split("-").map(function(he){return parseInt(he,10)}).filter(function(he){return Number.isInteger(he)});se.length===1?O.push(se[0]-1):se.length===2&&O.push.apply(O,(B=se[0]-1,ie=se[1]-1,Array(ie-B+1).fill(0).map(function(he,re){return B+re})))}),(H=O,H.filter(function(R){return H.indexOf(R)===H.lastIndexOf(R)})).filter(function(R){return R>=0&&R<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(R){return Array(R.numPages).fill(0).map(function(B,ie){return ie})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),O=function(R){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},R,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(R){var B=R.slot,ie={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:R.containerRef,store:H}),a$8.createElement(v$4,{doc:R.doc,pagesRotation:R.pagesRotation,pageSizes:R.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:R.rotation,setPages:$.setPages,store:H}),B.children)};return c$8(c$8({},B),ie)},Print:O,PrintButton:function(){return a$8.createElement(O,null,function(R){return a$8.createElement(s$6,c$8({},R))})},PrintMenuItem:function(R){return a$8.createElement(O,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),R.onClick()}})})},setPages:function(R){$.setPages=R}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=print_min})(lib$6);var libExports$5={},lib$5={get exports(){return libExports$5},set exports(A){libExports$5=A}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,O=r$7.useState(),R=O[0],B=O[1];return r$7.useEffect(function(){$.getMetadata().then(function(ie){return Promise.resolve(ie)}).then(function(ie){return $.getDownloadInfo().then(function(se){return Promise.resolve({fileName:ie.contentDispositionFilename||"",info:ie.info,length:se.length})})}).then(function(ie){B(ie)})},[]),R?H(R):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,O=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":O})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,O){var R=parseInt(A,10);return R>=$&&R<=H?R:O},p$4=function(A){var $=A.doc,H=A.fileName,O=A.onToggle,R=r$7.useContext(e$7.LocalizationContext).l10n,B=function(ie){var se=function(he){var re=l$7.exec(he);if(!re)return null;var te=parseInt(re[1],10),pe=c$7(re[2],1,12,1)-1,J=c$7(re[3],1,31,1),K=c$7(re[4],0,23,0),Y=c$7(re[5],0,59,0),G=c$7(re[6],0,59,0),U=re[7]||"Z",V=c$7(re[8],0,23,0),q=c$7(re[9],0,59,0);switch(U){case"-":K+=V,Y+=q;break;case"+":K-=V,Y-=q}return new Date(Date.UTC(te,pe,J,K,Y,G))}(ie);return se?"".concat(se.toLocaleDateString(),", ").concat(se.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(ie){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.fileName:"File name",value:ie.fileName||(re=H,te=re.split("/").pop(),te?te.split("#")[0].split("?")[0]:re)}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.fileSize:"File size",value:(se=ie.length,he=Math.floor(Math.log(se)/Math.log(1024)),"".concat((se/Math.pow(1024,he)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][he]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.title:"Title",value:ie.info.Title}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.author:"Author",value:ie.info.Author}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.subject:"Subject",value:ie.info.Subject}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.keywords:"Keywords",value:ie.info.Keywords}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.creator:"Creator",value:ie.info.Creator}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.creationDate:"Creation date",value:B(ie.info.CreationDate)}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.modificationDate:"Modification date",value:B(ie.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.pdfProducer:"PDF producer",value:ie.info.Producer}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.pdfVersion:"PDF version",value:ie.info.PDFFormatVersion}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.pageCount:"Page count",value:"".concat($.numPages)})));var se,he,re,te}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:O},R&&R.properties?R.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,O=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:O,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return O},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,O=function(ie){var se=r$7.useState(ie.get("doc")),he=se[0],re=se[1],te=function(pe){re(pe)};return r$7.useEffect(function(){return ie.subscribe("doc",te),function(){ie.unsubscribe("doc",te)}},[]),{currentDoc:he}}(H).currentDoc,R=H.get("fileName")||"",B=$||function(ie){return r$7.createElement(u$7,o$7({},ie))};return O?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(ie){return B({onClick:ie})},content:function(ie){return r$7.createElement(p$4,{doc:O,fileName:R,onToggle:ie})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,O=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},O)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(O){return r$7.createElement(f$5,o$7({},O))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=properties_min})(lib$5);var libExports$4={},lib$4={get exports(){return libExports$4},set exports(A){libExports$4=A}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,O=r$6.useContext(t$6.LocalizationContext).l10n,R=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",B=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",ie=$===t$6.RotateDirection.Backward?R:B,se=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:ie,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},se),content:function(){return ie},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,O=A.store;return($||function(R){return r$6.createElement(i$6,{direction:R.direction,onClick:R.onClick})})({direction:H,onClick:function(){var R=O.get("rotate");R&&R(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,O=r$6.useContext(t$6.LocalizationContext).l10n,R=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",B=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",ie=$===t$6.RotateDirection.Backward?R:B,se=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:se,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},ie)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(O,R){var B=H.get("rotatePage");B&&B(O,R)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(O){return r$6.createElement(l$6,{direction:O.direction,onClick:function(){O.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(O){return r$6.createElement(l$6,{direction:O.direction,onClick:function(){O.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=rotate_min})(lib$4);var libExports$3={},lib$3={get exports(){return libExports$3},set exports(A){libExports$3=A}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,H=A.mode,O=A.onClick,R=t$5.useContext(e$5.LocalizationContext).l10n,B="",ie=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=R&&R.scrollMode?R.scrollMode.horizontalScrolling:"Horizontal scrolling",ie=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=R&&R.scrollMode?R.scrollMode.pageScrolling:"Page scrolling",ie=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=R&&R.scrollMode?R.scrollMode.wrappedScrolling:"Wrapped scrolling",ie=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=R&&R.scrollMode?R.scrollMode.verticalScrolling:"Vertical scrolling",ie=t$5.createElement(d$4,null)}return $({icon:ie,label:B,onClick:O})},m$4={left:0,top:8},M$1=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:O,onClick:R},function(ie){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:ie.label,isDisabled:$,isSelected:H,testId:B,onClick:ie.onClick},ie.icon),content:function(){return ie.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],O=$[1],R=function(B){O(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",R),function(){A.unsubscribe("scrollMode",R)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],O=$[1],R=function(B){O(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",R),function(){A.unsubscribe("viewMode",R)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,O=A.store,R=w$1(O).viewMode,B=f$4(O).scrollMode===H,ie=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&R!==e$5.ViewMode.SinglePage;return($||function(se){return t$5.createElement(M$1,{isDisabled:ie,isSelected:B,mode:se.mode,onClick:se.onClick})})({isDisabled:ie,isSelected:B,mode:H,onClick:function(){a$5(O,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:O,onClick:R},function(ie){return t$5.createElement(e$5.MenuItem,{checked:H,icon:ie.icon,isDisabled:$,testId:B,onClick:ie.onClick},ie.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,O=A.onClick,R=t$5.useContext(e$5.LocalizationContext).l10n,B="",ie=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=R&&R.scrollMode?R.scrollMode.dualPage:"Dual page",ie=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=R&&R.scrollMode?R.scrollMode.dualPageCover:"Dual page with cover",ie=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=R&&R.scrollMode?R.scrollMode.singlePage:"Single page",ie=t$5.createElement(r$5,null)}return $({icon:ie,label:B,onClick:O})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:O,onClick:R},function(ie){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:ie.label,isDisabled:$,isSelected:H,testId:B,onClick:ie.onClick},ie.icon),content:function(){return ie.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,O=A.store,R=w$1(O).viewMode,B=f$4(O).scrollMode,ie=R===H,se=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(he){return t$5.createElement(v$3,{isDisabled:se,isSelected:ie,mode:he.mode,onClick:he.onClick})})({isDisabled:se,isSelected:ie,mode:H,onClick:function(){h$3(O,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:O,onClick:R},function(ie){return t$5.createElement(e$5.MenuItem,{checked:H,icon:ie.icon,isDisabled:$,testId:B,onClick:ie.onClick},ie.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(O){return t$5.createElement(S$3,i$5({},O,{store:A}))},H=function(O){return t$5.createElement(k$2,i$5({},O,{store:A}))};return{install:function(O){A.update("switchScrollMode",O.switchScrollMode),A.update("switchViewMode",O.switchViewMode)},onViewerStateChange:function(O){return A.update("scrollMode",O.scrollMode),A.update("viewMode",O.viewMode),O},switchScrollMode:function(O){a$5(A,O)},switchViewMode:function(O){h$3(A,O)},SwitchScrollMode:$,SwitchScrollModeButton:function(O){return t$5.createElement($,{mode:O.mode},function(R){return t$5.createElement(M$1,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchScrollModeMenuItem:function(O){return t$5.createElement($,{mode:O.mode},function(R){return t$5.createElement(g$3,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),O.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(O){return t$5.createElement(H,{mode:O.mode},function(R){return t$5.createElement(v$3,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchViewModeMenuItem:function(O){return t$5.createElement(H,{mode:O.mode},function(R){return t$5.createElement(C$2,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=scrollMode_min})(lib$3);var libExports$2={},lib$2={get exports(){return libExports$2},set exports(A){libExports$2=A}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,O=A.onHighlightKeyword,R=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=R.current;O&&B&&O({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:R,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(O,R){l$4(O);var B=R.parentNode;B&&B.insertBefore(O,R),l$4(R)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,O=A.renderHighlights,R=A.store,B=A.onHighlightKeyword,ie=r$4.useRef(),se=r$4.useCallback(function(De){return r$4.createElement(r$4.Fragment,null,De.highlightAreas.map(function(Ge,Ie){return r$4.createElement(s$3,{index:Ie,key:Ie,area:Ge,onHighlightKeyword:B})}))},[]),he=O||se,re=r$4.useState(R.get("matchPosition")),te=re[0],pe=re[1],J=r$4.useState(R.get("keyword")||[u$4]),K=J[0],Y=J[1],G=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),U=G[0],V=G[1],q=r$4.useRef(null),Q=r$4.useRef([]),Z=r$4.useState([]),W=Z[0],X=Z[1],ue=function(){return!0},be=r$4.useCallback(function(){return R.get("targetPageFilter")||ue},[R.get("targetPageFilter")]),_e=function(De){var Ge=Q.current;if(Ge.length===0)return[];var Ie=[],Me=[].slice.call(De.querySelectorAll(".rpv-core__text-layer-text")),Te=Ge.map(function(et){return et.char}).join("");return K.forEach(function(et){var Ze=et.keyword;if(Ze.trim()){for(var ye,ae=et.regExp.flags.indexOf("g")===-1?new RegExp(et.regExp,"".concat(et.regExp.flags,"g")):et.regExp,ne=[];(ye=ae.exec(Te))!==null;)ne.push({keyword:ae,startIndex:ye.index,endIndex:ae.lastIndex});ne.map(function(fe){return{keyword:fe.keyword,indexes:Ge.slice(fe.startIndex,fe.endIndex)}}).forEach(function(fe){var Se=fe.indexes.reduce(function(Ee,ke){return Ee[ke.spanIndex]=(Ee[ke.spanIndex]||[]).concat([ke]),Ee},{});Object.values(Se).forEach(function(Ee){if(Ee.length!==1||Ee[0].char.trim()!==""){var ke=et.wholeWords?Ee.slice(1,-1):Ee,Fe=function(He,rt,Je,tt,ze){var oe=document.createRange(),le=tt.firstChild;if(!le||le.nodeType!==Node.TEXT_NODE)return null;var ve=le.textContent.length,Ae=ze[0].charIndexInSpan,ge=ze.length===1?Ae:ze[ze.length-1].charIndexInSpan;if(Ae>ve||ge+1>ve)return null;oe.setStart(le,Ae),oe.setEnd(le,ge+1);var we=document.createElement("span");oe.surroundContents(we);var Qe=we.getBoundingClientRect(),st=Je.getBoundingClientRect(),it=st.height,Ue=st.width,ht=100*(Qe.left-st.left)/Ue,lt=100*(Qe.top-st.top)/it,pt=100*Qe.height/it,Ct=100*Qe.width/Ue;return h$2(we),{keyword:rt,keywordStr:He,numPages:$,pageIndex:H,left:ht,top:lt,height:pt,width:Ct,pageHeight:it,pageWidth:Ue}}(Ze,fe.keyword,De,Me[ke[0].spanIndex],ke);Fe&&Ie.push(Fe)}})})}}),Ie.sort(d$3)},Pe=function(De){De&&De.length>0&&Y(De)},ce=function(De){return pe(De)},$e=function(De){if(De.has(H)){var Ge=De.get(H);Ge&&V({ele:Ge.ele,pageIndex:H,scale:Ge.scale,status:Ge.status})}},Xe=function(){return K.length===0||K.length===1&&K[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Xe()&&U.status===e$4.LayerRenderStatus.DidRender&&!Q.current.length){var De=U.ele,Ge=[].slice.call(De.querySelectorAll(".rpv-core__text-layer-text")).map(function(Ie){return Ie.textContent}).reduce(function(Ie,Me,Te){return Ie.concat(Me.split("").map(function(et,Ze){return{char:et,charIndexInSpan:Ze,spanIndex:Te}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);Q.current=Ge}},[K,U.status]),r$4.useEffect(function(){if(!Xe()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&be()({pageIndex:H,numPages:$})){var De=U.ele,Ge=_e(De);X(Ge)}},[K,te,U.status,Q.current]),r$4.useEffect(function(){Xe()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&X([])},[K,U.status]),r$4.useEffect(function(){if(W.length!==0){var De=ie.current;if(te.pageIndex===H&&De&&U.status===e$4.LayerRenderStatus.DidRender){var Ge=De.querySelector('.rpv-search__highlight[data-index="'.concat(te.matchIndex,'"]'));if(Ge){var Ie=function(Ze,ye){for(var ae=Ze.offsetTop,ne=Ze.offsetLeft,fe=Ze.parentElement;fe&&fe!==ye;)ae+=fe.offsetTop,ne+=fe.offsetLeft,fe=fe.parentElement;return{left:ne,top:ae}}(Ge,De),Me=Ie.left,Te=Ie.top,et=R.get("jumpToDestination");et&&(et(H,(De.getBoundingClientRect().height-Te)/U.scale,Me/U.scale,U.scale),q.current&&q.current.classList.remove("rpv-search__highlight--current"),q.current=Ge,Ge.classList.add("rpv-search__highlight--current"))}}}},[W,te]),r$4.useEffect(function(){return R.subscribe("keyword",Pe),R.subscribe("matchPosition",ce),R.subscribe("renderStatus",$e),function(){R.unsubscribe("keyword",Pe),R.unsubscribe("matchPosition",ce),R.unsubscribe("renderStatus",$e)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:ie},he({getCssProperties:i$4,highlightAreas:W}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,O=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),O),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),O=r$4.useMemo(function(){if(H&&H.length===1){var ce=g$2(H[0]);return{matchCase:ce.regExp.flags.indexOf("i")===-1,wholeWords:ce.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),R=function(ce){var $e=r$4.useRef(ce.get("doc")),Xe=function(De){$e.current=De};return r$4.useEffect(function(){return ce.subscribe("doc",Xe),function(){ce.unsubscribe("doc",Xe)}},[]),$e}(A),B=r$4.useState(H),ie=B[0],se=B[1],he=r$4.useState([]),re=he[0],te=he[1],pe=r$4.useState(0),J=pe[0],K=pe[1],Y=r$4.useState(O.matchCase),G=Y[0],U=Y[1],V=r$4.useRef([]),q=r$4.useState(O.wholeWords),Q=q[0],Z=q[1],W=function(){return!0},X=r$4.useCallback(function(){return A.get("targetPageFilter")||W},[A.get("targetPageFilter")]),ue=function(ce){var $e=re.length;if(ie.length===0||$e===0)return null;var Xe=ce===$e+1?1:Math.max(1,Math.min($e,ce));return K(Xe),_e(re[Xe-1])},be=function(ce){return se(ce===""?[]:[ce])},_e=function(ce){var $e=A.get("jumpToPage");return $e&&$e(ce.pageIndex),A.update("matchPosition",{matchIndex:ce.matchIndex,pageIndex:ce.pageIndex}),ce},Pe=function(ce,$e,Xe){var De=R.current;if(!De)return Promise.resolve([]);var Ge=De.numPages,Ie=ce.map(function(Me){return g$2(Me,$e,Xe)});return A.update("keyword",Ie),K(0),te([]),new Promise(function(Me,Te){var et=V.current.length===0?function(){var Ze=R.current;if(!Ze)return Promise.resolve([]);var ye=Array(Ze.numPages).fill(0).map(function(ae,ne){return e$4.getPage(Ze,ne).then(function(fe){return fe.getTextContent()}).then(function(fe){var Se=fe.items.map(function(Ee){return Ee.str||""}).join("");return Promise.resolve({pageContent:Se,pageIndex:ne})})});return Promise.all(ye).then(function(ae){return ae.sort(function(ne,fe){return ne.pageIndex-fe.pageIndex}),Promise.resolve(ae.map(function(ne){return ne.pageContent}))})}().then(function(Ze){return V.current=Ze,Promise.resolve(Ze)}):Promise.resolve(V.current);et.then(function(Ze){var ye=[];Ze.forEach(function(ae,ne){X()({pageIndex:ne,numPages:Ge})&&Ie.forEach(function(fe){for(var Se,Ee=0;(Se=fe.regExp.exec(ae))!==null;)ye.push({keyword:fe.regExp,matchIndex:Ee,pageIndex:ne,pageText:ae,startIndex:Se.index,endIndex:fe.regExp.lastIndex}),Ee++})}),te(ye),ye.length>0&&(K(1),_e(ye[0])),Me(ye)})})};return r$4.useEffect(function(){V.current=[]},[R.current]),{clearKeyword:function(){A.update("keyword",[u$4]),be(""),K(0),te([]),U(!1),Z(!1)},changeMatchCase:function(ce){U(ce),ie.length>0&&Pe(ie,ce,Q)},changeWholeWords:function(ce){Z(ce),ie.length>0&&Pe(ie,G,ce)},currentMatch:J,jumpToMatch:ue,jumpToNextMatch:function(){return ue(J+1)},jumpToPreviousMatch:function(){return ue(J-1)},keywords:ie,matchCase:G,numberOfMatches:re.length,wholeWords:Q,search:function(){return Pe(ie,G,Q)},searchFor:Pe,setKeywords:se,keyword:ie.length===0?"":($=ie[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:be,setTargetPages:function(ce){A.update("targetPageFilter",ce)}}},v$2=function(A){var $=A.children,H=A.store,O=m$3(H),R=r$4.useState(!1),B=R[0],ie=R[1],se=function(he){return ie(!0)};return r$4.useEffect(function(){return H.subscribe("doc",se),function(){H.unsubscribe("doc",se)}},[]),$(c$4(c$4({},O),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,O=r$4.useRef(!1),R=function(){O.current=!0},B=function(){O.current=!1},ie=function(se){var he=$.current;he&&(se.shiftKey||se.altKey||se.key!=="f"||(e$4.isMac()?se.metaKey&&!se.ctrlKey:se.ctrlKey)&&(O.current||document.activeElement&&he.contains(document.activeElement))&&(se.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var se=$.current;if(se)return document.addEventListener("keydown",ie),se.addEventListener("mouseenter",R),se.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",ie),se.removeEventListener("mouseenter",R),se.removeEventListener("mouseleave",B)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,O=r$4.useContext(e$4.LocalizationContext).l10n,R=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),ie=B[0],se=B[1],he=r$4.useState(!1),re=he[0],te=he[1],pe=R===e$4.TextDirection.RightToLeft,J=m$3($),K=J.clearKeyword,Y=J.changeMatchCase,G=J.changeWholeWords,U=J.currentMatch,V=J.jumpToNextMatch,q=J.jumpToPreviousMatch,Q=J.keyword,Z=J.matchCase,W=J.numberOfMatches,X=J.wholeWords,ue=J.search,be=J.setKeyword,_e=function(De){se(!0),ue().then(function(Ge){se(!1),te(!0),De&&De()})};r$4.useEffect(function(){var De=$.get("initialKeyword");De&&De.length===1&&Q&&_e(function(){$.update("initialKeyword",[])})},[]);var Pe=O&&O.search?O.search.enterToSearch:"Enter to search",ce=O&&O.search?O.search.previousMatch:"Previous match",$e=O&&O.search?O.search.nextMatch:"Next match",Xe=O&&O.search?O.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:Pe,autoFocus:!0,placeholder:Pe,type:"text",value:Q,onChange:function(De){te(!1),be(De)},onKeyDown:function(De){De.key==="Enter"&&Q&&(re?V():_e())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!pe,"rpv-search__popover-counter--rtl":pe})},ie&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!ie&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",W))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:Z,type:"checkbox",onChange:function(De){te(!1),Y(De.target.checked)}})," ",O&&O.search?O.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:X,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(De){te(!1),G(De.target.checked)}})," ",O&&O.search?O.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:pe?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ce,isDisabled:U<=1,onClick:q},r$4.createElement(o$4,null)),content:function(){return ce},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:$e,isDisabled:U>W-1,onClick:V},r$4.createElement(n$4,null)),content:function(){return $e},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!pe,"rpv-search__popover-footer-button--rtl":pe})},r$4.createElement(e$4.Button,{onClick:function(){H(),K()}},Xe))))},w=function(A){var $=A.children,H=A.onClick,O=r$4.useContext(e$4.LocalizationContext).l10n,R=O&&O.search?O.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:R,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,O=A.onClick,R=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(ie){ie&&O()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:O},function(ie){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:ie.label,testId:"search__popover-button",onClick:O},ie.icon),content:function(){return ie.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=$||function(ie){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:O},ie))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:R,target:function(ie){return B({onClick:ie})},content:function(ie){return r$4.createElement(E$2,{store:O,onToggle:ie})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),O=m$3(H),R=O.clearKeyword,B=O.jumpToMatch,ie=O.jumpToNextMatch,se=O.jumpToPreviousMatch,he=O.searchFor,re=O.setKeywords,te=O.setTargetPages,pe=function(J){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},J,{store:H}))};return{install:function(J){var K=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],Y=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",K),H.update("jumpToDestination",J.jumpToDestination),H.update("jumpToPage",J.jumpToPage),H.update("keyword",Y)},renderPageLayer:function(J){return r$4.createElement(f$3,{key:J.pageIndex,numPages:J.doc.numPages,pageIndex:J.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(J){var K=J.slot;return K.subSlot&&(K.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:J.containerRef,store:H}),K.subSlot.children)),K},uninstall:function(J){var K=H.get("renderStatus");K&&K.clear()},onDocumentLoad:function(J){H.update("doc",J.doc)},onTextLayerRender:function(J){var K=H.get("renderStatus");K&&(K=K.set(J.pageIndex,J),H.update("renderStatus",K))},Search:function(J){return r$4.createElement(v$2,c$4({},J,{store:H}))},ShowSearchPopover:pe,ShowSearchPopoverButton:function(){return r$4.createElement(pe,null,function(J){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},J))})},clearHighlights:function(){R()},highlight:function(J){var K=Array.isArray(J)?J:[J];return re(K),he(K)},jumpToMatch:B,jumpToNextMatch:ie,jumpToPreviousMatch:se,setTargetPages:te}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=search_min})(lib$2);var libExports$1={},lib$1={get exports(){return libExports$1},set exports(A){libExports$1=A}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),O=n$3.useContext(e$3.LocalizationContext).l10n,R=H.currentTheme==="dark",B=O&&O.theme?R?O.theme.switchLightTheme:O.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},R?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(O){return n$3.createElement(i$3,{onClick:O.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),O=n$3.useContext(e$3.LocalizationContext).l10n,R=H.currentTheme==="dark",B=O&&O.theme?R?O.theme.switchLightTheme:O.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:R?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=theme_min})(lib$1);var libExports={},lib={get exports(){return libExports},set exports(A){libExports=A}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],O=$[1],R=function(B){O(B)};return n$2.useEffect(function(){return A.subscribe("scale",R),function(){A.unsubscribe("scale",R)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(O){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*O.scale),"%"))})({scale:a$2(H).scale})},i$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],l$2=function(A){return i$2.find(function($){return $>A})||A},m$2=function(A){var $=i$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:i$2[$-1]},s$2=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&(e$2.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var ie=H.get("zoom");if(ie){var se=H.get("scale")||1,he=1;switch(R.key){case"-":he=m$2(se);break;case"=":he=l$2(se);break;case"0":he=1;break;default:he=se}he!==se&&(R.preventDefault(),ie(he))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$2.createElement(n$2.Fragment,null)},f$2=[.5,.75,1,1.25,1.5,2,3,4],v$1={left:0,top:8},p$1=function(A){var $=A.levels,H=$===void 0?f$2:$,O=A.scale,R=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,ie=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,se=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(he){return n$2.createElement(e$2.MinimalButton,{ariaLabel:se,testId:"zoom__popover-target",onClick:function(){he()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!ie,"rpv-zoom__popover-target-scale--rtl":ie})},Math.round(100*O),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(he){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(re){var te=re;return n$2.createElement(e$2.MenuItem,{key:te,onClick:function(){he(),R(te)}},function(pe){switch(pe){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(te))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(re){return n$2.createElement(e$2.MenuItem,{key:re,onClick:function(){he(),R(re)}},"".concat(Math.round(100*re),"%"))}))},offset:v$1,closeOnClickOutside:!0,closeOnEscape:!0})},z=function(A){var $=A.children,H=A.levels,O=A.store;return($||function(R){return n$2.createElement(p$1,{levels:H,scale:R.scale,onZoom:R.onZoom})})({scale:a$2(O).scale,onZoom:function(R){var B=O.get("zoom");B&&B(R)}})},E$1={left:0,top:8},d$2=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$2.useContext(e$2.LocalizationContext).l10n,R=O&&O.zoom?O.zoom.zoomIn:"Zoom in",B=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return R},offset:E$1})},C=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=a$2(O).scale;return($||d$2)({enableShortcuts:H,onClick:function(){var B=O.get("zoom");B&&B(l$2(R))}})},h$1=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,O=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},O)},g$1={left:0,top:8},b$1=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$2.useContext(e$2.LocalizationContext).l10n,R=O&&O.zoom?O.zoom.zoomOut:"Zoom out",B=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return R},offset:g$1})},k=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=a$2(O).scale;return($||b$1)({enableShortcuts:H,onClick:function(){var B=O.get("zoom");B&&B(m$2(R))}})},S$1=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,O=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},O)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),O=function(ie){return n$2.createElement(C,c$2({enableShortcuts:$.enableShortcuts},ie,{store:H}))},R=function(ie){return n$2.createElement(k,c$2({enableShortcuts:$.enableShortcuts},ie,{store:H}))},B=function(ie){return n$2.createElement(z,c$2({},ie,{store:H}))};return{renderViewer:function(ie){var se=ie.slot;if(!$.enableShortcuts)return se;var he={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(s$2,{containerRef:ie.containerRef,store:H}),se.children)};return c$2(c$2({},se),he)},install:function(ie){H.update("zoom",ie.zoom)},onViewerStateChange:function(ie){return H.update("scale",ie.scale),ie},zoomTo:function(ie){var se=H.get("zoom");se&&se(ie)},CurrentScale:function(ie){return n$2.createElement(u$2,c$2({},ie,{store:H}))},ZoomIn:O,ZoomInButton:function(){return n$2.createElement(O,null,function(ie){return n$2.createElement(d$2,c$2({},ie))})},ZoomInMenuItem:function(ie){return n$2.createElement(O,null,function(se){return n$2.createElement(h$1,{onClick:function(){se.onClick(),ie.onClick()}})})},ZoomOut:R,ZoomOutButton:function(){return n$2.createElement(R,null,function(ie){return n$2.createElement(b$1,c$2({},ie))})},ZoomOutMenuItem:function(ie){return n$2.createElement(R,null,function(se){return n$2.createElement(S$1,{onClick:function(){se.onClick(),ie.onClick()}})})},Zoom:B,ZoomPopover:function(ie){return n$2.createElement(B,null,function(se){return n$2.createElement(p$1,c$2({levels:ie==null?void 0:ie.levels},se))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=zoom_min})(lib);var e$1=libExports$h,t$1=libExports$b,r$1=reactExports,n$1=libExports$a,o$1=libExports$9,a$1=libExports$8,l$1=libExports$7,i$1=libExports$6,c$1=libExports$5,m$1=libExports$4,u$1=libExports$3,s$1=libExports$2,d$1=libExports$1,p=libExports;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,O=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,R=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,ie=$.GoToFirstPageMenuItem,se=$.GoToLastPageMenuItem,he=$.GoToNextPageMenuItem,re=$.GoToPreviousPageMenuItem,te=$.OpenMenuItem,pe=$.PrintMenuItem,J=$.RotateBackwardMenuItem,K=$.RotateForwardMenuItem,Y=$.ShowPropertiesMenuItem,G=$.SwitchScrollModeMenuItem,U=$.SwitchSelectionModeMenuItem,V=$.SwitchViewModeMenuItem,q=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:O,target:function(Q,Z){var W=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:O,target:_.createElement(e$1.MinimalButton,{ariaLabel:W,isSelected:Z,testId:"toolbar__more-actions-popover-target",onClick:Q},_.createElement(E,null)),content:function(){return W},offset:g})},content:function(Q){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(q,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(te,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(pe,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(ie,{onClick:Q}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(re,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(he,{onClick:Q})),_.createElement(se,{onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement(K,{onClick:Q}),_.createElement(J,{onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement(U,{mode:t$1.SelectionMode.Text,onClick:Q}),_.createElement(U,{mode:t$1.SelectionMode.Hand,onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:e$1.ScrollMode.Page,onClick:Q}),_.createElement(G,{mode:e$1.ScrollMode.Vertical,onClick:Q}),_.createElement(G,{mode:e$1.ScrollMode.Horizontal,onClick:Q}),_.createElement(G,{mode:e$1.ScrollMode.Wrapped,onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(V,{mode:e$1.ViewMode.SinglePage,onClick:Q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(V,{mode:e$1.ViewMode.DualPage,onClick:Q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(V,{mode:e$1.ViewMode.DualPageWithCover,onClick:Q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(Y,{onClick:Q}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),O=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,R=H.CurrentPageInput,B=H.Download,ie=H.EnterFullScreen,se=H.GoToNextPage,he=H.GoToPreviousPage,re=H.NumberOfPages,te=H.Open,pe=H.Print,J=H.ShowSearchPopover,K=H.SwitchTheme,Y=H.Zoom,G=H.ZoomIn,U=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":O}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(he,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(re,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(se,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Y,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(K,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ie,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(te,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),O=a$1.openPlugin(A?A.openPlugin:{}),R=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),ie=c$1.propertiesPlugin(),se=m$1.rotatePlugin(),he=u$1.scrollModePlugin(),re=s$1.searchPlugin(A?A.searchPlugin:{}),te=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),pe=d$1.themePlugin(),J=p.zoomPlugin(A?A.zoomPlugin:{}),K=[$,H,O,R,B,ie,se,he,re,te,pe,J],Y=_.useCallback(function(G){var U=$.EnterFullScreen,V=$.EnterFullScreenMenuItem,q=H.Download,Q=H.DownloadMenuItem,Z=O.Open,W=O.OpenMenuItem,X=R.CurrentPageInput,ue=R.CurrentPageLabel,be=R.GoToFirstPage,_e=R.GoToFirstPageMenuItem,Pe=R.GoToLastPage,ce=R.GoToLastPageMenuItem,$e=R.GoToNextPage,Xe=R.GoToNextPageMenuItem,De=R.GoToPreviousPage,Ge=R.GoToPreviousPageMenuItem,Ie=R.NumberOfPages,Me=B.Print,Te=B.PrintMenuItem,et=ie.ShowProperties,Ze=ie.ShowPropertiesMenuItem,ye=se.Rotate,ae=se.RotateBackwardMenuItem,ne=se.RotateForwardMenuItem,fe=he.SwitchScrollMode,Se=he.SwitchScrollModeMenuItem,Ee=he.SwitchViewMode,ke=he.SwitchViewModeMenuItem,Fe=re.Search,He=re.ShowSearchPopover,rt=te.SwitchSelectionMode,Je=te.SwitchSelectionModeMenuItem,tt=pe.SwitchTheme,ze=pe.SwitchThemeMenuItem,oe=J.CurrentScale,le=J.Zoom,ve=J.ZoomIn,Ae=J.ZoomInMenuItem,ge=J.ZoomOut,we=J.ZoomOutMenuItem;return _.createElement(I,M({},G,{slot:{CurrentPageInput:X,CurrentPageLabel:ue,CurrentScale:oe,Download:q,DownloadMenuItem:Q,EnterFullScreen:U,EnterFullScreenMenuItem:V,GoToFirstPage:be,GoToFirstPageMenuItem:_e,GoToLastPage:Pe,GoToLastPageMenuItem:ce,GoToNextPage:$e,GoToNextPageMenuItem:Xe,GoToPreviousPage:De,GoToPreviousPageMenuItem:Ge,NumberOfPages:Ie,Open:Z,OpenMenuItem:W,Print:Me,PrintMenuItem:Te,Rotate:ye,RotateBackwardMenuItem:ae,RotateForwardMenuItem:ne,Search:Fe,ShowProperties:et,ShowPropertiesMenuItem:Ze,ShowSearchPopover:He,SwitchScrollMode:fe,SwitchScrollModeMenuItem:Se,SwitchSelectionMode:rt,SwitchSelectionModeMenuItem:Je,SwitchViewMode:Ee,SwitchViewModeMenuItem:ke,SwitchTheme:tt,SwitchThemeMenuItem:ze,Zoom:le,ZoomIn:ve,ZoomInMenuItem:Ae,ZoomOut:ge,ZoomOutMenuItem:we}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:O,pageNavigationPluginInstance:R,printPluginInstance:B,propertiesPluginInstance:ie,rotatePluginInstance:se,scrollModePluginInstance:he,searchPluginInstance:re,selectionModePluginInstance:te,themePluginInstance:pe,zoomPluginInstance:J,install:function(G){K.forEach(function(U){U.install&&U.install(G)})},renderPageLayer:function(G){return _.createElement(_.Fragment,null,K.map(function(U,V){return U.renderPageLayer?_.createElement(_.Fragment,{key:V},U.renderPageLayer(G)):_.createElement(_.Fragment,{key:V})}))},renderViewer:function(G){var U=G.slot;return K.forEach(function(V){V.renderViewer&&(U=V.renderViewer(M(M({},G),{slot:U})))}),U},uninstall:function(G){K.forEach(function(U){U.uninstall&&U.uninstall(G)})},onDocumentLoad:function(G){K.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(G)})},onAnnotationLayerRender:function(G){K.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(G)})},onTextLayerRender:function(G){K.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(G)})},onViewerStateChange:function(G){var U=G;return K.forEach(function(V){V.onViewerStateChange&&(U=V.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:Y}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=toolbar_min})(lib$c);var e=libExports$h,t=reactExports,n=libExports$f,a=libExports$e,r=libExports$d,o=libExports$c;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,O=A.store,R=A.thumbnailTabContent,B=A.tabs,ie=u.useRef(),se=u.useContext(e.LocalizationContext).l10n,he=u.useState(O.get("isCurrentTabOpened")||!1),re=he[0],te=he[1],pe=u.useState(Math.max(O.get("currentTab")||0,0)),J=pe[0],K=pe[1],Y=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,G=[{content:R,icon:u.createElement(d,null),title:se&&se.defaultLayout?se.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:se&&se.defaultLayout?se.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:se&&se.defaultLayout?se.defaultLayout.attachment:"Attachment"}],U=B?B(G):G,V=function(Q){Q>=0&&Q<=U.length-1&&(O.update("isCurrentTabOpened",!0),K(Q))},q=function(Q){te(Q)};return u.useEffect(function(){return O.subscribe("currentTab",V),O.subscribe("isCurrentTabOpened",q),function(){O.unsubscribe("currentTab",V),O.unsubscribe("isCurrentTabOpened",q)}},[]),U.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":re,"rpv-default-layout__sidebar--ltr":!Y,"rpv-default-layout__sidebar--rtl":Y}),ref:ie},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},U.map(function(Q,Z){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":J===Z,key:Z,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(Z),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(Z),position:Y?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:Q.title,isSelected:J===Z,onClick:function(){return function(W){if(J===W){O.update("isCurrentTabOpened",!O.get("isCurrentTabOpened"));var X=ie.current;X&&X.style.width&&X.style.removeProperty("width")}else O.update("currentTab",W)}(Z)}},Q.icon),content:function(){return Q.title},offset:Y?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(J),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":re,"rpv-default-layout__sidebar-content--ltr":!Y,"rpv-default-layout__sidebar-content--rtl":Y}),role:"tabpanel",tabIndex:-1},U[J].content))),re&&u.createElement(e.Splitter,{constrain:function(Q){return Q.firstHalfPercentage>=20&&Q.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),O=a.bookmarkPlugin(),R=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),ie=H.Attachments,se=O.Bookmarks,he=R.Thumbnails,re=B.Toolbar,te=A?A.sidebarTabs:function(J){return J},pe=[H,O,R,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:O,thumbnailPluginInstance:R,toolbarPluginInstance:B,activateTab:function(J){$.update("currentTab",J)},toggleTab:function(J){var K=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),K!==J&&$.update("currentTab",J)},install:function(J){pe.forEach(function(K){K.install&&K.install(J)})},renderPageLayer:function(J){return u.createElement(u.Fragment,null,pe.map(function(K,Y){return K.renderPageLayer?u.createElement(u.Fragment,{key:Y},K.renderPageLayer(J)):u.createElement(u.Fragment,{key:Y},u.createElement(u.Fragment,null))}))},renderViewer:function(J){var K=J.slot;pe.forEach(function(G){G.renderViewer&&(K=G.renderViewer(i(i({},J),{slot:K})))});var Y=K.subSlot&&K.subSlot.attrs?{className:K.subSlot.attrs.className,"data-testid":K.subSlot.attrs["data-testid"],ref:K.subSlot.attrs.ref,style:K.subSlot.attrs.style}:{};return K.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":J.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(ie,null),bookmarkTabContent:u.createElement(se,null),store:$,thumbnailTabContent:u.createElement(he,null),tabs:te}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(re):u.createElement(re,null)),u.createElement("div",i({},Y),K.subSlot.children))),K.children),K.subSlot.attrs={},K.subSlot.children=u.createElement(u.Fragment,null),K},uninstall:function(J){pe.forEach(function(K){K.uninstall&&K.uninstall(J)})},onDocumentLoad:function(J){pe.forEach(function(K){K.onDocumentLoad&&K.onDocumentLoad(J)}),A&&A.setInitialTab&&A.setInitialTab(J.doc).then(function(K){$.update("currentTab",K),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(J){pe.forEach(function(K){K.onAnnotationLayerRender&&K.onAnnotationLayerRender(J)})},onTextLayerRender:function(J){pe.forEach(function(K){K.onTextLayerRender&&K.onTextLayerRender(J)})},onViewerStateChange:function(J){var K=J;return pe.forEach(function(Y){Y.onViewerStateChange&&(K=Y.onViewerStateChange(K))}),K}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(O){if(O)switch(O){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=defaultLayout_min})(lib$g);export{libExports$7 as a,libExports$9 as b,libExports$h as c,cx as d,disableBodyScroll as e,enableBodyScroll as f,libExports$g as l};
