var la=Object.defineProperty;var ua=(A,$,H)=>$ in A?la(A,$,{enumerable:!0,configurable:!0,writable:!0,value:H}):A[$]=H;var gn=(A,$,H)=>(ua(A,typeof $!="symbol"?$+"":$,H),H),Tr=(A,$,H)=>{if(!$.has(A))throw TypeError("Cannot "+H)};var me=(A,$,H)=>(Tr(A,$,"read from private field"),H?H.call(A):$.get(A)),at=(A,$,H)=>{if($.has(A))throw TypeError("Cannot add the same private member more than once");$ instanceof WeakSet?$.add(A):$.set(A,H)},St=(A,$,H,O)=>(Tr(A,$,"write to private field"),O?O.call(A,H):$.set(A,H),H),Mr=(A,$,H,O)=>({set _(R){St(A,$,R,H)},get _(){return me(A,$,O)}}),ft=(A,$,H)=>(Tr(A,$,"access private method"),H);import{b as React,r as reactExports,R as ReactDom,i as require$$5,e as reactDomExports}from"./app-16b6fe95.js";var classnamesExports={},classnames={get exports(){return classnamesExports},set exports(A){classnamesExports=A}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(A){(function(){var $={}.hasOwnProperty;function H(){for(var O=[],R=0;R<arguments.length;R++){var B=arguments[R];if(B){var ee=typeof B;if(ee==="string"||ee==="number")O.push(B);else if(Array.isArray(B)){if(B.length){var se=H.apply(null,B);se&&O.push(se)}}else if(ee==="object"){if(B.toString!==Object.prototype.toString&&!B.toString.toString().includes("[native code]")){O.push(B.toString());continue}for(var de in B)$.call(B,de)&&B[de]&&O.push(de)}}}return O.join(" ")}A.exports?(H.default=H,A.exports=H):window.classNames=H})()})(classnames);const cx=classnamesExports;function _toConsumableArray(A){if(Array.isArray(A)){for(var $=0,H=Array(A.length);$<A.length;$++)H[$]=A[$];return H}else return Array.from(A)}var hasPassiveEvents=!1;if(typeof window<"u"){var passiveTestOptions={get passive(){hasPassiveEvents=!0}};window.addEventListener("testPassive",null,passiveTestOptions),window.removeEventListener("testPassive",null,passiveTestOptions)}var isIosDevice=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),locks=[],documentListenerAdded=!1,initialClientY=-1,previousBodyOverflowSetting=void 0,previousBodyPaddingRight=void 0,allowTouchMove=function($){return locks.some(function(H){return!!(H.options.allowTouchMove&&H.options.allowTouchMove($))})},preventDefault=function($){var H=$||window.event;return allowTouchMove(H.target)||H.touches.length>1?!0:(H.preventDefault&&H.preventDefault(),!1)},setOverflowHidden=function($){if(previousBodyPaddingRight===void 0){var H=!!$&&$.reserveScrollBarGap===!0,O=window.innerWidth-document.documentElement.clientWidth;H&&O>0&&(previousBodyPaddingRight=document.body.style.paddingRight,document.body.style.paddingRight=O+"px")}previousBodyOverflowSetting===void 0&&(previousBodyOverflowSetting=document.body.style.overflow,document.body.style.overflow="hidden")},restoreOverflowSetting=function(){previousBodyPaddingRight!==void 0&&(document.body.style.paddingRight=previousBodyPaddingRight,previousBodyPaddingRight=void 0),previousBodyOverflowSetting!==void 0&&(document.body.style.overflow=previousBodyOverflowSetting,previousBodyOverflowSetting=void 0)},isTargetElementTotallyScrolled=function($){return $?$.scrollHeight-$.scrollTop<=$.clientHeight:!1},handleScroll=function($,H){var O=$.targetTouches[0].clientY-initialClientY;return allowTouchMove($.target)?!1:H&&H.scrollTop===0&&O>0||isTargetElementTotallyScrolled(H)&&O<0?preventDefault($):($.stopPropagation(),!0)},disableBodyScroll=function($,H){if(!$){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!locks.some(function(R){return R.targetElement===$})){var O={targetElement:$,options:H||{}};locks=[].concat(_toConsumableArray(locks),[O]),isIosDevice?($.ontouchstart=function(R){R.targetTouches.length===1&&(initialClientY=R.targetTouches[0].clientY)},$.ontouchmove=function(R){R.targetTouches.length===1&&handleScroll(R,$)},documentListenerAdded||(document.addEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!0)):setOverflowHidden(H)}},enableBodyScroll=function($){if(!$){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}locks=locks.filter(function(H){return H.targetElement!==$}),isIosDevice?($.ontouchstart=null,$.ontouchmove=null,documentListenerAdded&&locks.length===0&&(document.removeEventListener("touchmove",preventDefault,hasPassiveEvents?{passive:!1}:void 0),documentListenerAdded=!1)):locks.length||restoreOverflowSetting()};function s$a(A=null){let[$,H]=React.useState(A);const{current:O}=React.useRef({current:$});return Object.defineProperty(O,"current",{get:()=>$,set:R=>{Object.is($,R)||($=R,H(R))}}),O}function o$e(A,$={isStateful:!0}){const H=s$a(null),O=reactExports.useRef(null),R=$.isStateful?H:O;return React.useEffect(()=>{!A||(typeof A=="function"?A(R.current):A.current=R.current)}),R}function _extends(){return _extends=Object.assign||function(A){for(var $=1;$<arguments.length;$++){var H=arguments[$];for(var O in H)Object.prototype.hasOwnProperty.call(H,O)&&(A[O]=H[O])}return A},_extends.apply(this,arguments)}var CloseIcon=function($){var H=$.classes,O=$.classNames,R=$.styles,B=$.id,ee=$.closeIcon,se=$.onClick;return React.createElement("button",{id:B,className:cx(H.closeButton,O==null?void 0:O.closeButton),style:R==null?void 0:R.closeButton,onClick:se,"data-testid":"close-button"},ee||React.createElement("svg",{className:O==null?void 0:O.closeIcon,style:R==null?void 0:R.closeIcon,width:28,height:28,viewBox:"0 0 36 36","data-testid":"close-icon"},React.createElement("path",{d:"M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"})))},isBrowser=typeof window<"u",candidateSelectors=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'];function isHidden(A){return A.offsetParent===null||getComputedStyle(A).visibility==="hidden"}function getCheckedRadio(A,$){for(var H=0;H<A.length;H++)if(A[H].checked&&A[H].form===$)return A[H]}function isNotRadioOrTabbableRadio(A){if(A.tagName!=="INPUT"||A.type!=="radio"||!A.name)return!0;var $=A.form||A.ownerDocument,H=$.querySelectorAll('input[type="radio"][name="'+A.name+'"]'),O=getCheckedRadio(H,A.form);return O===A||O===void 0&&H[0]===A}function getAllTabbingElements(A){for(var $=document.activeElement,H=A.querySelectorAll(candidateSelectors.join(",")),O=[],R=0;R<H.length;R++){var B=H[R];($===B||!B.disabled&&getTabindex(B)>-1&&!isHidden(B)&&isNotRadioOrTabbableRadio(B))&&O.push(B)}return O}function tabTrappingKey(A,$){if(!(!A||A.key!=="Tab")){if(!$||!$.contains)return process,!1;if(!$.contains(A.target))return!1;var H=getAllTabbingElements($),O=H[0],R=H[H.length-1];return A.shiftKey&&A.target===O?(R.focus(),A.preventDefault(),!0):!A.shiftKey&&A.target===R?(O.focus(),A.preventDefault(),!0):!1}}function getTabindex(A){var $=parseInt(A.getAttribute("tabindex"),10);return isNaN($)?isContentEditable(A)?0:A.tabIndex:$}function isContentEditable(A){return A.getAttribute("contentEditable")}var FocusTrap=function($){var H=$.container,O=$.initialFocusRef,R=reactExports.useRef();return reactExports.useEffect(function(){var B=function(ie){H!=null&&H.current&&tabTrappingKey(ie,H.current)};if(isBrowser&&document.addEventListener("keydown",B),isBrowser&&(H!=null&&H.current)){var ee=function(){candidateSelectors.findIndex(function(ie){var ne;return(ne=document.activeElement)==null?void 0:ne.matches(ie)})!==-1&&(R.current=document.activeElement)};if(O)ee(),requestAnimationFrame(function(){var de;(de=O.current)==null||de.focus()});else{var se=getAllTabbingElements(H.current);se[0]&&(ee(),se[0].focus())}}return function(){if(isBrowser){var de;document.removeEventListener("keydown",B),(de=R.current)==null||de.focus()}}},[H,O]),null},modals=[],modalManager={add:function($){modals.push($)},remove:function($){modals=modals.filter(function(H){return H!==$})},isTopModal:function($){return!!modals.length&&modals[modals.length-1]===$}};function useModalManager(A,$){reactExports.useEffect(function(){return $&&modalManager.add(A),function(){modalManager.remove(A)}},[$,A])}var useScrollLock=function($,H,O,R,B){var ee=reactExports.useRef(null);reactExports.useEffect(function(){return H&&$.current&&R&&(ee.current=$.current,disableBodyScroll($.current,{reserveScrollBarGap:B})),function(){ee.current&&(enableBodyScroll(ee.current),ee.current=null)}},[H,O,$,R,B])},classes={root:"react-responsive-modal-root",overlay:"react-responsive-modal-overlay",overlayAnimationIn:"react-responsive-modal-overlay-in",overlayAnimationOut:"react-responsive-modal-overlay-out",modalContainer:"react-responsive-modal-container",modalContainerCenter:"react-responsive-modal-containerCenter",modal:"react-responsive-modal-modal",modalAnimationIn:"react-responsive-modal-modal-in",modalAnimationOut:"react-responsive-modal-modal-out",closeButton:"react-responsive-modal-closeButton"},Modal=React.forwardRef(function(A,$){var H,O,R,B,ee=A.open,se=A.center,de=A.blockScroll,ie=de===void 0?!0:de,ne=A.closeOnEsc,pe=ne===void 0?!0:ne,J=A.closeOnOverlayClick,K=J===void 0?!0:J,Y=A.container,G=A.showCloseIcon,U=G===void 0?!0:G,V=A.closeIconId,q=A.closeIcon,Q=A.focusTrapped,Z=Q===void 0?!0:Q,W=A.initialFocusRef,X=W===void 0?void 0:W,ue=A.animationDuration,_e=ue===void 0?300:ue,be=A.classNames,we=A.styles,ce=A.role,$e=ce===void 0?"dialog":ce,Xe=A.ariaDescribedby,De=A.ariaLabelledby,Ge=A.containerId,Fe=A.modalId,xe=A.onClose,Te=A.onEscKeyDown,et=A.onOverlayClick,Ke=A.onAnimationEnd,ye=A.children,oe=A.reserveScrollBarGap,re=o$e($),fe=reactExports.useRef(null),Se=reactExports.useRef(null),Ee=reactExports.useRef(null);Ee.current===null&&isBrowser&&(Ee.current=document.createElement("div"));var Pe=reactExports.useState(!1),Oe=Pe[0],He=Pe[1];useModalManager(fe,ee),useScrollLock(fe,ee,Oe,ie,oe);var rt=function(){Ee.current&&!Y&&!document.body.contains(Ee.current)&&document.body.appendChild(Ee.current),document.addEventListener("keydown",tt)},Ze=function(){Ee.current&&!Y&&document.body.contains(Ee.current)&&document.body.removeChild(Ee.current),document.removeEventListener("keydown",tt)},tt=function(Je){Je.keyCode!==27||!modalManager.isTopModal(fe)||(Te==null||Te(Je),pe&&xe())};reactExports.useEffect(function(){return function(){Oe&&Ze()}},[Oe]),reactExports.useEffect(function(){ee&&!Oe&&(He(!0),rt())},[ee]);var ze=function(Je){if(Se.current===null&&(Se.current=!0),!Se.current){Se.current=null;return}et==null||et(Je),K&&xe(),Se.current=null},ae=function(){Se.current=!1},le=function(){ee||He(!1),Ke==null||Ke()},ve=Y||Ee.current,Ce=ee?(H=be==null?void 0:be.overlayAnimationIn)!=null?H:classes.overlayAnimationIn:(O=be==null?void 0:be.overlayAnimationOut)!=null?O:classes.overlayAnimationOut,ge=ee?(R=be==null?void 0:be.modalAnimationIn)!=null?R:classes.modalAnimationIn:(B=be==null?void 0:be.modalAnimationOut)!=null?B:classes.modalAnimationOut;return Oe&&ve?ReactDom.createPortal(React.createElement("div",{className:cx(classes.root,be==null?void 0:be.root),style:we==null?void 0:we.root,"data-testid":"root"},React.createElement("div",{className:cx(classes.overlay,be==null?void 0:be.overlay),"data-testid":"overlay","aria-hidden":!0,style:_extends({animation:Ce+" "+_e+"ms"},we==null?void 0:we.overlay)}),React.createElement("div",{ref:fe,id:Ge,className:cx(classes.modalContainer,se&&classes.modalContainerCenter,be==null?void 0:be.modalContainer),style:we==null?void 0:we.modalContainer,"data-testid":"modal-container",onClick:ze},React.createElement("div",{ref:re,className:cx(classes.modal,be==null?void 0:be.modal),style:_extends({animation:ge+" "+_e+"ms"},we==null?void 0:we.modal),onMouseDown:ae,onMouseUp:ae,onClick:ae,onAnimationEnd:le,id:Fe,role:$e,"aria-modal":"true","aria-labelledby":De,"aria-describedby":Xe,"data-testid":"modal",tabIndex:-1},Z&&React.createElement(FocusTrap,{container:re,initialFocusRef:X}),ye,U&&React.createElement(CloseIcon,{classes,classNames:be,styles:we,closeIcon:q,onClick:xe,id:V})))),ve):null}),libExports$h={},lib$h={get exports(){return libExports$h},set exports(A){libExports$h=A}},core_min={};function commonjsRequire(A){throw new Error('Could not dynamically require "'+A+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var pdfExports={},pdf={get exports(){return pdfExports},set exports(A){pdfExports=A}};(function(module,exports){(function($,H){module.exports=H()})(globalThis,()=>(()=>{var __webpack_modules__=[,(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.VerbosityLevel=$.Util=$.UnknownErrorException=$.UnexpectedResponseException=$.UNSUPPORTED_FEATURES=$.TextRenderingMode=$.RenderingIntentFlag=$.PermissionFlag=$.PasswordResponses=$.PasswordException=$.PageActionEventType=$.OPS=$.MissingPDFException=$.LINE_FACTOR=$.LINE_DESCENT_FACTOR=$.InvalidPDFException=$.ImageKind=$.IDENTITY_MATRIX=$.FormatError=$.FeatureTest=$.FONT_IDENTITY_MATRIX=$.DocumentActionEventType=$.CMapCompressionType=$.BaseException=$.BASELINE_FACTOR=$.AnnotationType=$.AnnotationStateModelType=$.AnnotationReviewState=$.AnnotationReplyType=$.AnnotationMode=$.AnnotationMarkedState=$.AnnotationFlag=$.AnnotationFieldFlag=$.AnnotationEditorType=$.AnnotationEditorPrefix=$.AnnotationEditorParamsType=$.AnnotationBorderStyleType=$.AnnotationActionEventType=$.AbortException=void 0,$.arrayByteLength=le,$.arraysToBytes=ve,$.assert=ye,$.bytesToString=ze,$.createPromiseCapability=bt,$.createValidAbsoluteUrl=re,$.getModificationDate=nt,$.getVerbosityLevel=xe,$.info=Te,$.isArrayBuffer=$t,$.isArrayEqual=jt,$.objectFromMap=ke,$.objectSize=ge,$.setVerbosityLevel=Fe,$.shadow=fe,$.string32=Ce,$.stringToBytes=ae,$.stringToPDFString=pt,$.stringToUTF8String=Ct,$.unreachable=Ke,$.utf8StringToString=yt,$.warn=et;const H=[1,0,0,1,0,0];$.IDENTITY_MATRIX=H;const O=[.001,0,0,.001,0,0];$.FONT_IDENTITY_MATRIX=O;const R=1.35;$.LINE_FACTOR=R;const B=.35;$.LINE_DESCENT_FACTOR=B;const ee=B/R;$.BASELINE_FACTOR=ee;const se={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};$.RenderingIntentFlag=se;const de={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};$.AnnotationMode=de;const ie="pdfjs_internal_editor_";$.AnnotationEditorPrefix=ie;const ne={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};$.AnnotationEditorType=ne;const pe={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};$.AnnotationEditorParamsType=pe;const J={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};$.PermissionFlag=J;const K={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};$.TextRenderingMode=K;const Y={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};$.ImageKind=Y;const G={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};$.AnnotationType=G;const U={MARKED:"Marked",REVIEW:"Review"};$.AnnotationStateModelType=U;const V={MARKED:"Marked",UNMARKED:"Unmarked"};$.AnnotationMarkedState=V;const q={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};$.AnnotationReviewState=q;const Q={GROUP:"Group",REPLY:"R"};$.AnnotationReplyType=Q;const Z={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};$.AnnotationFlag=Z;const W={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};$.AnnotationFieldFlag=W;const X={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};$.AnnotationBorderStyleType=X;const ue={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};$.AnnotationActionEventType=ue;const _e={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};$.DocumentActionEventType=_e;const be={O:"PageOpen",C:"PageClose"};$.PageActionEventType=be;const we={ERRORS:0,WARNINGS:1,INFOS:5};$.VerbosityLevel=we;const ce={NONE:0,BINARY:1};$.CMapCompressionType=ce;const $e={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};$.OPS=$e;const Xe={forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};$.UNSUPPORTED_FEATURES=Xe;const De={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};$.PasswordResponses=De;let Ge=we.WARNINGS;function Fe(Ye){Number.isInteger(Ye)&&(Ge=Ye)}function xe(){return Ge}function Te(Ye){Ge>=we.INFOS&&console.log(`Info: ${Ye}`)}function et(Ye){Ge>=we.WARNINGS&&console.log(`Warning: ${Ye}`)}function Ke(Ye){throw new Error(Ye)}function ye(Ye,Le){Ye||Ke(Le)}function oe(Ye){if(!Ye)return!1;switch(Ye.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function re(Ye,Le=null,Ve=null){if(!Ye)return null;try{if(Ve&&typeof Ye=="string"){if(Ve.addDefaultProtocol&&Ye.startsWith("www.")){const Be=Ye.match(/\./g);Be&&Be.length>=2&&(Ye=`http://${Ye}`)}if(Ve.tryConvertEncoding)try{Ye=Ct(Ye)}catch{}}const wt=Le?new URL(Ye,Le):new URL(Ye);if(oe(wt))return wt}catch{}return null}function fe(Ye,Le,Ve,wt=!1){return Object.defineProperty(Ye,Le,{value:Ve,enumerable:!wt,configurable:!0,writable:!1}),Ve}const Se=function(){function Le(Ve,wt){this.constructor===Le&&Ke("Cannot initialize BaseException."),this.message=Ve,this.name=wt}return Le.prototype=new Error,Le.constructor=Le,Le}();$.BaseException=Se;class Ee extends Se{constructor(Le,Ve){super(Le,"PasswordException"),this.code=Ve}}$.PasswordException=Ee;class Pe extends Se{constructor(Le,Ve){super(Le,"UnknownErrorException"),this.details=Ve}}$.UnknownErrorException=Pe;class Oe extends Se{constructor(Le){super(Le,"InvalidPDFException")}}$.InvalidPDFException=Oe;class He extends Se{constructor(Le){super(Le,"MissingPDFException")}}$.MissingPDFException=He;class rt extends Se{constructor(Le,Ve){super(Le,"UnexpectedResponseException"),this.status=Ve}}$.UnexpectedResponseException=rt;class Ze extends Se{constructor(Le){super(Le,"FormatError")}}$.FormatError=Ze;class tt extends Se{constructor(Le){super(Le,"AbortException")}}$.AbortException=tt;function ze(Ye){(typeof Ye!="object"||Ye===null||Ye.length===void 0)&&Ke("Invalid argument for bytesToString");const Le=Ye.length,Ve=8192;if(Le<Ve)return String.fromCharCode.apply(null,Ye);const wt=[];for(let Be=0;Be<Le;Be+=Ve){const ct=Math.min(Be+Ve,Le),Et=Ye.subarray(Be,ct);wt.push(String.fromCharCode.apply(null,Et))}return wt.join("")}function ae(Ye){typeof Ye!="string"&&Ke("Invalid argument for stringToBytes");const Le=Ye.length,Ve=new Uint8Array(Le);for(let wt=0;wt<Le;++wt)Ve[wt]=Ye.charCodeAt(wt)&255;return Ve}function le(Ye){if(Ye.length!==void 0)return Ye.length;if(Ye.byteLength!==void 0)return Ye.byteLength;Ke("Invalid argument for arrayByteLength")}function ve(Ye){const Le=Ye.length;if(Le===1&&Ye[0]instanceof Uint8Array)return Ye[0];let Ve=0;for(let ct=0;ct<Le;ct++)Ve+=le(Ye[ct]);let wt=0;const Be=new Uint8Array(Ve);for(let ct=0;ct<Le;ct++){let Et=Ye[ct];Et instanceof Uint8Array||(typeof Et=="string"?Et=ae(Et):Et=new Uint8Array(Et));const Pt=Et.byteLength;Be.set(Et,wt),wt+=Pt}return Be}function Ce(Ye){return String.fromCharCode(Ye>>24&255,Ye>>16&255,Ye>>8&255,Ye&255)}function ge(Ye){return Object.keys(Ye).length}function ke(Ye){const Le=Object.create(null);for(const[Ve,wt]of Ye)Le[Ve]=wt;return Le}function Je(){const Ye=new Uint8Array(4);return Ye[0]=1,new Uint32Array(Ye.buffer,0,1)[0]===1}function st(){try{return new Function(""),!0}catch{return!1}}class it{static get isLittleEndian(){return fe(this,"isLittleEndian",Je())}static get isEvalSupported(){return fe(this,"isEvalSupported",st())}static get isOffscreenCanvasSupported(){return fe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator>"u"?fe(this,"platform",{isWin:!1,isMac:!1}):fe(this,"platform",{isWin:navigator.platform.includes("Win"),isMac:navigator.platform.includes("Mac")})}}$.FeatureTest=it;const Ue=[...Array(256).keys()].map(Ye=>Ye.toString(16).padStart(2,"0"));class ht{static makeHexColor(Le,Ve,wt){return`#${Ue[Le]}${Ue[Ve]}${Ue[wt]}`}static scaleMinMax(Le,Ve){let wt;Le[0]?(Le[0]<0&&(wt=Ve[0],Ve[0]=Ve[1],Ve[1]=wt),Ve[0]*=Le[0],Ve[1]*=Le[0],Le[3]<0&&(wt=Ve[2],Ve[2]=Ve[3],Ve[3]=wt),Ve[2]*=Le[3],Ve[3]*=Le[3]):(wt=Ve[0],Ve[0]=Ve[2],Ve[2]=wt,wt=Ve[1],Ve[1]=Ve[3],Ve[3]=wt,Le[1]<0&&(wt=Ve[2],Ve[2]=Ve[3],Ve[3]=wt),Ve[2]*=Le[1],Ve[3]*=Le[1],Le[2]<0&&(wt=Ve[0],Ve[0]=Ve[1],Ve[1]=wt),Ve[0]*=Le[2],Ve[1]*=Le[2]),Ve[0]+=Le[4],Ve[1]+=Le[4],Ve[2]+=Le[5],Ve[3]+=Le[5]}static transform(Le,Ve){return[Le[0]*Ve[0]+Le[2]*Ve[1],Le[1]*Ve[0]+Le[3]*Ve[1],Le[0]*Ve[2]+Le[2]*Ve[3],Le[1]*Ve[2]+Le[3]*Ve[3],Le[0]*Ve[4]+Le[2]*Ve[5]+Le[4],Le[1]*Ve[4]+Le[3]*Ve[5]+Le[5]]}static applyTransform(Le,Ve){const wt=Le[0]*Ve[0]+Le[1]*Ve[2]+Ve[4],Be=Le[0]*Ve[1]+Le[1]*Ve[3]+Ve[5];return[wt,Be]}static applyInverseTransform(Le,Ve){const wt=Ve[0]*Ve[3]-Ve[1]*Ve[2],Be=(Le[0]*Ve[3]-Le[1]*Ve[2]+Ve[2]*Ve[5]-Ve[4]*Ve[3])/wt,ct=(-Le[0]*Ve[1]+Le[1]*Ve[0]+Ve[4]*Ve[1]-Ve[5]*Ve[0])/wt;return[Be,ct]}static getAxialAlignedBoundingBox(Le,Ve){const wt=ht.applyTransform(Le,Ve),Be=ht.applyTransform(Le.slice(2,4),Ve),ct=ht.applyTransform([Le[0],Le[3]],Ve),Et=ht.applyTransform([Le[2],Le[1]],Ve);return[Math.min(wt[0],Be[0],ct[0],Et[0]),Math.min(wt[1],Be[1],ct[1],Et[1]),Math.max(wt[0],Be[0],ct[0],Et[0]),Math.max(wt[1],Be[1],ct[1],Et[1])]}static inverseTransform(Le){const Ve=Le[0]*Le[3]-Le[1]*Le[2];return[Le[3]/Ve,-Le[1]/Ve,-Le[2]/Ve,Le[0]/Ve,(Le[2]*Le[5]-Le[4]*Le[3])/Ve,(Le[4]*Le[1]-Le[5]*Le[0])/Ve]}static singularValueDecompose2dScale(Le){const Ve=[Le[0],Le[2],Le[1],Le[3]],wt=Le[0]*Ve[0]+Le[1]*Ve[2],Be=Le[0]*Ve[1]+Le[1]*Ve[3],ct=Le[2]*Ve[0]+Le[3]*Ve[2],Et=Le[2]*Ve[1]+Le[3]*Ve[3],Pt=(wt+Et)/2,Xt=Math.sqrt((wt+Et)**2-4*(wt*Et-ct*Be))/2,en=Pt+Xt||1,zt=Pt-Xt||1;return[Math.sqrt(en),Math.sqrt(zt)]}static normalizeRect(Le){const Ve=Le.slice(0);return Le[0]>Le[2]&&(Ve[0]=Le[2],Ve[2]=Le[0]),Le[1]>Le[3]&&(Ve[1]=Le[3],Ve[3]=Le[1]),Ve}static intersect(Le,Ve){const wt=Math.max(Math.min(Le[0],Le[2]),Math.min(Ve[0],Ve[2])),Be=Math.min(Math.max(Le[0],Le[2]),Math.max(Ve[0],Ve[2]));if(wt>Be)return null;const ct=Math.max(Math.min(Le[1],Le[3]),Math.min(Ve[1],Ve[3])),Et=Math.min(Math.max(Le[1],Le[3]),Math.max(Ve[1],Ve[3]));return ct>Et?null:[wt,ct,Be,Et]}static bezierBoundingBox(Le,Ve,wt,Be,ct,Et,Pt,Xt){const en=[],zt=[[],[]];let Ut,tn,Yt,Jt,dn,hn,vn,$n;for(let kn=0;kn<2;++kn){if(kn===0?(tn=6*Le-12*wt+6*ct,Ut=-3*Le+9*wt-9*ct+3*Pt,Yt=3*wt-3*Le):(tn=6*Ve-12*Be+6*Et,Ut=-3*Ve+9*Be-9*Et+3*Xt,Yt=3*Be-3*Ve),Math.abs(Ut)<1e-12){if(Math.abs(tn)<1e-12)continue;Jt=-Yt/tn,0<Jt&&Jt<1&&en.push(Jt);continue}vn=tn*tn-4*Yt*Ut,$n=Math.sqrt(vn),!(vn<0)&&(dn=(-tn+$n)/(2*Ut),0<dn&&dn<1&&en.push(dn),hn=(-tn-$n)/(2*Ut),0<hn&&hn<1&&en.push(hn))}let xn=en.length,fn;const In=xn;for(;xn--;)Jt=en[xn],fn=1-Jt,zt[0][xn]=fn*fn*fn*Le+3*fn*fn*Jt*wt+3*fn*Jt*Jt*ct+Jt*Jt*Jt*Pt,zt[1][xn]=fn*fn*fn*Ve+3*fn*fn*Jt*Be+3*fn*Jt*Jt*Et+Jt*Jt*Jt*Xt;return zt[0][In]=Le,zt[1][In]=Ve,zt[0][In+1]=Pt,zt[1][In+1]=Xt,zt[0].length=zt[1].length=In+2,[Math.min(...zt[0]),Math.min(...zt[1]),Math.max(...zt[0]),Math.max(...zt[1])]}}$.Util=ht;const lt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function pt(Ye){if(Ye[0]>="ï"){let Ve;if(Ye[0]==="þ"&&Ye[1]==="ÿ"?Ve="utf-16be":Ye[0]==="ÿ"&&Ye[1]==="þ"?Ve="utf-16le":Ye[0]==="ï"&&Ye[1]==="»"&&Ye[2]==="¿"&&(Ve="utf-8"),Ve)try{const wt=new TextDecoder(Ve,{fatal:!0}),Be=ae(Ye);return wt.decode(Be)}catch(wt){et(`stringToPDFString: "${wt}".`)}}const Le=[];for(let Ve=0,wt=Ye.length;Ve<wt;Ve++){const Be=lt[Ye.charCodeAt(Ve)];Le.push(Be?String.fromCharCode(Be):Ye.charAt(Ve))}return Le.join("")}function Ct(Ye){return decodeURIComponent(escape(Ye))}function yt(Ye){return unescape(encodeURIComponent(Ye))}function $t(Ye){return typeof Ye=="object"&&Ye!==null&&Ye.byteLength!==void 0}function jt(Ye,Le){if(Ye.length!==Le.length)return!1;for(let Ve=0,wt=Ye.length;Ve<wt;Ve++)if(Ye[Ve]!==Le[Ve])return!1;return!0}function nt(Ye=new Date){return[Ye.getUTCFullYear().toString(),(Ye.getUTCMonth()+1).toString().padStart(2,"0"),Ye.getUTCDate().toString().padStart(2,"0"),Ye.getUTCHours().toString().padStart(2,"0"),Ye.getUTCMinutes().toString().padStart(2,"0"),Ye.getUTCSeconds().toString().padStart(2,"0")].join("")}function bt(){const Ye=Object.create(null);let Le=!1;return Object.defineProperty(Ye,"settled",{get(){return Le}}),Ye.promise=new Promise(function(Ve,wt){Ye.resolve=function(Be){Le=!0,Ve(Be)},Ye.reject=function(Be){Le=!0,wt(Be)}}),Ye}},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{var A,$,O,R,B,ee,se,de,ie,ne,pe,Rr,K,Y;Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(3),_display_utils=__w_pdfjs_require__(6),_font_loader=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(11),_worker_options=__w_pdfjs_require__(14),_is_node=__w_pdfjs_require__(10),_message_handler=__w_pdfjs_require__(15),_metadata=__w_pdfjs_require__(16),_optional_content_config=__w_pdfjs_require__(17),_transport_stream=__w_pdfjs_require__(18),_xfa_text=__w_pdfjs_require__(19);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:U,NodeCMapReaderFactory:V,NodeStandardFontDataFactory:q}=__w_pdfjs_require__(20);exports.DefaultCanvasFactory=DefaultCanvasFactory=U,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=V,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=q}let createPDFNetworkStream;if(_is_node.isNodeJS){const{PDFNodeStream:U}=__w_pdfjs_require__(21);createPDFNetworkStream=V=>new U(V)}else{const{PDFNetworkStream:U}=__w_pdfjs_require__(24),{PDFFetchStream:V}=__w_pdfjs_require__(25);createPDFNetworkStream=q=>(0,_display_utils.isValidFetchUrl)(q.url)?new V(q):new U(q)}function getDocument(U){if(typeof U=="string"||U instanceof URL)U={url:U};else if((0,_util.isArrayBuffer)(U))U={data:U};else if(U instanceof PDFDataRangeTransport)(0,_display_utils.deprecated)("`PDFDataRangeTransport`-instance, please use a parameter object with `range`-property instead."),U={range:U};else if(typeof U!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!U.url&&!U.data&&!U.range)throw new Error("Invalid parameter object: need either .data, .range or .url");const V=new PDFDocumentLoadingTask,q=Object.create(null);let Q=null,Z=null;for(const X in U){const ue=U[X];switch(X){case"url":if(ue instanceof URL){q[X]=ue.href;continue}try{q[X]=new URL(ue,window.location).href;continue}catch{if(_is_node.isNodeJS&&typeof ue=="string")break}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":Q=ue;continue;case"worker":Z=ue;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&ue instanceof Buffer)q[X]=new Uint8Array(ue);else{if(ue instanceof Uint8Array&&ue.byteLength===ue.buffer.byteLength)break;if(typeof ue=="string")q[X]=(0,_util.stringToBytes)(ue);else if(typeof ue=="object"&&ue!==null&&!isNaN(ue.length)||(0,_util.isArrayBuffer)(ue))q[X]=new Uint8Array(ue);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}q[X]=ue}if(q.CMapReaderFactory=q.CMapReaderFactory||DefaultCMapReaderFactory,q.StandardFontDataFactory=q.StandardFontDataFactory||DefaultStandardFontDataFactory,q.ignoreErrors=q.stopAtErrors!==!0,q.fontExtraProperties=q.fontExtraProperties===!0,q.pdfBug=q.pdfBug===!0,q.enableXfa=q.enableXfa===!0,(!Number.isInteger(q.rangeChunkSize)||q.rangeChunkSize<1)&&(q.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof q.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(q.docBaseUrl))&&(q.docBaseUrl=null),(!Number.isInteger(q.maxImageSize)||q.maxImageSize<-1)&&(q.maxImageSize=-1),typeof q.cMapUrl!="string"&&(q.cMapUrl=null),typeof q.standardFontDataUrl!="string"&&(q.standardFontDataUrl=null),typeof q.useWorkerFetch!="boolean"&&(q.useWorkerFetch=q.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&q.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory&&(0,_display_utils.isValidFetchUrl)(q.cMapUrl,document.baseURI)&&(0,_display_utils.isValidFetchUrl)(q.standardFontDataUrl,document.baseURI)),typeof q.isEvalSupported!="boolean"&&(q.isEvalSupported=!0),typeof q.isOffscreenCanvasSupported!="boolean"&&(q.isOffscreenCanvasSupported=!_is_node.isNodeJS),typeof q.disableFontFace!="boolean"&&(q.disableFontFace=_is_node.isNodeJS),typeof q.useSystemFonts!="boolean"&&(q.useSystemFonts=!_is_node.isNodeJS&&!q.disableFontFace),(typeof q.ownerDocument!="object"||q.ownerDocument===null)&&(q.ownerDocument=globalThis.document),typeof q.disableRange!="boolean"&&(q.disableRange=!1),typeof q.disableStream!="boolean"&&(q.disableStream=!1),typeof q.disableAutoFetch!="boolean"&&(q.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(q.verbosity),!Z){const X={verbosity:q.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};Z=X.port?PDFWorker.fromPort(X):new PDFWorker(X),V._worker=Z}const W=V.docId;return Z.promise.then(function(){if(V.destroyed)throw new Error("Loading aborted");const X=_fetchDocument(Z,q,Q,W),ue=new Promise(function(_e){let be;Q?be=new _transport_stream.PDFDataTransportStream({length:q.length,initialData:q.initialData,progressiveDone:q.progressiveDone,contentDispositionFilename:q.contentDispositionFilename,disableRange:q.disableRange,disableStream:q.disableStream},Q):q.data||(be=createPDFNetworkStream({url:q.url,length:q.length,httpHeaders:q.httpHeaders,withCredentials:q.withCredentials,rangeChunkSize:q.rangeChunkSize,disableRange:q.disableRange,disableStream:q.disableStream})),_e(be)});return Promise.all([X,ue]).then(function([_e,be]){if(V.destroyed)throw new Error("Loading aborted");const we=new _message_handler.MessageHandler(W,_e,Z.port),ce=new WorkerTransport(we,V,be,q);V._transport=ce,we.send("Ready",null)})}).catch(V._capability.reject),V}async function _fetchDocument(U,V,q,Q){if(U.destroyed)throw new Error("Worker was destroyed");q&&(V.length=q.length,V.initialData=q.initialData,V.progressiveDone=q.progressiveDone,V.contentDispositionFilename=q.contentDispositionFilename);const Z=V.data?[V.data.buffer]:null,W=await U.messageHandler.sendWithPromise("GetDocRequest",{docId:Q,apiVersion:"3.3.122",data:V.data,password:V.password,disableAutoFetch:V.disableAutoFetch,rangeChunkSize:V.rangeChunkSize,length:V.length,docBaseUrl:V.docBaseUrl,enableXfa:V.enableXfa,evaluatorOptions:{maxImageSize:V.maxImageSize,disableFontFace:V.disableFontFace,ignoreErrors:V.ignoreErrors,isEvalSupported:V.isEvalSupported,isOffscreenCanvasSupported:V.isOffscreenCanvasSupported,fontExtraProperties:V.fontExtraProperties,useSystemFonts:V.useSystemFonts,cMapUrl:V.useWorkerFetch?V.cMapUrl:null,standardFontDataUrl:V.useWorkerFetch?V.standardFontDataUrl:null}},Z);if(U.destroyed)throw new Error("Worker was destroyed");return W}const H=class{constructor(){at(this,$,null);this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${Mr(H,A)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get onUnsupportedFeature(){return me(this,$)}set onUnsupportedFeature(V){(0,_display_utils.deprecated)("The PDFDocumentLoadingTask onUnsupportedFeature property will be removed in the future."),St(this,$,V)}get promise(){return this._capability.promise}async destroy(){var V;this.destroyed=!0,await((V=this._transport)==null?void 0:V.destroy()),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};let PDFDocumentLoadingTask=H;A=new WeakMap,$=new WeakMap,at(PDFDocumentLoadingTask,A,0),exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(V,q,Q=!1,Z=null){this.length=V,this.initialData=q,this.progressiveDone=Q,this.contentDispositionFilename=Z,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(V){this._rangeListeners.push(V)}addProgressListener(V){this._progressListeners.push(V)}addProgressiveReadListener(V){this._progressiveReadListeners.push(V)}addProgressiveDoneListener(V){this._progressiveDoneListeners.push(V)}onDataRange(V,q){for(const Q of this._rangeListeners)Q(V,q)}onDataProgress(V,q){this._readyCapability.promise.then(()=>{for(const Q of this._progressListeners)Q(V,q)})}onDataProgressiveRead(V){this._readyCapability.promise.then(()=>{for(const q of this._progressiveReadListeners)q(V)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const V of this._progressiveDoneListeners)V()})}transportReady(){this._readyCapability.resolve()}requestDataRange(V,q){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(V,q){this._pdfInfo=V,this._transport=q}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(V){return this._transport.getPage(V)}getPageIndex(V){return this._transport.getPageIndex(V)}getDestinations(){return this._transport.getDestinations()}getDestination(V){return this._transport.getDestination(V)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(V=!1){return this._transport.startCleanup(V||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(V,q,Q,Z,W=!1){this._pageIndex=V,this._pageInfo=q,this._ownerDocument=Z,this._transport=Q,this._stats=W?new _display_utils.StatTimer:null,this._pdfBug=W,this.commonObjs=Q.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:V,rotation:q=this.rotate,offsetX:Q=0,offsetY:Z=0,dontFlip:W=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:V,rotation:q,offsetX:Q,offsetY:Z,dontFlip:W})}getAnnotations({intent:V="display"}={}){const q=this._transport.getRenderingIntent(V);return this._transport.getAnnotations(this._pageIndex,q.renderingIntent)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get isPureXfa(){return(0,_util.shadow)(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var V;return((V=this._transport._htmlForXfa)==null?void 0:V.children[this._pageIndex])||null}render({canvasContext:V,viewport:q,intent:Q="display",annotationMode:Z=_util.AnnotationMode.ENABLE,transform:W=null,canvasFactory:X=null,background:ue=null,optionalContentConfigPromise:_e=null,annotationCanvasMap:be=null,pageColors:we=null,printAnnotationStorage:ce=null}){var et,Ke;(et=this._stats)==null||et.time("Overall");const $e=this._transport.getRenderingIntent(Q,Z,ce);this.pendingCleanup=!1,_e||(_e=this._transport.getOptionalContentConfig());let Xe=this._intentStates.get($e.cacheKey);Xe||(Xe=Object.create(null),this._intentStates.set($e.cacheKey,Xe)),Xe.streamReaderCancelTimeout&&(clearTimeout(Xe.streamReaderCancelTimeout),Xe.streamReaderCancelTimeout=null);const De=X||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),Ge=!!($e.renderingIntent&_util.RenderingIntentFlag.PRINT);Xe.displayReadyCapability||(Xe.displayReadyCapability=(0,_util.createPromiseCapability)(),Xe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ke=this._stats)==null||Ke.time("Page Request"),this._pumpOperatorList($e));const Fe=ye=>{var oe,re;Xe.renderTasks.delete(xe),(this.cleanupAfterRender||Ge)&&(this.pendingCleanup=!0),this._tryCleanup(),ye?(xe.capability.reject(ye),this._abortOperatorList({intentState:Xe,reason:ye instanceof Error?ye:new Error(ye)})):xe.capability.resolve(),(oe=this._stats)==null||oe.timeEnd("Rendering"),(re=this._stats)==null||re.timeEnd("Overall")},xe=new InternalRenderTask({callback:Fe,params:{canvasContext:V,viewport:q,transform:W,background:ue},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:be,operatorList:Xe.operatorList,pageIndex:this._pageIndex,canvasFactory:De,useRequestAnimationFrame:!Ge,pdfBug:this._pdfBug,pageColors:we});(Xe.renderTasks||(Xe.renderTasks=new Set)).add(xe);const Te=xe.task;return Promise.all([Xe.displayReadyCapability.promise,_e]).then(([ye,oe])=>{var re;if(this.pendingCleanup){Fe();return}(re=this._stats)==null||re.time("Rendering"),xe.initializeGraphics({transparency:ye,optionalContentConfig:oe}),xe.operatorListChanged()}).catch(Fe),Te}getOperatorList({intent:V="display",annotationMode:q=_util.AnnotationMode.ENABLE,printAnnotationStorage:Q=null}={}){var _e;function Z(){X.operatorList.lastChunk&&(X.opListReadCapability.resolve(X.operatorList),X.renderTasks.delete(ue))}const W=this._transport.getRenderingIntent(V,q,Q,!0);let X=this._intentStates.get(W.cacheKey);X||(X=Object.create(null),this._intentStates.set(W.cacheKey,X));let ue;return X.opListReadCapability||(ue=Object.create(null),ue.operatorListChanged=Z,X.opListReadCapability=(0,_util.createPromiseCapability)(),(X.renderTasks||(X.renderTasks=new Set)).add(ue),X.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(_e=this._stats)==null||_e.time("Page Request"),this._pumpOperatorList(W)),X.opListReadCapability.promise}streamTextContent({disableCombineTextItems:V=!1,includeMarkedContent:q=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:V!==!0,includeMarkedContent:q===!0},{highWaterMark:100,size(Z){return Z.items.length}})}getTextContent(V={}){if(this._transport._htmlForXfa)return this.getXfa().then(Q=>_xfa_text.XfaText.textContent(Q));const q=this.streamTextContent(V);return new Promise(function(Q,Z){function W(){X.read().then(function({value:_e,done:be}){if(be){Q(ue);return}Object.assign(ue.styles,_e.styles),ue.items.push(..._e.items),W()},Z)}const X=q.getReader(),ue={items:[],styles:Object.create(null)};W()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const V=[];for(const q of this._intentStates.values())if(this._abortOperatorList({intentState:q,reason:new Error("Page was destroyed."),force:!0}),!q.opListReadCapability)for(const Q of q.renderTasks)V.push(Q.completed),Q.cancel();this.objs.clear();for(const q of this._bitmaps)q.close();return this._bitmaps.clear(),this.pendingCleanup=!1,Promise.all(V)}cleanup(V=!1){return this.pendingCleanup=!0,this._tryCleanup(V)}_tryCleanup(V=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:q,operatorList:Q}of this._intentStates.values())if(q.size>0||!Q.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),V&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const q of this._bitmaps)q.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(V,q){var Z,W;const Q=this._intentStates.get(q);Q&&((Z=this._stats)==null||Z.timeEnd("Page Request"),(W=Q.displayReadyCapability)==null||W.resolve(V))}_renderPageChunk(V,q){for(let Q=0,Z=V.length;Q<Z;Q++)q.operatorList.fnArray.push(V.fnArray[Q]),q.operatorList.argsArray.push(V.argsArray[Q]);q.operatorList.lastChunk=V.lastChunk,q.operatorList.separateAnnots=V.separateAnnots;for(const Q of q.renderTasks)Q.operatorListChanged();V.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:V,cacheKey:q,annotationStorageMap:Q}){const W=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:V,cacheKey:q,annotationStorage:Q}).getReader(),X=this._intentStates.get(q);X.streamReader=W;const ue=()=>{W.read().then(({value:_e,done:be})=>{if(be){X.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(_e,X),ue())},_e=>{if(X.streamReader=null,!this._transport.destroyed){if(X.operatorList){X.operatorList.lastChunk=!0;for(const be of X.renderTasks)be.operatorListChanged();this._tryCleanup()}if(X.displayReadyCapability)X.displayReadyCapability.reject(_e);else if(X.opListReadCapability)X.opListReadCapability.reject(_e);else throw _e}})};ue()}_abortOperatorList({intentState:V,reason:q,force:Q=!1}){if(V.streamReader){if(V.streamReaderCancelTimeout&&(clearTimeout(V.streamReaderCancelTimeout),V.streamReaderCancelTimeout=null),!Q){if(V.renderTasks.size>0)return;if(q instanceof _display_utils.RenderingCancelledException){let Z=RENDERING_CANCELLED_TIMEOUT;q.extraDelay>0&&q.extraDelay<1e3&&(Z+=q.extraDelay),V.streamReaderCancelTimeout=setTimeout(()=>{V.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:V,reason:q,force:!0})},Z);return}}if(V.streamReader.cancel(new _util.AbortException(q.message)).catch(()=>{}),V.streamReader=null,!this._transport.destroyed){for(const[Z,W]of this._intentStates)if(W===V){this._intentStates.delete(Z);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){at(this,O,[]);at(this,R,Promise.resolve())}postMessage(V,q){const Q={data:structuredClone(V,q)};me(this,R).then(()=>{for(const Z of me(this,O))Z.call(this,Q)})}addEventListener(V,q){me(this,O).push(q)}removeEventListener(V,q){const Q=me(this,O).indexOf(q);me(this,O).splice(Q,1)}terminate(){me(this,O).length=0}}O=new WeakMap,R=new WeakMap,exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof commonjsRequire=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){const U=(B=document==null?void 0:document.currentScript)==null?void 0:B.src;U&&(PDFWorkerUtil.fallbackWorkerSrc=U.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(U,V){let q;try{if(q=new URL(U),!q.origin||q.origin==="null")return!1}catch{return!1}const Q=new URL(V,q);return q.origin===Q.origin},PDFWorkerUtil.createCDNWrapper=function(U){const V=`importScripts("${U}");`;return URL.createObjectURL(new Blob([V]))}}const _PDFWorker=class{constructor({name:U=null,port:V=null,verbosity:q=(0,_util.getVerbosityLevel)()}={}){if(V&&me(_PDFWorker,ee).has(V))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=U,this.destroyed=!1,this.verbosity=q,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,V){me(_PDFWorker,ee).set(V,this),this._initializeFromPort(V);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(U){this._port=U,this._messageHandler=new _message_handler.MessageHandler("main","worker",U),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:U}=_PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,U)||(U=PDFWorkerUtil.createCDNWrapper(new URL(U,window.location).href));const V=new Worker(U),q=new _message_handler.MessageHandler("main","worker",V),Q=()=>{V.removeEventListener("error",Z),q.destroy(),V.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},Z=()=>{this._webWorker||Q()};V.addEventListener("error",Z),q.on("test",X=>{if(V.removeEventListener("error",Z),this.destroyed){Q();return}X?(this._messageHandler=q,this._port=V,this._webWorker=V,this._readyCapability.resolve(),q.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),q.destroy(),V.terminate())}),q.on("ready",X=>{if(V.removeEventListener("error",Z),this.destroyed){Q();return}try{W()}catch{this._setupFakeWorker()}});const W=()=>{const X=new Uint8Array;q.send("test",X,[X.buffer])};W();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(U=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const V=new LoopbackPort;this._port=V;const q=`fake${PDFWorkerUtil.fakeWorkerId++}`,Q=new _message_handler.MessageHandler(q+"_worker",q,V);U.setup(Q,V);const Z=new _message_handler.MessageHandler(q,q+"_worker",V);this._messageHandler=Z,this._readyCapability.resolve(),Z.send("configure",{verbosity:this.verbosity})}).catch(U=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${U.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),me(_PDFWorker,ee).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(U){if(!(U!=null&&U.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return me(this,ee).has(U.port)?me(this,ee).get(U.port):new _PDFWorker(U)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){var U;try{return((U=globalThis.pdfjsWorker)==null?void 0:U.WorkerMessageHandler)||null}catch{return null}}static get _setupFakeWorkerGlobal(){const loader=async()=>{const mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof commonjsRequire=="function"){const worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}};let PDFWorker=_PDFWorker;ee=new WeakMap,at(PDFWorker,ee,new WeakMap),exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(V,q,Q,Z){at(this,se,new Map);at(this,de,new Map);at(this,ie,null);this.messageHandler=V,this.loadingTask=q,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:Z.ownerDocument,styleElement:Z.styleElement}),this._params=Z,Z.useWorkerFetch||(this.CMapReaderFactory=new Z.CMapReaderFactory({baseUrl:Z.cMapUrl,isCompressed:Z.cMapPacked}),this.StandardFontDataFactory=new Z.StandardFontDataFactory({baseUrl:Z.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=Q,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}getRenderingIntent(V,q=_util.AnnotationMode.ENABLE,Q=null,Z=!1){let W=_util.RenderingIntentFlag.DISPLAY,X=null;switch(V){case"any":W=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":W=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${V}`)}switch(q){case _util.AnnotationMode.DISABLE:W+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:W+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:W+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,X=(W&_util.RenderingIntentFlag.PRINT&&Q instanceof _annotation_storage.PrintAnnotationStorage?Q:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${q}`)}return Z&&(W+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:W,cacheKey:`${W}_${_annotation_storage.AnnotationStorage.getHash(X)}`,annotationStorageMap:X}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const V=[];for(const Q of me(this,se).values())V.push(Q._destroy());me(this,se).clear(),me(this,de).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const q=this.messageHandler.sendWithPromise("Terminate",null);return V.push(q),Promise.all(V).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),St(this,ie,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:V,loadingTask:q}=this;V.on("GetReader",(Q,Z)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=W=>{this._lastProgress={loaded:W.loaded,total:W.total}},Z.onPull=()=>{this._fullReader.read().then(function({value:W,done:X}){if(X){Z.close();return}(0,_util.assert)(W instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(W),1,[W])}).catch(W=>{Z.error(W)})},Z.onCancel=W=>{this._fullReader.cancel(W),Z.ready.catch(X=>{if(!this.destroyed)throw X})}}),V.on("ReaderHeadersReady",Q=>{const Z=(0,_util.createPromiseCapability)(),W=this._fullReader;return W.headersReady.then(()=>{var X;(!W.isStreamingSupported||!W.isRangeSupported)&&(this._lastProgress&&((X=q.onProgress)==null||X.call(q,this._lastProgress)),W.onProgress=ue=>{var _e;(_e=q.onProgress)==null||_e.call(q,{loaded:ue.loaded,total:ue.total})}),Z.resolve({isStreamingSupported:W.isStreamingSupported,isRangeSupported:W.isRangeSupported,contentLength:W.contentLength})},Z.reject),Z.promise}),V.on("GetRangeReader",(Q,Z)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const W=this._networkStream.getRangeReader(Q.begin,Q.end);if(!W){Z.close();return}Z.onPull=()=>{W.read().then(function({value:X,done:ue}){if(ue){Z.close();return}(0,_util.assert)(X instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Z.enqueue(new Uint8Array(X),1,[X])}).catch(X=>{Z.error(X)})},Z.onCancel=X=>{W.cancel(X),Z.ready.catch(ue=>{if(!this.destroyed)throw ue})}}),V.on("GetDoc",({pdfInfo:Q})=>{this._numPages=Q.numPages,this._htmlForXfa=Q.htmlForXfa,delete Q.htmlForXfa,q._capability.resolve(new PDFDocumentProxy(Q,this))}),V.on("DocException",function(Q){let Z;switch(Q.name){case"PasswordException":Z=new _util.PasswordException(Q.message,Q.code);break;case"InvalidPDFException":Z=new _util.InvalidPDFException(Q.message);break;case"MissingPDFException":Z=new _util.MissingPDFException(Q.message);break;case"UnexpectedResponseException":Z=new _util.UnexpectedResponseException(Q.message,Q.status);break;case"UnknownErrorException":Z=new _util.UnknownErrorException(Q.message,Q.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}q._capability.reject(Z)}),V.on("PasswordRequest",Q=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),q.onPassword){const Z=W=>{W instanceof Error?this._passwordCapability.reject(W):this._passwordCapability.resolve({password:W})};try{q.onPassword(Z,Q.code)}catch(W){this._passwordCapability.reject(W)}}else this._passwordCapability.reject(new _util.PasswordException(Q.message,Q.code));return this._passwordCapability.promise}),V.on("DataLoaded",Q=>{var Z;(Z=q.onProgress)==null||Z.call(q,{loaded:Q.length,total:Q.length}),this.downloadInfoCapability.resolve(Q)}),V.on("StartRenderPage",Q=>{if(this.destroyed)return;me(this,se).get(Q.pageIndex)._startRenderPage(Q.transparency,Q.cacheKey)}),V.on("commonobj",([Q,Z,W])=>{var X;if(!this.destroyed&&!this.commonObjs.has(Q))switch(Z){case"Font":const ue=this._params;if("error"in W){const we=W.error;(0,_util.warn)(`Error during font loading: ${we}`),this.commonObjs.resolve(Q,we);break}let _e=null;ue.pdfBug&&((X=globalThis.FontInspector)!=null&&X.enabled)&&(_e={registerFont(we,ce){globalThis.FontInspector.fontAdded(we,ce)}});const be=new _font_loader.FontFaceObject(W,{isEvalSupported:ue.isEvalSupported,disableFontFace:ue.disableFontFace,ignoreErrors:ue.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:_e});this.fontLoader.bind(be).catch(we=>V.sendWithPromise("FontFallback",{id:Q})).finally(()=>{!ue.fontExtraProperties&&be.data&&(be.data=null),this.commonObjs.resolve(Q,be)});break;case"FontPath":case"Image":this.commonObjs.resolve(Q,W);break;default:throw new Error(`Got unknown common object type ${Z}`)}}),V.on("obj",([Q,Z,W,X])=>{var _e;if(this.destroyed)return;const ue=me(this,se).get(Z);if(!ue.objs.has(Q))switch(W){case"Image":ue.objs.resolve(Q,X);const be=8e6;if(X){let we;if(X.bitmap){const{bitmap:ce,width:$e,height:Xe}=X;we=$e*Xe*4,ue._bitmaps.add(ce)}else we=((_e=X.data)==null?void 0:_e.length)||0;we>be&&(ue.cleanupAfterRender=!0)}break;case"Pattern":ue.objs.resolve(Q,X);break;default:throw new Error(`Got unknown object type ${W}`)}}),V.on("DocProgress",Q=>{var Z;this.destroyed||(Z=q.onProgress)==null||Z.call(q,{loaded:Q.loaded,total:Q.total})}),V.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),V.on("FetchBuiltInCMap",Q=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(Q):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),V.on("FetchStandardFontData",Q=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(Q):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:V}){var q,Q;this.destroyed||(Q=(q=this.loadingTask).onUnsupportedFeature)==null||Q.call(q,V)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var V;return this.annotationStorage.size<=0&&(0,_util.warn)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:((V=this._fullReader)==null?void 0:V.filename)??null}).finally(()=>{this.annotationStorage.resetModified()})}getPage(V){if(!Number.isInteger(V)||V<=0||V>this._numPages)return Promise.reject(new Error("Invalid page request."));const q=V-1,Q=me(this,de).get(q);if(Q)return Q;const Z=this.messageHandler.sendWithPromise("GetPage",{pageIndex:q}).then(W=>{if(this.destroyed)throw new Error("Transport destroyed");const X=new PDFPageProxy(q,W,this,this._params.ownerDocument,this._params.pdfBug);return me(this,se).set(q,X),X});return me(this,de).set(q,Z),Z}getPageIndex(V){return typeof V!="object"||V===null||!Number.isInteger(V.num)||V.num<0||!Number.isInteger(V.gen)||V.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:V.num,gen:V.gen})}getAnnotations(V,q){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:V,intent:q})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(V){return typeof V!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:V})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(V){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:V})}getStructTree(V){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:V})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(V=>new _optional_content_config.OptionalContentConfig(V))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return me(this,ie)||St(this,ie,this.messageHandler.sendWithPromise("GetMetadata",null).then(V=>{var q,Q;return{info:V[0],metadata:V[1]?new _metadata.Metadata(V[1]):null,contentDispositionFilename:((q=this._fullReader)==null?void 0:q.filename)??null,contentLength:((Q=this._fullReader)==null?void 0:Q.contentLength)??null}}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(V=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const q of me(this,se).values())if(!q.cleanup())throw new Error(`startCleanup: Page ${q.pageNumber} is currently rendering.`);this.commonObjs.clear(),V||this.fontLoader.clear(),St(this,ie,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){const V=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:V.disableAutoFetch,enableXfa:V.enableXfa})}}se=new WeakMap,de=new WeakMap,ie=new WeakMap;class PDFObjects{constructor(){at(this,pe);at(this,ne,Object.create(null))}get(V,q=null){if(q){const Z=ft(this,pe,Rr).call(this,V);return Z.capability.promise.then(()=>q(Z.data)),null}const Q=me(this,ne)[V];if(!(Q!=null&&Q.capability.settled))throw new Error(`Requesting object that isn't resolved yet ${V}.`);return Q.data}has(V){const q=me(this,ne)[V];return(q==null?void 0:q.capability.settled)||!1}resolve(V,q=null){const Q=ft(this,pe,Rr).call(this,V);Q.data=q,Q.capability.resolve()}clear(){St(this,ne,Object.create(null))}}ne=new WeakMap,pe=new WeakSet,Rr=function(V){const q=me(this,ne)[V];return q||(me(this,ne)[V]={capability:(0,_util.createPromiseCapability)(),data:null})};class RenderTask{constructor(V){at(this,K,null);St(this,K,V),this.onContinue=null}get promise(){return me(this,K).capability.promise}cancel(V=0){me(this,K).cancel(null,V)}get separateAnnots(){const{separateAnnots:V}=me(this,K).operatorList;if(!V)return!1;const{annotationCanvasMap:q}=me(this,K);return V.form||V.canvas&&(q==null?void 0:q.size)>0}}K=new WeakMap,exports.RenderTask=RenderTask;const G=class{constructor({callback:V,params:q,objs:Q,commonObjs:Z,annotationCanvasMap:W,operatorList:X,pageIndex:ue,canvasFactory:_e,useRequestAnimationFrame:be=!1,pdfBug:we=!1,pageColors:ce=null}){this.callback=V,this.params=q,this.objs=Q,this.commonObjs=Z,this.annotationCanvasMap=W,this.operatorListIdx=null,this.operatorList=X,this._pageIndex=ue,this.canvasFactory=_e,this._pdfBug=we,this.pageColors=ce,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=be===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=q.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:V=!1,optionalContentConfig:q}){var ue,_e;if(this.cancelled)return;if(this._canvas){if(me(G,Y).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");me(G,Y).add(this._canvas)}this._pdfBug&&((ue=globalThis.StepperManager)!=null&&ue.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:Q,viewport:Z,transform:W,background:X}=this.params;this.gfx=new _canvas.CanvasGraphics(Q,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:q},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:W,viewport:Z,transparency:V,background:X}),this.operatorListIdx=0,this.graphicsReady=!0,(_e=this.graphicsReadyCallback)==null||_e.call(this)}cancel(V=null,q=0){var Q;this.running=!1,this.cancelled=!0,(Q=this.gfx)==null||Q.endDrawing(),this._canvas&&me(G,Y).delete(this._canvas),this.callback(V||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas",q))}operatorListChanged(){var V;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(V=this.stepper)==null||V.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&me(G,Y).delete(this._canvas),this.callback())))}};let InternalRenderTask=G;Y=new WeakMap,at(InternalRenderTask,Y,new WeakSet);const version="3.3.122";exports.version=version;const build="562045607";exports.build=build},(A,$,H)=>{var de,ie,ne,ui,J;Object.defineProperty($,"__esModule",{value:!0}),$.PrintAnnotationStorage=$.AnnotationStorage=void 0;var O=H(1),R=H(4),B=H(8);class ee{constructor(){at(this,ne);at(this,de,!1);at(this,ie,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(Y,G){const U=me(this,ie).get(Y);return U===void 0?G:Object.assign(G,U)}getRawValue(Y){return me(this,ie).get(Y)}remove(Y){if(me(this,ie).delete(Y),me(this,ie).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const G of me(this,ie).values())if(G instanceof R.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(Y,G){const U=me(this,ie).get(Y);let V=!1;if(U!==void 0)for(const[q,Q]of Object.entries(G))U[q]!==Q&&(V=!0,U[q]=Q);else V=!0,me(this,ie).set(Y,G);V&&ft(this,ne,ui).call(this),G instanceof R.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(G.constructor._type)}has(Y){return me(this,ie).has(Y)}getAll(){return me(this,ie).size>0?(0,O.objectFromMap)(me(this,ie)):null}get size(){return me(this,ie).size}resetModified(){me(this,de)&&(St(this,de,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new se(this)}get serializable(){if(me(this,ie).size===0)return null;const Y=new Map;for(const[G,U]of me(this,ie)){const V=U instanceof R.AnnotationEditor?U.serialize():U;V&&Y.set(G,V)}return Y}static getHash(Y){if(!Y)return"";const G=new B.MurmurHash3_64;for(const[U,V]of Y)G.update(`${U}:${JSON.stringify(V)}`);return G.hexdigest()}}de=new WeakMap,ie=new WeakMap,ne=new WeakSet,ui=function(){me(this,de)||(St(this,de,!0),typeof this.onSetModified=="function"&&this.onSetModified())},$.AnnotationStorage=ee;class se extends ee{constructor(G){super();at(this,J,null);St(this,J,structuredClone(G.serializable))}get print(){(0,O.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return me(this,J)}}J=new WeakMap,$.PrintAnnotationStorage=se},(A,$,H)=>{var ee,se,de,ie,ne,pe;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditor=void 0;var O=H(5),R=H(1);const J=class{constructor(Y){at(this,ee,this.focusin.bind(this));at(this,se,this.focusout.bind(this));at(this,de,!1);at(this,ie,!1);at(this,ne,!1);gn(this,"_uiManager",null);at(this,pe,J._zIndex++);this.constructor===J&&(0,R.unreachable)("Cannot initialize AnnotationEditor."),this.parent=Y.parent,this.id=Y.id,this.width=this.height=null,this.pageIndex=Y.parent.pageIndex,this.name=Y.name,this.div=null,this._uiManager=Y.uiManager;const{rotation:G,rawDims:{pageWidth:U,pageHeight:V,pageX:q,pageY:Q}}=this.parent.viewport;this.rotation=G,this.pageDimensions=[U,V],this.pageTranslation=[q,Q];const[Z,W]=this.parentDimensions;this.x=Y.x/Z,this.y=Y.y/W,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,R.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}addCommands(Y){this._uiManager.addCommands(Y)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=me(this,pe)}setParent(Y){Y!==null&&(this.pageIndex=Y.pageIndex,this.pageDimensions=Y.pageDimensions),this.parent=Y}focusin(Y){me(this,de)?St(this,de,!1):this.parent.setSelected(this)}focusout(Y){var U;if(!this.isAttachedToDOM)return;const G=Y.relatedTarget;G!=null&&G.closest(`#${this.id}`)||(Y.preventDefault(),(U=this.parent)!=null&&U.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}dragstart(Y){const G=this.parent.div.getBoundingClientRect();this.startX=Y.clientX-G.x,this.startY=Y.clientY-G.y,Y.dataTransfer.setData("text/plain",this.id),Y.dataTransfer.effectAllowed="move"}setAt(Y,G,U,V){const[q,Q]=this.parentDimensions;[U,V]=this.screenToPageTranslation(U,V),this.x=(Y+U)/q,this.y=(G+V)/Q,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(Y,G){const[U,V]=this.parentDimensions;[Y,G]=this.screenToPageTranslation(Y,G),this.x+=Y/U,this.y+=G/V,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(Y,G){switch(this.parentRotation){case 90:return[G,-Y];case 180:return[-Y,-G];case 270:return[-G,Y];default:return[Y,G]}}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return this._uiManager.viewParameters.rotation}get parentDimensions(){const{realScale:Y}=this._uiManager.viewParameters,[G,U]=this.pageDimensions;return[G*Y,U*Y]}setDims(Y,G){const[U,V]=this.parentDimensions;this.div.style.width=`${100*Y/U}%`,this.div.style.height=`${100*G/V}%`}fixDims(){const{style:Y}=this.div,{height:G,width:U}=Y,V=U.endsWith("%"),q=G.endsWith("%");if(V&&q)return;const[Q,Z]=this.parentDimensions;V||(Y.width=`${100*parseFloat(U)/Q}%`),q||(Y.height=`${100*parseFloat(G)/Z}%`)}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",me(this,ee)),this.div.addEventListener("focusout",me(this,se));const[Y,G]=this.getInitialTranslation();return this.translate(Y,G),(0,O.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(Y){const{isMac:G}=R.FeatureTest.platform;if(Y.button!==0||Y.ctrlKey&&G){Y.preventDefault();return}Y.ctrlKey&&!G||Y.shiftKey||Y.metaKey&&G?this.parent.toggleSelected(this):this.parent.setSelected(this),St(this,de,!0)}getRect(Y,G){const U=this.parentScale,[V,q]=this.pageDimensions,[Q,Z]=this.pageTranslation,W=Y/U,X=G/U,ue=this.x*V,_e=this.y*q,be=this.width*V,we=this.height*q;switch(this.rotation){case 0:return[ue+W+Q,q-_e-X-we+Z,ue+W+be+Q,q-_e-X+Z];case 90:return[ue+X+Q,q-_e+W+Z,ue+X+we+Q,q-_e+W+be+Z];case 180:return[ue-W-be+Q,q-_e+X+Z,ue-W+Q,q-_e+X+we+Z];case 270:return[ue-X-we+Q,q-_e-W-be+Z,ue-X+Q,q-_e-W+Z];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(Y,G){const[U,V,q,Q]=Y,Z=q-U,W=Q-V;switch(this.rotation){case 0:return[U,G-Q,Z,W];case 90:return[U,G-V,W,Z];case 180:return[q,G-V,Z,W];case 270:return[q,G-Q,W,Z];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){St(this,ne,!0)}disableEditMode(){St(this,ne,!1)}isInEditMode(){return me(this,ne)}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var Y;(Y=this.div)==null||Y.addEventListener("focusin",me(this,ee))}serialize(){(0,R.unreachable)("An editor must be serializable")}static deserialize(Y,G,U){const V=new this.prototype.constructor({parent:G,id:G.getNextId(),uiManager:U});V.rotation=Y.rotation;const[q,Q]=V.pageDimensions,[Z,W,X,ue]=V.getRectInCurrentCoords(Y.rect,Q);return V.x=Z/q,V.y=W/Q,V.width=X/q,V.height=ue/Q,V}remove(){this.div.removeEventListener("focusin",me(this,ee)),this.div.removeEventListener("focusout",me(this,se)),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){var Y;(Y=this.div)==null||Y.classList.add("selectedEditor")}unselect(){var Y;(Y=this.div)==null||Y.classList.remove("selectedEditor")}updateParams(Y,G){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return me(this,ie)}set isEditing(Y){St(this,ie,Y),Y?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}};let B=J;ee=new WeakMap,se=new WeakMap,de=new WeakMap,ie=new WeakMap,ne=new WeakMap,pe=new WeakMap,gn(B,"_colorManager",new O.ColorManager),gn(B,"_zIndex",1),$.AnnotationEditor=B},(A,$,H)=>{var J,K,Y,G,U,V,di,Z,W,X,ue,_e,be,we,ce,$e,Xe,De,Ge,Fe,xe,Te,et,Ke,ye,oe,re,fe,Se,Ee,Pe,hi,He,Or,Ze,fi,ze,pi,le,Ln,Ce,fr,ke,mi,st,gi,Ue,Ir,lt,pr,Ct,Fr;Object.defineProperty($,"__esModule",{value:!0}),$.KeyboardManager=$.CommandManager=$.ColorManager=$.AnnotationEditorUIManager=void 0,$.bindEvents=B,$.opacityToHex=ee;var O=H(1),R=H(6);function B(jt,nt,bt){for(const Ye of bt)nt.addEventListener(Ye,jt[Ye].bind(jt))}function ee(jt){return Math.round(Math.min(255,Math.max(1,255*jt))).toString(16).padStart(2,"0")}class se{constructor(){at(this,J,0)}getId(){return`${O.AnnotationEditorPrefix}${Mr(this,J)._++}`}}J=new WeakMap;class de{constructor(nt=128){at(this,K,[]);at(this,Y,!1);at(this,G,void 0);at(this,U,-1);St(this,G,nt)}add({cmd:nt,undo:bt,mustExec:Ye,type:Le=NaN,overwriteIfSameType:Ve=!1,keepUndo:wt=!1}){if(Ye&&nt(),me(this,Y))return;const Be={cmd:nt,undo:bt,type:Le};if(me(this,U)===-1){me(this,K).length>0&&(me(this,K).length=0),St(this,U,0),me(this,K).push(Be);return}if(Ve&&me(this,K)[me(this,U)].type===Le){wt&&(Be.undo=me(this,K)[me(this,U)].undo),me(this,K)[me(this,U)]=Be;return}const ct=me(this,U)+1;ct===me(this,G)?me(this,K).splice(0,1):(St(this,U,ct),ct<me(this,K).length&&me(this,K).splice(ct)),me(this,K).push(Be)}undo(){me(this,U)!==-1&&(St(this,Y,!0),me(this,K)[me(this,U)].undo(),St(this,Y,!1),St(this,U,me(this,U)-1))}redo(){me(this,U)<me(this,K).length-1&&(St(this,U,me(this,U)+1),St(this,Y,!0),me(this,K)[me(this,U)].cmd(),St(this,Y,!1))}hasSomethingToUndo(){return me(this,U)!==-1}hasSomethingToRedo(){return me(this,U)<me(this,K).length-1}destroy(){St(this,K,null)}}K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,$.CommandManager=de;class ie{constructor(nt){at(this,V);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:bt}=O.FeatureTest.platform;for(const[Ye,Le]of nt)for(const Ve of Ye){const wt=Ve.startsWith("mac+");bt&&wt?(this.callbacks.set(Ve.slice(4),Le),this.allKeys.add(Ve.split("+").at(-1))):!bt&&!wt&&(this.callbacks.set(Ve,Le),this.allKeys.add(Ve.split("+").at(-1)))}}exec(nt,bt){if(!this.allKeys.has(bt.key))return;const Ye=this.callbacks.get(ft(this,V,di).call(this,bt));Ye&&(Ye.bind(nt)(),bt.stopPropagation(),bt.preventDefault())}}V=new WeakSet,di=function(nt){nt.altKey&&this.buffer.push("alt"),nt.ctrlKey&&this.buffer.push("ctrl"),nt.metaKey&&this.buffer.push("meta"),nt.shiftKey&&this.buffer.push("shift"),this.buffer.push(nt.key);const bt=this.buffer.join("+");return this.buffer.length=0,bt},$.KeyboardManager=ie;const Q=class{get _colors(){const nt=new Map([["CanvasText",null],["Canvas",null]]);return(0,R.getColorValues)(nt),(0,O.shadow)(this,"_colors",nt)}convert(nt){const bt=(0,R.getRGB)(nt);if(!window.matchMedia("(forced-colors: active)").matches)return bt;for(const[Ye,Le]of this._colors)if(Le.every((Ve,wt)=>Ve===bt[wt]))return Q._colorsMapping.get(Ye);return bt}getHexCode(nt){const bt=this._colors.get(nt);return bt?O.Util.makeHexColor(...bt):nt}};let ne=Q;gn(ne,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]])),$.ColorManager=ne;const $t=class{constructor(nt,bt,Ye){at(this,Pe);at(this,He);at(this,Ze);at(this,ze);at(this,le);at(this,Ce);at(this,ke);at(this,st);at(this,Ue);at(this,lt);at(this,Ct);at(this,Z,null);at(this,W,new Map);at(this,X,new Map);at(this,ue,null);at(this,_e,new de);at(this,be,0);at(this,we,null);at(this,ce,new Set);at(this,$e,null);at(this,Xe,new se);at(this,De,!1);at(this,Ge,O.AnnotationEditorType.NONE);at(this,Fe,new Set);at(this,xe,this.copy.bind(this));at(this,Te,this.cut.bind(this));at(this,et,this.paste.bind(this));at(this,Ke,this.keydown.bind(this));at(this,ye,this.onEditingAction.bind(this));at(this,oe,this.onPageChanging.bind(this));at(this,re,this.onScaleChanging.bind(this));at(this,fe,this.onRotationChanging.bind(this));at(this,Se,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1});at(this,Ee,null);St(this,Ee,nt),St(this,$e,bt),me(this,$e)._on("editingaction",me(this,ye)),me(this,$e)._on("pagechanging",me(this,oe)),me(this,$e)._on("scalechanging",me(this,re)),me(this,$e)._on("rotationchanging",me(this,fe)),St(this,ue,Ye),this.viewParameters={realScale:R.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0}}destroy(){ft(this,He,Or).call(this),me(this,$e)._off("editingaction",me(this,ye)),me(this,$e)._off("pagechanging",me(this,oe)),me(this,$e)._off("scalechanging",me(this,re)),me(this,$e)._off("rotationchanging",me(this,fe));for(const nt of me(this,X).values())nt.destroy();me(this,X).clear(),me(this,W).clear(),me(this,ce).clear(),St(this,Z,null),me(this,Fe).clear(),me(this,_e).destroy()}onPageChanging({pageNumber:nt}){St(this,be,nt-1)}focusMainContainer(){me(this,Ee).focus()}addShouldRescale(nt){me(this,ce).add(nt)}removeShouldRescale(nt){me(this,ce).delete(nt)}onScaleChanging({scale:nt}){this.commitOrRemove(),this.viewParameters.realScale=nt*R.PixelsPerInch.PDF_TO_CSS_UNITS;for(const bt of me(this,ce))bt.onScaleChanging()}onRotationChanging({pagesRotation:nt}){this.commitOrRemove(),this.viewParameters.rotation=nt}addToAnnotationStorage(nt){!nt.isEmpty()&&me(this,ue)&&!me(this,ue).has(nt.id)&&me(this,ue).setValue(nt.id,nt)}copy(nt){if(nt.preventDefault(),me(this,Z)&&me(this,Z).commitOrRemove(),!this.hasSelection)return;const bt=[];for(const Ye of me(this,Fe))Ye.isEmpty()||bt.push(Ye.serialize());bt.length!==0&&nt.clipboardData.setData("application/pdfjs",JSON.stringify(bt))}cut(nt){this.copy(nt),this.delete()}paste(nt){nt.preventDefault();let bt=nt.clipboardData.getData("application/pdfjs");if(!bt)return;try{bt=JSON.parse(bt)}catch(Le){(0,O.warn)(`paste: "${Le.message}".`);return}if(!Array.isArray(bt))return;this.unselectAll();const Ye=me(this,X).get(me(this,be));try{const Le=[];for(const Be of bt){const ct=Ye.deserialize(Be);if(!ct)return;Le.push(ct)}const Ve=()=>{for(const Be of Le)ft(this,Ue,Ir).call(this,Be);ft(this,Ct,Fr).call(this,Le)},wt=()=>{for(const Be of Le)Be.remove()};this.addCommands({cmd:Ve,undo:wt,mustExec:!0})}catch(Le){(0,O.warn)(`paste: "${Le.message}".`)}}keydown(nt){var bt;(bt=this.getActive())!=null&&bt.shouldGetKeyboardEvents()||$t._keyboardManager.exec(this,nt)}onEditingAction(nt){["undo","redo","delete","selectAll"].includes(nt.name)&&this[nt.name]()}setEditingState(nt){nt?(ft(this,Pe,hi).call(this),ft(this,Ze,fi).call(this),ft(this,le,Ln).call(this,{isEditing:me(this,Ge)!==O.AnnotationEditorType.NONE,isEmpty:ft(this,lt,pr).call(this),hasSomethingToUndo:me(this,_e).hasSomethingToUndo(),hasSomethingToRedo:me(this,_e).hasSomethingToRedo(),hasSelectedEditor:!1})):(ft(this,He,Or).call(this),ft(this,ze,pi).call(this),ft(this,le,Ln).call(this,{isEditing:!1}))}registerEditorTypes(nt){if(!me(this,we)){St(this,we,nt);for(const bt of me(this,we))ft(this,Ce,fr).call(this,bt.defaultPropertiesToUpdate)}}getId(){return me(this,Xe).getId()}get currentLayer(){return me(this,X).get(me(this,be))}get currentPageIndex(){return me(this,be)}addLayer(nt){me(this,X).set(nt.pageIndex,nt),me(this,De)?nt.enable():nt.disable()}removeLayer(nt){me(this,X).delete(nt.pageIndex)}updateMode(nt){if(St(this,Ge,nt),nt===O.AnnotationEditorType.NONE)this.setEditingState(!1),ft(this,st,gi).call(this);else{this.setEditingState(!0),ft(this,ke,mi).call(this);for(const bt of me(this,X).values())bt.updateMode(nt)}}updateToolbar(nt){nt!==me(this,Ge)&&me(this,$e).dispatch("switchannotationeditormode",{source:this,mode:nt})}updateParams(nt,bt){if(me(this,we)){for(const Ye of me(this,Fe))Ye.updateParams(nt,bt);for(const Ye of me(this,we))Ye.updateDefaultParams(nt,bt)}}getEditors(nt){const bt=[];for(const Ye of me(this,W).values())Ye.pageIndex===nt&&bt.push(Ye);return bt}getEditor(nt){return me(this,W).get(nt)}addEditor(nt){me(this,W).set(nt.id,nt)}removeEditor(nt){var bt;me(this,W).delete(nt.id),this.unselect(nt),(bt=me(this,ue))==null||bt.remove(nt.id)}setActiveEditor(nt){me(this,Z)!==nt&&(St(this,Z,nt),nt&&ft(this,Ce,fr).call(this,nt.propertiesToUpdate))}toggleSelected(nt){if(me(this,Fe).has(nt)){me(this,Fe).delete(nt),nt.unselect(),ft(this,le,Ln).call(this,{hasSelectedEditor:this.hasSelection});return}me(this,Fe).add(nt),nt.select(),ft(this,Ce,fr).call(this,nt.propertiesToUpdate),ft(this,le,Ln).call(this,{hasSelectedEditor:!0})}setSelected(nt){for(const bt of me(this,Fe))bt!==nt&&bt.unselect();me(this,Fe).clear(),me(this,Fe).add(nt),nt.select(),ft(this,Ce,fr).call(this,nt.propertiesToUpdate),ft(this,le,Ln).call(this,{hasSelectedEditor:!0})}isSelected(nt){return me(this,Fe).has(nt)}unselect(nt){nt.unselect(),me(this,Fe).delete(nt),ft(this,le,Ln).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return me(this,Fe).size!==0}undo(){me(this,_e).undo(),ft(this,le,Ln).call(this,{hasSomethingToUndo:me(this,_e).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:ft(this,lt,pr).call(this)})}redo(){me(this,_e).redo(),ft(this,le,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:me(this,_e).hasSomethingToRedo(),isEmpty:ft(this,lt,pr).call(this)})}addCommands(nt){me(this,_e).add(nt),ft(this,le,Ln).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:ft(this,lt,pr).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const nt=[...me(this,Fe)],bt=()=>{for(const Le of nt)Le.remove()},Ye=()=>{for(const Le of nt)ft(this,Ue,Ir).call(this,Le)};this.addCommands({cmd:bt,undo:Ye,mustExec:!0})}commitOrRemove(){var nt;(nt=me(this,Z))==null||nt.commitOrRemove()}selectAll(){for(const nt of me(this,Fe))nt.commit();ft(this,Ct,Fr).call(this,me(this,W).values())}unselectAll(){if(me(this,Z)){me(this,Z).commitOrRemove();return}if(me(this,Fe).size!==0){for(const nt of me(this,Fe))nt.unselect();me(this,Fe).clear(),ft(this,le,Ln).call(this,{hasSelectedEditor:!1})}}isActive(nt){return me(this,Z)===nt}getActive(){return me(this,Z)}getMode(){return me(this,Ge)}};let pe=$t;Z=new WeakMap,W=new WeakMap,X=new WeakMap,ue=new WeakMap,_e=new WeakMap,be=new WeakMap,we=new WeakMap,ce=new WeakMap,$e=new WeakMap,Xe=new WeakMap,De=new WeakMap,Ge=new WeakMap,Fe=new WeakMap,xe=new WeakMap,Te=new WeakMap,et=new WeakMap,Ke=new WeakMap,ye=new WeakMap,oe=new WeakMap,re=new WeakMap,fe=new WeakMap,Se=new WeakMap,Ee=new WeakMap,Pe=new WeakSet,hi=function(){me(this,Ee).addEventListener("keydown",me(this,Ke))},He=new WeakSet,Or=function(){me(this,Ee).removeEventListener("keydown",me(this,Ke))},Ze=new WeakSet,fi=function(){document.addEventListener("copy",me(this,xe)),document.addEventListener("cut",me(this,Te)),document.addEventListener("paste",me(this,et))},ze=new WeakSet,pi=function(){document.removeEventListener("copy",me(this,xe)),document.removeEventListener("cut",me(this,Te)),document.removeEventListener("paste",me(this,et))},le=new WeakSet,Ln=function(nt){Object.entries(nt).some(([Ye,Le])=>me(this,Se)[Ye]!==Le)&&me(this,$e).dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(me(this,Se),nt)})},Ce=new WeakSet,fr=function(nt){me(this,$e).dispatch("annotationeditorparamschanged",{source:this,details:nt})},ke=new WeakSet,mi=function(){if(!me(this,De)){St(this,De,!0);for(const nt of me(this,X).values())nt.enable()}},st=new WeakSet,gi=function(){if(this.unselectAll(),me(this,De)){St(this,De,!1);for(const nt of me(this,X).values())nt.disable()}},Ue=new WeakSet,Ir=function(nt){const bt=me(this,X).get(nt.pageIndex);bt?bt.addOrRebuild(nt):this.addEditor(nt)},lt=new WeakSet,pr=function(){if(me(this,W).size===0)return!0;if(me(this,W).size===1)for(const nt of me(this,W).values())return nt.isEmpty();return!1},Ct=new WeakSet,Fr=function(nt){me(this,Fe).clear();for(const bt of nt)bt.isEmpty()||(me(this,Fe).add(bt),bt.select());ft(this,le,Ln).call(this,{hasSelectedEditor:!0})},gn(pe,"_keyboardManager",new ie([[["ctrl+a","mac+meta+a"],$t.prototype.selectAll],[["ctrl+z","mac+meta+z"],$t.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],$t.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],$t.prototype.delete],[["Escape","mac+Escape"],$t.prototype.unselectAll]])),$.AnnotationEditorUIManager=pe},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StatTimer=$.RenderingCancelledException=$.PixelsPerInch=$.PageViewport=$.PDFDateString=$.DOMStandardFontDataFactory=$.DOMSVGFactory=$.DOMCanvasFactory=$.DOMCMapReaderFactory=$.AnnotationPrefix=void 0,$.deprecated=X,$.getColorValues=ce,$.getCurrentTransform=$e,$.getCurrentTransformInverse=Xe,$.getFilenameFromUrl=V,$.getPdfFilenameFromUrl=q,$.getRGB=we,$.getXfaPageViewport=be,$.isDataScheme=G,$.isPdfFile=U,$.isValidFetchUrl=Z,$.loadScript=W,$.setLayerDimensions=De;var O=H(7),R=H(1);const B="http://www.w3.org/2000/svg",ee="pdfjs_internal_id_";$.AnnotationPrefix=ee;const Ge=class{};let se=Ge;gn(se,"CSS",96),gn(se,"PDF",72),gn(se,"PDF_TO_CSS_UNITS",Ge.CSS/Ge.PDF),$.PixelsPerInch=se;class de extends O.BaseCanvasFactory{constructor({ownerDocument:xe=globalThis.document}={}){super(),this._document=xe}_createCanvas(xe,Te){const et=this._document.createElement("canvas");return et.width=xe,et.height=Te,et}}$.DOMCanvasFactory=de;async function ie(Fe,xe=!1){if(Z(Fe,document.baseURI)){const Te=await fetch(Fe);if(!Te.ok)throw new Error(Te.statusText);return xe?new Uint8Array(await Te.arrayBuffer()):(0,R.stringToBytes)(await Te.text())}return new Promise((Te,et)=>{const Ke=new XMLHttpRequest;Ke.open("GET",Fe,!0),xe&&(Ke.responseType="arraybuffer"),Ke.onreadystatechange=()=>{if(Ke.readyState===XMLHttpRequest.DONE){if(Ke.status===200||Ke.status===0){let ye;if(xe&&Ke.response?ye=new Uint8Array(Ke.response):!xe&&Ke.responseText&&(ye=(0,R.stringToBytes)(Ke.responseText)),ye){Te(ye);return}}et(new Error(Ke.statusText))}},Ke.send(null)})}class ne extends O.BaseCMapReaderFactory{_fetchData(xe,Te){return ie(xe,this.isCompressed).then(et=>({cMapData:et,compressionType:Te}))}}$.DOMCMapReaderFactory=ne;class pe extends O.BaseStandardFontDataFactory{_fetchData(xe){return ie(xe,!0)}}$.DOMStandardFontDataFactory=pe;class J extends O.BaseSVGFactory{_createSVG(xe){return document.createElementNS(B,xe)}}$.DOMSVGFactory=J;class K{constructor({viewBox:xe,scale:Te,rotation:et,offsetX:Ke=0,offsetY:ye=0,dontFlip:oe=!1}){this.viewBox=xe,this.scale=Te,this.rotation=et,this.offsetX=Ke,this.offsetY=ye;const re=(xe[2]+xe[0])/2,fe=(xe[3]+xe[1])/2;let Se,Ee,Pe,Oe;switch(et%=360,et<0&&(et+=360),et){case 180:Se=-1,Ee=0,Pe=0,Oe=1;break;case 90:Se=0,Ee=1,Pe=1,Oe=0;break;case 270:Se=0,Ee=-1,Pe=-1,Oe=0;break;case 0:Se=1,Ee=0,Pe=0,Oe=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}oe&&(Pe=-Pe,Oe=-Oe);let He,rt,Ze,tt;Se===0?(He=Math.abs(fe-xe[1])*Te+Ke,rt=Math.abs(re-xe[0])*Te+ye,Ze=(xe[3]-xe[1])*Te,tt=(xe[2]-xe[0])*Te):(He=Math.abs(re-xe[0])*Te+Ke,rt=Math.abs(fe-xe[1])*Te+ye,Ze=(xe[2]-xe[0])*Te,tt=(xe[3]-xe[1])*Te),this.transform=[Se*Te,Ee*Te,Pe*Te,Oe*Te,He-Se*Te*re-Pe*Te*fe,rt-Ee*Te*re-Oe*Te*fe],this.width=Ze,this.height=tt}get rawDims(){const{viewBox:xe}=this;return(0,R.shadow)(this,"rawDims",{pageWidth:xe[2]-xe[0],pageHeight:xe[3]-xe[1],pageX:xe[0],pageY:xe[1]})}clone({scale:xe=this.scale,rotation:Te=this.rotation,offsetX:et=this.offsetX,offsetY:Ke=this.offsetY,dontFlip:ye=!1}={}){return new K({viewBox:this.viewBox.slice(),scale:xe,rotation:Te,offsetX:et,offsetY:Ke,dontFlip:ye})}convertToViewportPoint(xe,Te){return R.Util.applyTransform([xe,Te],this.transform)}convertToViewportRectangle(xe){const Te=R.Util.applyTransform([xe[0],xe[1]],this.transform),et=R.Util.applyTransform([xe[2],xe[3]],this.transform);return[Te[0],Te[1],et[0],et[1]]}convertToPdfPoint(xe,Te){return R.Util.applyInverseTransform([xe,Te],this.transform)}}$.PageViewport=K;class Y extends R.BaseException{constructor(xe,Te,et=0){super(xe,"RenderingCancelledException"),this.type=Te,this.extraDelay=et}}$.RenderingCancelledException=Y;function G(Fe){const xe=Fe.length;let Te=0;for(;Te<xe&&Fe[Te].trim()==="";)Te++;return Fe.substring(Te,Te+5).toLowerCase()==="data:"}function U(Fe){return typeof Fe=="string"&&/\.pdf$/i.test(Fe)}function V(Fe,xe=!1){return xe||([Fe]=Fe.split(/[#?]/,1)),Fe.substring(Fe.lastIndexOf("/")+1)}function q(Fe,xe="document.pdf"){if(typeof Fe!="string")return xe;if(G(Fe))return(0,R.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),xe;const Te=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,et=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,Ke=Te.exec(Fe);let ye=et.exec(Ke[1])||et.exec(Ke[2])||et.exec(Ke[3]);if(ye&&(ye=ye[0],ye.includes("%")))try{ye=et.exec(decodeURIComponent(ye))[0]}catch{}return ye||xe}class Q{constructor(){gn(this,"started",Object.create(null));gn(this,"times",[])}time(xe){xe in this.started&&(0,R.warn)(`Timer is already running for ${xe}`),this.started[xe]=Date.now()}timeEnd(xe){xe in this.started||(0,R.warn)(`Timer has not been started for ${xe}`),this.times.push({name:xe,start:this.started[xe],end:Date.now()}),delete this.started[xe]}toString(){const xe=[];let Te=0;for(const{name:et}of this.times)Te=Math.max(et.length,Te);for(const{name:et,start:Ke,end:ye}of this.times)xe.push(`${et.padEnd(Te)} ${ye-Ke}ms
`);return xe.join("")}}$.StatTimer=Q;function Z(Fe,xe){try{const{protocol:Te}=xe?new URL(Fe,xe):new URL(Fe);return Te==="http:"||Te==="https:"}catch{return!1}}function W(Fe,xe=!1){return new Promise((Te,et)=>{const Ke=document.createElement("script");Ke.src=Fe,Ke.onload=function(ye){xe&&Ke.remove(),Te(ye)},Ke.onerror=function(){et(new Error(`Cannot load script at: ${Ke.src}`))},(document.head||document.documentElement).append(Ke)})}function X(Fe){console.log("Deprecated API usage: "+Fe)}let ue;class _e{static toDateObject(xe){if(!xe||typeof xe!="string")return null;ue||(ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Te=ue.exec(xe);if(!Te)return null;const et=parseInt(Te[1],10);let Ke=parseInt(Te[2],10);Ke=Ke>=1&&Ke<=12?Ke-1:0;let ye=parseInt(Te[3],10);ye=ye>=1&&ye<=31?ye:1;let oe=parseInt(Te[4],10);oe=oe>=0&&oe<=23?oe:0;let re=parseInt(Te[5],10);re=re>=0&&re<=59?re:0;let fe=parseInt(Te[6],10);fe=fe>=0&&fe<=59?fe:0;const Se=Te[7]||"Z";let Ee=parseInt(Te[8],10);Ee=Ee>=0&&Ee<=23?Ee:0;let Pe=parseInt(Te[9],10)||0;return Pe=Pe>=0&&Pe<=59?Pe:0,Se==="-"?(oe+=Ee,re+=Pe):Se==="+"&&(oe-=Ee,re-=Pe),new Date(Date.UTC(et,Ke,ye,oe,re,fe))}}$.PDFDateString=_e;function be(Fe,{scale:xe=1,rotation:Te=0}){const{width:et,height:Ke}=Fe.attributes.style,ye=[0,0,parseInt(et),parseInt(Ke)];return new K({viewBox:ye,scale:xe,rotation:Te})}function we(Fe){if(Fe.startsWith("#")){const xe=parseInt(Fe.slice(1),16);return[(xe&16711680)>>16,(xe&65280)>>8,xe&255]}return Fe.startsWith("rgb(")?Fe.slice(4,-1).split(",").map(xe=>parseInt(xe)):Fe.startsWith("rgba(")?Fe.slice(5,-1).split(",").map(xe=>parseInt(xe)).slice(0,3):((0,R.warn)(`Not a valid color format: "${Fe}"`),[0,0,0])}function ce(Fe){const xe=document.createElement("span");xe.style.visibility="hidden",document.body.append(xe);for(const Te of Fe.keys()){xe.style.color=Te;const et=window.getComputedStyle(xe).color;Fe.set(Te,we(et))}xe.remove()}function $e(Fe){const{a:xe,b:Te,c:et,d:Ke,e:ye,f:oe}=Fe.getTransform();return[xe,Te,et,Ke,ye,oe]}function Xe(Fe){const{a:xe,b:Te,c:et,d:Ke,e:ye,f:oe}=Fe.getTransform().invertSelf();return[xe,Te,et,Ke,ye,oe]}function De(Fe,xe,Te=!1,et=!0){if(xe instanceof K){const{pageWidth:Ke,pageHeight:ye}=xe.rawDims,{style:oe}=Fe,re=`calc(var(--scale-factor) * ${Ke}px)`,fe=`calc(var(--scale-factor) * ${ye}px)`;!Te||xe.rotation%180===0?(oe.width=re,oe.height=fe):(oe.width=fe,oe.height=re)}et&&Fe.setAttribute("data-main-rotation",xe.rotation)}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.BaseStandardFontDataFactory=$.BaseSVGFactory=$.BaseCanvasFactory=$.BaseCMapReaderFactory=void 0;var O=H(1);class R{constructor(){this.constructor===R&&(0,O.unreachable)("Cannot initialize BaseCanvasFactory.")}create(ie,ne){if(ie<=0||ne<=0)throw new Error("Invalid canvas size");const pe=this._createCanvas(ie,ne);return{canvas:pe,context:pe.getContext("2d")}}reset(ie,ne,pe){if(!ie.canvas)throw new Error("Canvas is not specified");if(ne<=0||pe<=0)throw new Error("Invalid canvas size");ie.canvas.width=ne,ie.canvas.height=pe}destroy(ie){if(!ie.canvas)throw new Error("Canvas is not specified");ie.canvas.width=0,ie.canvas.height=0,ie.canvas=null,ie.context=null}_createCanvas(ie,ne){(0,O.unreachable)("Abstract method `_createCanvas` called.")}}$.BaseCanvasFactory=R;class B{constructor({baseUrl:ie=null,isCompressed:ne=!1}){this.constructor===B&&(0,O.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=ie,this.isCompressed=ne}async fetch({name:ie}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!ie)throw new Error("CMap name must be specified.");const ne=this.baseUrl+ie+(this.isCompressed?".bcmap":""),pe=this.isCompressed?O.CMapCompressionType.BINARY:O.CMapCompressionType.NONE;return this._fetchData(ne,pe).catch(J=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${ne}`)})}_fetchData(ie,ne){(0,O.unreachable)("Abstract method `_fetchData` called.")}}$.BaseCMapReaderFactory=B;class ee{constructor({baseUrl:ie=null}){this.constructor===ee&&(0,O.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=ie}async fetch({filename:ie}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!ie)throw new Error("Font filename must be specified.");const ne=`${this.baseUrl}${ie}`;return this._fetchData(ne).catch(pe=>{throw new Error(`Unable to load font data at: ${ne}`)})}_fetchData(ie){(0,O.unreachable)("Abstract method `_fetchData` called.")}}$.BaseStandardFontDataFactory=ee;class se{constructor(){this.constructor===se&&(0,O.unreachable)("Cannot initialize BaseSVGFactory.")}create(ie,ne,pe=!1){if(ie<=0||ne<=0)throw new Error("Invalid SVG dimensions");const J=this._createSVG("svg:svg");return J.setAttribute("version","1.1"),pe||(J.setAttribute("width",`${ie}px`),J.setAttribute("height",`${ne}px`)),J.setAttribute("preserveAspectRatio","none"),J.setAttribute("viewBox",`0 0 ${ie} ${ne}`),J}createElement(ie){if(typeof ie!="string")throw new Error("Invalid SVG element type");return this._createSVG(ie)}_createSVG(ie){(0,O.unreachable)("Abstract method `_createSVG` called.")}}$.BaseSVGFactory=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MurmurHash3_64=void 0;var O=H(1);const R=3285377520,B=4294901760,ee=65535;class se{constructor(ie){this.h1=ie?ie&4294967295:R,this.h2=ie?ie&4294967295:R}update(ie){let ne,pe;if(typeof ie=="string"){ne=new Uint8Array(ie.length*2),pe=0;for(let ue=0,_e=ie.length;ue<_e;ue++){const be=ie.charCodeAt(ue);be<=255?ne[pe++]=be:(ne[pe++]=be>>>8,ne[pe++]=be&255)}}else if((0,O.isArrayBuffer)(ie))ne=ie.slice(),pe=ne.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");const J=pe>>2,K=pe-J*4,Y=new Uint32Array(ne.buffer,0,J);let G=0,U=0,V=this.h1,q=this.h2;const Q=3432918353,Z=461845907,W=Q&ee,X=Z&ee;for(let ue=0;ue<J;ue++)ue&1?(G=Y[ue],G=G*Q&B|G*W&ee,G=G<<15|G>>>17,G=G*Z&B|G*X&ee,V^=G,V=V<<13|V>>>19,V=V*5+3864292196):(U=Y[ue],U=U*Q&B|U*W&ee,U=U<<15|U>>>17,U=U*Z&B|U*X&ee,q^=U,q=q<<13|q>>>19,q=q*5+3864292196);switch(G=0,K){case 3:G^=ne[J*4+2]<<16;case 2:G^=ne[J*4+1]<<8;case 1:G^=ne[J*4],G=G*Q&B|G*W&ee,G=G<<15|G>>>17,G=G*Z&B|G*X&ee,J&1?V^=G:q^=G}this.h1=V,this.h2=q}hexdigest(){let ie=this.h1,ne=this.h2;return ie^=ne>>>1,ie=ie*3981806797&B|ie*36045&ee,ne=ne*4283543511&B|((ne<<16|ie>>>16)*2950163797&B)>>>16,ie^=ne>>>1,ie=ie*444984403&B|ie*60499&ee,ne=ne*3301882366&B|((ne<<16|ie>>>16)*3120437893&B)>>>16,ie^=ne>>>1,(ie>>>0).toString(16).padStart(8,"0")+(ne>>>0).toString(16).padStart(8,"0")}}$.MurmurHash3_64=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.FontLoader=$.FontFaceObject=void 0;var O=H(1),R=H(10);class B{constructor({onUnsupportedFeature:de,ownerDocument:ie=globalThis.document,styleElement:ne=null}){this._onUnsupportedFeature=de,this._document=ie,this.nativeFontFaces=[],this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(de){this.nativeFontFaces.push(de),this._document.fonts.add(de)}insertRule(de){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const ie=this.styleElement.sheet;ie.insertRule(de,ie.cssRules.length)}clear(){for(const de of this.nativeFontFaces)this._document.fonts.delete(de);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(de){if(de.attached||de.missingFile)return;if(de.attached=!0,this.isFontLoadingAPISupported){const ne=de.createNativeFontFace();if(ne){this.addNativeFontFace(ne);try{await ne.loaded}catch(pe){throw this._onUnsupportedFeature({featureId:O.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,O.warn)(`Failed to load font '${ne.family}': '${pe}'.`),de.disableFontFace=!0,pe}}return}const ie=de.createFontFaceRule();if(ie){if(this.insertRule(ie),this.isSyncFontLoadingSupported)return;await new Promise(ne=>{const pe=this._queueLoadingCallback(ne);this._prepareFontLoadEvent(de,pe)})}}get isFontLoadingAPISupported(){var ie;const de=!!((ie=this._document)!=null&&ie.fonts);return(0,O.shadow)(this,"isFontLoadingAPISupported",de)}get isSyncFontLoadingSupported(){let de=!1;return(R.isNodeJS||typeof navigator<"u"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(de=!0),(0,O.shadow)(this,"isSyncFontLoadingSupported",de)}_queueLoadingCallback(de){function ie(){for((0,O.assert)(!pe.done,"completeRequest() cannot be called twice."),pe.done=!0;ne.length>0&&ne[0].done;){const J=ne.shift();setTimeout(J.callback,0)}}const{loadingRequests:ne}=this,pe={done:!1,complete:ie,callback:de};return ne.push(pe),pe}get _loadTestFont(){const de=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return(0,O.shadow)(this,"_loadTestFont",de)}_prepareFontLoadEvent(de,ie){function ne(ce,$e){return ce.charCodeAt($e)<<24|ce.charCodeAt($e+1)<<16|ce.charCodeAt($e+2)<<8|ce.charCodeAt($e+3)&255}function pe(ce,$e,Xe,De){const Ge=ce.substring(0,$e),Fe=ce.substring($e+Xe);return Ge+De+Fe}let J,K;const Y=this._document.createElement("canvas");Y.width=1,Y.height=1;const G=Y.getContext("2d");let U=0;function V(ce,$e){if(++U>30){(0,O.warn)("Load test font never loaded."),$e();return}if(G.font="30px "+ce,G.fillText(".",0,20),G.getImageData(0,0,1,1).data[3]>0){$e();return}setTimeout(V.bind(null,ce,$e))}const q=`lt${Date.now()}${this.loadTestFontId++}`;let Q=this._loadTestFont;Q=pe(Q,976,q.length,q);const W=16,X=1482184792;let ue=ne(Q,W);for(J=0,K=q.length-3;J<K;J+=4)ue=ue-X+ne(q,J)|0;J<q.length&&(ue=ue-X+ne(q+"XXX",J)|0),Q=pe(Q,W,4,(0,O.string32)(ue));const _e=`url(data:font/opentype;base64,${btoa(Q)});`,be=`@font-face {font-family:"${q}";src:${_e}}`;this.insertRule(be);const we=this._document.createElement("div");we.style.visibility="hidden",we.style.width=we.style.height="10px",we.style.position="absolute",we.style.top=we.style.left="0px";for(const ce of[de.loadedName,q]){const $e=this._document.createElement("span");$e.textContent="Hi",$e.style.fontFamily=ce,we.append($e)}this._document.body.append(we),V(q,()=>{we.remove(),ie.complete()})}}$.FontLoader=B;class ee{constructor(de,{isEvalSupported:ie=!0,disableFontFace:ne=!1,ignoreErrors:pe=!1,onUnsupportedFeature:J,fontRegistry:K=null}){this.compiledGlyphs=Object.create(null);for(const Y in de)this[Y]=de[Y];this.isEvalSupported=ie!==!1,this.disableFontFace=ne===!0,this.ignoreErrors=pe===!0,this._onUnsupportedFeature=J,this.fontRegistry=K}createNativeFontFace(){var ie;if(!this.data||this.disableFontFace)return null;let de;if(!this.cssFontInfo)de=new FontFace(this.loadedName,this.data,{});else{const ne={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(ne.style=`oblique ${this.cssFontInfo.italicAngle}deg`),de=new FontFace(this.cssFontInfo.fontFamily,this.data,ne)}return(ie=this.fontRegistry)==null||ie.registerFont(this),de}createFontFaceRule(){var pe;if(!this.data||this.disableFontFace)return null;const de=(0,O.bytesToString)(this.data),ie=`url(data:${this.mimetype};base64,${btoa(de)});`;let ne;if(!this.cssFontInfo)ne=`@font-face {font-family:"${this.loadedName}";src:${ie}}`;else{let J=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(J+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ne=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${J}src:${ie}}`}return(pe=this.fontRegistry)==null||pe.registerFont(this,ie),ne}getPathGenerator(de,ie){if(this.compiledGlyphs[ie]!==void 0)return this.compiledGlyphs[ie];let ne;try{ne=de.get(this.loadedName+"_path_"+ie)}catch(pe){if(!this.ignoreErrors)throw pe;return this._onUnsupportedFeature({featureId:O.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,O.warn)(`getPathGenerator - ignoring character: "${pe}".`),this.compiledGlyphs[ie]=function(J,K){}}if(this.isEvalSupported&&O.FeatureTest.isEvalSupported){const pe=[];for(const J of ne){const K=J.args!==void 0?J.args.join(","):"";pe.push("c.",J.cmd,"(",K,`);
`)}return this.compiledGlyphs[ie]=new Function("c","size",pe.join(""))}return this.compiledGlyphs[ie]=function(pe,J){for(const K of ne)K.cmd==="scale"&&(K.args=[J,-J]),pe[K.cmd].apply(pe,K.args)}}}$.FontFaceObject=ee},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.isNodeJS=void 0;const H=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");$.isNodeJS=H},(A,$,H)=>{var Te,Lr;Object.defineProperty($,"__esModule",{value:!0}),$.CanvasGraphics=void 0;var O=H(1),R=H(6),B=H(12),ee=H(13);const se=16,de=100,ie=4096,ne=15,pe=10,J=1e3,K=16;function Y(ye,oe){if(ye._removeMirroring)throw new Error("Context is already forwarding operations.");ye.__originalSave=ye.save,ye.__originalRestore=ye.restore,ye.__originalRotate=ye.rotate,ye.__originalScale=ye.scale,ye.__originalTranslate=ye.translate,ye.__originalTransform=ye.transform,ye.__originalSetTransform=ye.setTransform,ye.__originalResetTransform=ye.resetTransform,ye.__originalClip=ye.clip,ye.__originalMoveTo=ye.moveTo,ye.__originalLineTo=ye.lineTo,ye.__originalBezierCurveTo=ye.bezierCurveTo,ye.__originalRect=ye.rect,ye.__originalClosePath=ye.closePath,ye.__originalBeginPath=ye.beginPath,ye._removeMirroring=()=>{ye.save=ye.__originalSave,ye.restore=ye.__originalRestore,ye.rotate=ye.__originalRotate,ye.scale=ye.__originalScale,ye.translate=ye.__originalTranslate,ye.transform=ye.__originalTransform,ye.setTransform=ye.__originalSetTransform,ye.resetTransform=ye.__originalResetTransform,ye.clip=ye.__originalClip,ye.moveTo=ye.__originalMoveTo,ye.lineTo=ye.__originalLineTo,ye.bezierCurveTo=ye.__originalBezierCurveTo,ye.rect=ye.__originalRect,ye.closePath=ye.__originalClosePath,ye.beginPath=ye.__originalBeginPath,delete ye._removeMirroring},ye.save=function(){oe.save(),this.__originalSave()},ye.restore=function(){oe.restore(),this.__originalRestore()},ye.translate=function(fe,Se){oe.translate(fe,Se),this.__originalTranslate(fe,Se)},ye.scale=function(fe,Se){oe.scale(fe,Se),this.__originalScale(fe,Se)},ye.transform=function(fe,Se,Ee,Pe,Oe,He){oe.transform(fe,Se,Ee,Pe,Oe,He),this.__originalTransform(fe,Se,Ee,Pe,Oe,He)},ye.setTransform=function(fe,Se,Ee,Pe,Oe,He){oe.setTransform(fe,Se,Ee,Pe,Oe,He),this.__originalSetTransform(fe,Se,Ee,Pe,Oe,He)},ye.resetTransform=function(){oe.resetTransform(),this.__originalResetTransform()},ye.rotate=function(fe){oe.rotate(fe),this.__originalRotate(fe)},ye.clip=function(fe){oe.clip(fe),this.__originalClip(fe)},ye.moveTo=function(re,fe){oe.moveTo(re,fe),this.__originalMoveTo(re,fe)},ye.lineTo=function(re,fe){oe.lineTo(re,fe),this.__originalLineTo(re,fe)},ye.bezierCurveTo=function(re,fe,Se,Ee,Pe,Oe){oe.bezierCurveTo(re,fe,Se,Ee,Pe,Oe),this.__originalBezierCurveTo(re,fe,Se,Ee,Pe,Oe)},ye.rect=function(re,fe,Se,Ee){oe.rect(re,fe,Se,Ee),this.__originalRect(re,fe,Se,Ee)},ye.closePath=function(){oe.closePath(),this.__originalClosePath()},ye.beginPath=function(){oe.beginPath(),this.__originalBeginPath()}}class G{constructor(oe){this.canvasFactory=oe,this.cache=Object.create(null)}getCanvas(oe,re,fe){let Se;return this.cache[oe]!==void 0?(Se=this.cache[oe],this.canvasFactory.reset(Se,re,fe)):(Se=this.canvasFactory.create(re,fe),this.cache[oe]=Se),Se}delete(oe){delete this.cache[oe]}clear(){for(const oe in this.cache){const re=this.cache[oe];this.canvasFactory.destroy(re),delete this.cache[oe]}}}function U(ye,oe,re,fe,Se,Ee,Pe,Oe,He,rt){const[Ze,tt,ze,ae,le,ve]=(0,R.getCurrentTransform)(ye);if(tt===0&&ze===0){const ke=Pe*Ze+le,Je=Math.round(ke),st=Oe*ae+ve,it=Math.round(st),Ue=(Pe+He)*Ze+le,ht=Math.abs(Math.round(Ue)-Je)||1,lt=(Oe+rt)*ae+ve,pt=Math.abs(Math.round(lt)-it)||1;return ye.setTransform(Math.sign(Ze),0,0,Math.sign(ae),Je,it),ye.drawImage(oe,re,fe,Se,Ee,0,0,ht,pt),ye.setTransform(Ze,tt,ze,ae,le,ve),[ht,pt]}if(Ze===0&&ae===0){const ke=Oe*ze+le,Je=Math.round(ke),st=Pe*tt+ve,it=Math.round(st),Ue=(Oe+rt)*ze+le,ht=Math.abs(Math.round(Ue)-Je)||1,lt=(Pe+He)*tt+ve,pt=Math.abs(Math.round(lt)-it)||1;return ye.setTransform(0,Math.sign(tt),Math.sign(ze),0,Je,it),ye.drawImage(oe,re,fe,Se,Ee,0,0,pt,ht),ye.setTransform(Ze,tt,ze,ae,le,ve),[pt,ht]}ye.drawImage(oe,re,fe,Se,Ee,Pe,Oe,He,rt);const Ce=Math.hypot(Ze,tt),ge=Math.hypot(ze,ae);return[Ce*He,ge*rt]}function V(ye){const{width:oe,height:re}=ye;if(oe>J||re>J)return null;const fe=1e3,Se=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Ee=oe+1;let Pe=new Uint8Array(Ee*(re+1)),Oe,He,rt;const Ze=oe+7&-8;let tt=new Uint8Array(Ze*re),ze=0;for(const ge of ye.data){let ke=128;for(;ke>0;)tt[ze++]=ge&ke?0:255,ke>>=1}let ae=0;for(ze=0,tt[ze]!==0&&(Pe[0]=1,++ae),He=1;He<oe;He++)tt[ze]!==tt[ze+1]&&(Pe[He]=tt[ze]?2:1,++ae),ze++;for(tt[ze]!==0&&(Pe[He]=2,++ae),Oe=1;Oe<re;Oe++){ze=Oe*Ze,rt=Oe*Ee,tt[ze-Ze]!==tt[ze]&&(Pe[rt]=tt[ze]?1:8,++ae);let ge=(tt[ze]?4:0)+(tt[ze-Ze]?8:0);for(He=1;He<oe;He++)ge=(ge>>2)+(tt[ze+1]?4:0)+(tt[ze-Ze+1]?8:0),Se[ge]&&(Pe[rt+He]=Se[ge],++ae),ze++;if(tt[ze-Ze]!==tt[ze]&&(Pe[rt+He]=tt[ze]?2:4,++ae),ae>fe)return null}for(ze=Ze*(re-1),rt=Oe*Ee,tt[ze]!==0&&(Pe[rt]=8,++ae),He=1;He<oe;He++)tt[ze]!==tt[ze+1]&&(Pe[rt+He]=tt[ze]?4:8,++ae),ze++;if(tt[ze]!==0&&(Pe[rt+He]=4,++ae),ae>fe)return null;const le=new Int32Array([0,Ee,-1,0,-Ee,0,0,0,1]),ve=new Path2D;for(Oe=0;ae&&Oe<=re;Oe++){let ge=Oe*Ee;const ke=ge+oe;for(;ge<ke&&!Pe[ge];)ge++;if(ge===ke)continue;ve.moveTo(ge%Ee,Oe);const Je=ge;let st=Pe[ge];do{const it=le[st];do ge+=it;while(!Pe[ge]);const Ue=Pe[ge];Ue!==5&&Ue!==10?(st=Ue,Pe[ge]=0):(st=Ue&51*st>>4,Pe[ge]&=st>>2|st<<2),ve.lineTo(ge%Ee,ge/Ee|0),Pe[ge]||--ae}while(Je!==ge);--Oe}return tt=null,Pe=null,function(ge){ge.save(),ge.scale(1/oe,-1/re),ge.translate(0,-re),ge.fill(ve),ge.beginPath(),ge.restore()}}class q{constructor(oe,re){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=O.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=O.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=O.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,oe,re])}clone(){const oe=Object.create(this);return oe.clipBox=this.clipBox.slice(),oe}setCurrentPoint(oe,re){this.x=oe,this.y=re}updatePathMinMax(oe,re,fe){[re,fe]=O.Util.applyTransform([re,fe],oe),this.minX=Math.min(this.minX,re),this.minY=Math.min(this.minY,fe),this.maxX=Math.max(this.maxX,re),this.maxY=Math.max(this.maxY,fe)}updateRectMinMax(oe,re){const fe=O.Util.applyTransform(re,oe),Se=O.Util.applyTransform(re.slice(2),oe);this.minX=Math.min(this.minX,fe[0],Se[0]),this.minY=Math.min(this.minY,fe[1],Se[1]),this.maxX=Math.max(this.maxX,fe[0],Se[0]),this.maxY=Math.max(this.maxY,fe[1],Se[1])}updateScalingPathMinMax(oe,re){O.Util.scaleMinMax(oe,re),this.minX=Math.min(this.minX,re[0]),this.maxX=Math.max(this.maxX,re[1]),this.minY=Math.min(this.minY,re[2]),this.maxY=Math.max(this.maxY,re[3])}updateCurvePathMinMax(oe,re,fe,Se,Ee,Pe,Oe,He,rt,Ze){const tt=O.Util.bezierBoundingBox(re,fe,Se,Ee,Pe,Oe,He,rt);if(Ze){Ze[0]=Math.min(Ze[0],tt[0],tt[2]),Ze[1]=Math.max(Ze[1],tt[0],tt[2]),Ze[2]=Math.min(Ze[2],tt[1],tt[3]),Ze[3]=Math.max(Ze[3],tt[1],tt[3]);return}this.updateRectMinMax(oe,tt)}getPathBoundingBox(oe=B.PathType.FILL,re=null){const fe=[this.minX,this.minY,this.maxX,this.maxY];if(oe===B.PathType.STROKE){re||(0,O.unreachable)("Stroke bounding box must include transform.");const Se=O.Util.singularValueDecompose2dScale(re),Ee=Se[0]*this.lineWidth/2,Pe=Se[1]*this.lineWidth/2;fe[0]-=Ee,fe[1]-=Pe,fe[2]+=Ee,fe[3]+=Pe}return fe}updateClipFromPath(){const oe=O.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(oe||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(oe){this.clipBox=oe,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(oe=B.PathType.FILL,re=null){return O.Util.intersect(this.clipBox,this.getPathBoundingBox(oe,re))}}function Q(ye,oe,re=null){if(typeof ImageData<"u"&&oe instanceof ImageData){ye.putImageData(oe,0,0);return}const fe=oe.height,Se=oe.width,Ee=fe%K,Pe=(fe-Ee)/K,Oe=Ee===0?Pe:Pe+1,He=ye.createImageData(Se,K);let rt=0,Ze;const tt=oe.data,ze=He.data;let ae,le,ve,Ce,ge,ke,Je,st;if(re)switch(re.length){case 1:ge=re[0],ke=re[0],Je=re[0],st=re[0];break;case 4:ge=re[0],ke=re[1],Je=re[2],st=re[3];break}if(oe.kind===O.ImageKind.GRAYSCALE_1BPP){const it=tt.byteLength,Ue=new Uint32Array(ze.buffer,0,ze.byteLength>>2),ht=Ue.length,lt=Se+7>>3;let pt=4294967295,Ct=O.FeatureTest.isLittleEndian?4278190080:255;for(st&&st[0]===255&&st[255]===0&&([pt,Ct]=[Ct,pt]),ae=0;ae<Oe;ae++){for(ve=ae<Pe?K:Ee,Ze=0,le=0;le<ve;le++){const yt=it-rt;let $t=0;const jt=yt>lt?Se:yt*8-7,nt=jt&-8;let bt=0,Ye=0;for(;$t<nt;$t+=8)Ye=tt[rt++],Ue[Ze++]=Ye&128?pt:Ct,Ue[Ze++]=Ye&64?pt:Ct,Ue[Ze++]=Ye&32?pt:Ct,Ue[Ze++]=Ye&16?pt:Ct,Ue[Ze++]=Ye&8?pt:Ct,Ue[Ze++]=Ye&4?pt:Ct,Ue[Ze++]=Ye&2?pt:Ct,Ue[Ze++]=Ye&1?pt:Ct;for(;$t<jt;$t++)bt===0&&(Ye=tt[rt++],bt=128),Ue[Ze++]=Ye&bt?pt:Ct,bt>>=1}for(;Ze<ht;)Ue[Ze++]=0;ye.putImageData(He,0,ae*K)}}else if(oe.kind===O.ImageKind.RGBA_32BPP){const it=!!(ge||ke||Je);for(le=0,Ce=Se*K*4,ae=0;ae<Pe;ae++){if(ze.set(tt.subarray(rt,rt+Ce)),rt+=Ce,it)for(let Ue=0;Ue<Ce;Ue+=4)ge&&(ze[Ue+0]=ge[ze[Ue+0]]),ke&&(ze[Ue+1]=ke[ze[Ue+1]]),Je&&(ze[Ue+2]=Je[ze[Ue+2]]);ye.putImageData(He,0,le),le+=K}if(ae<Oe){if(Ce=Se*Ee*4,ze.set(tt.subarray(rt,rt+Ce)),it)for(let Ue=0;Ue<Ce;Ue+=4)ge&&(ze[Ue+0]=ge[ze[Ue+0]]),ke&&(ze[Ue+1]=ke[ze[Ue+1]]),Je&&(ze[Ue+2]=Je[ze[Ue+2]]);ye.putImageData(He,0,le)}}else if(oe.kind===O.ImageKind.RGB_24BPP){const it=!!(ge||ke||Je);for(ve=K,Ce=Se*ve,ae=0;ae<Oe;ae++){for(ae>=Pe&&(ve=Ee,Ce=Se*ve),Ze=0,le=Ce;le--;)ze[Ze++]=tt[rt++],ze[Ze++]=tt[rt++],ze[Ze++]=tt[rt++],ze[Ze++]=255;if(it)for(let Ue=0;Ue<Ze;Ue+=4)ge&&(ze[Ue+0]=ge[ze[Ue+0]]),ke&&(ze[Ue+1]=ke[ze[Ue+1]]),Je&&(ze[Ue+2]=Je[ze[Ue+2]]);ye.putImageData(He,0,ae*K)}}else throw new Error(`bad image kind: ${oe.kind}`)}function Z(ye,oe){if(oe.bitmap){ye.drawImage(oe.bitmap,0,0);return}const re=oe.height,fe=oe.width,Se=re%K,Ee=(re-Se)/K,Pe=Se===0?Ee:Ee+1,Oe=ye.createImageData(fe,K);let He=0;const rt=oe.data,Ze=Oe.data;for(let tt=0;tt<Pe;tt++){const ze=tt<Ee?K:Se;({srcPos:He}=(0,ee.applyMaskImageData)({src:rt,srcPos:He,dest:Ze,width:fe,height:ze})),ye.putImageData(Oe,0,tt*K)}}function W(ye,oe){const re=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(const fe of re)ye[fe]!==void 0&&(oe[fe]=ye[fe]);ye.setLineDash!==void 0&&(oe.setLineDash(ye.getLineDash()),oe.lineDashOffset=ye.lineDashOffset)}function X(ye,oe){ye.strokeStyle=ye.fillStyle=oe||"#000000",ye.fillRule="nonzero",ye.globalAlpha=1,ye.lineWidth=1,ye.lineCap="butt",ye.lineJoin="miter",ye.miterLimit=10,ye.globalCompositeOperation="source-over",ye.font="10px sans-serif",ye.setLineDash!==void 0&&(ye.setLineDash([]),ye.lineDashOffset=0)}function ue(ye,oe,re,fe){const Se=ye.length;for(let Ee=3;Ee<Se;Ee+=4){const Pe=ye[Ee];if(Pe===0)ye[Ee-3]=oe,ye[Ee-2]=re,ye[Ee-1]=fe;else if(Pe<255){const Oe=255-Pe;ye[Ee-3]=ye[Ee-3]*Pe+oe*Oe>>8,ye[Ee-2]=ye[Ee-2]*Pe+re*Oe>>8,ye[Ee-1]=ye[Ee-1]*Pe+fe*Oe>>8}}}function _e(ye,oe,re){const fe=ye.length,Se=1/255;for(let Ee=3;Ee<fe;Ee+=4){const Pe=re?re[ye[Ee]]:ye[Ee];oe[Ee]=oe[Ee]*Pe*Se|0}}function be(ye,oe,re){const fe=ye.length;for(let Se=3;Se<fe;Se+=4){const Ee=ye[Se-3]*77+ye[Se-2]*152+ye[Se-1]*28;oe[Se]=re?oe[Se]*re[Ee>>8]>>8:oe[Se]*Ee>>16}}function we(ye,oe,re,fe,Se,Ee,Pe,Oe,He,rt,Ze){const tt=!!Ee,ze=tt?Ee[0]:0,ae=tt?Ee[1]:0,le=tt?Ee[2]:0;let ve;Se==="Luminosity"?ve=be:ve=_e;const ge=Math.min(fe,Math.ceil(1048576/re));for(let ke=0;ke<fe;ke+=ge){const Je=Math.min(ge,fe-ke),st=ye.getImageData(Oe-rt,ke+(He-Ze),re,Je),it=oe.getImageData(Oe,ke+He,re,Je);tt&&ue(st.data,ze,ae,le),ve(st.data,it.data,Pe),oe.putImageData(it,Oe,ke+He)}}function ce(ye,oe,re,fe){const Se=fe[0],Ee=fe[1],Pe=fe[2]-Se,Oe=fe[3]-Ee;Pe===0||Oe===0||(we(oe.context,re,Pe,Oe,oe.subtype,oe.backdrop,oe.transferMap,Se,Ee,oe.offsetX,oe.offsetY),ye.save(),ye.globalAlpha=1,ye.globalCompositeOperation="source-over",ye.setTransform(1,0,0,1,0,0),ye.drawImage(re.canvas,0,0),ye.restore())}function $e(ye,oe){const re=O.Util.singularValueDecompose2dScale(ye);re[0]=Math.fround(re[0]),re[1]=Math.fround(re[1]);const fe=Math.fround((globalThis.devicePixelRatio||1)*R.PixelsPerInch.PDF_TO_CSS_UNITS);return oe!==void 0?oe:re[0]<=fe||re[1]<=fe}const Xe=["butt","round","square"],De=["miter","round","bevel"],Ge={},Fe={},Ke=class{constructor(oe,re,fe,Se,{optionalContentConfig:Ee,markedContentStack:Pe=null},Oe,He){at(this,Te);this.ctx=oe,this.current=new q(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=re,this.objs=fe,this.canvasFactory=Se,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Pe||[],this.optionalContentConfig=Ee,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Oe,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=(He==null?void 0:He.background)||null,this.foregroundColor=(He==null?void 0:He.foreground)||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(oe,re=null){return typeof oe=="string"?oe.startsWith("g_")?this.commonObjs.get(oe):this.objs.get(oe):re}beginDrawing({transform:oe,viewport:re,transparency:fe=!1,background:Se=null}){const Ee=this.ctx.canvas.width,Pe=this.ctx.canvas.height,Oe=Se||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const He=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const rt=this.backgroundColor=this.ctx.fillStyle;let Ze=!0,tt=Oe;if(this.ctx.fillStyle=Oe,tt=this.ctx.fillStyle,Ze=typeof tt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(tt),He==="#000000"&&rt==="#ffffff"||He===rt||!Ze)this.foregroundColor=this.backgroundColor=null;else{const[ze,ae,le]=(0,R.getRGB)(tt),ve=ge=>(ge/=255,ge<=.03928?ge/12.92:((ge+.055)/1.055)**2.4),Ce=Math.round(.2126*ve(ze)+.7152*ve(ae)+.0722*ve(le));this.selectColor=(ge,ke,Je)=>{const st=.2126*ve(ge)+.7152*ve(ke)+.0722*ve(Je);return Math.round(st)===Ce?rt:He}}}if(this.ctx.fillStyle=this.backgroundColor||Oe,this.ctx.fillRect(0,0,Ee,Pe),this.ctx.restore(),fe){const He=this.cachedCanvases.getCanvas("transparent",Ee,Pe);this.compositeCtx=this.ctx,this.transparentCanvas=He.canvas,this.ctx=He.context,this.ctx.save(),this.ctx.transform(...(0,R.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),X(this.ctx,this.foregroundColor),oe&&(this.ctx.transform(...oe),this.outputScaleX=oe[0],this.outputScaleY=oe[0]),this.ctx.transform(...re.transform),this.viewportScale=re.scale,this.baseTransform=(0,R.getCurrentTransform)(this.ctx)}executeOperatorList(oe,re,fe,Se){const Ee=oe.argsArray,Pe=oe.fnArray;let Oe=re||0;const He=Ee.length;if(He===Oe)return Oe;const rt=He-Oe>pe&&typeof fe=="function",Ze=rt?Date.now()+ne:0;let tt=0;const ze=this.commonObjs,ae=this.objs;let le;for(;;){if(Se!==void 0&&Oe===Se.nextBreakPoint)return Se.breakIt(Oe,fe),Oe;if(le=Pe[Oe],le!==O.OPS.dependency)this[le].apply(this,Ee[Oe]);else for(const ve of Ee[Oe]){const Ce=ve.startsWith("g_")?ze:ae;if(!Ce.has(ve))return Ce.get(ve,fe),Oe}if(Oe++,Oe===He)return Oe;if(rt&&++tt>pe){if(Date.now()>Ze)return fe(),Oe;tt=0}}}endDrawing(){ft(this,Te,Lr).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const oe of this._cachedBitmapsMap.values()){for(const re of oe.values())typeof HTMLCanvasElement<"u"&&re instanceof HTMLCanvasElement&&(re.width=re.height=0);oe.clear()}this._cachedBitmapsMap.clear()}_scaleImage(oe,re){const fe=oe.width,Se=oe.height;let Ee=Math.max(Math.hypot(re[0],re[1]),1),Pe=Math.max(Math.hypot(re[2],re[3]),1),Oe=fe,He=Se,rt="prescale1",Ze,tt;for(;Ee>2&&Oe>1||Pe>2&&He>1;){let ze=Oe,ae=He;Ee>2&&Oe>1&&(ze=Math.ceil(Oe/2),Ee/=Oe/ze),Pe>2&&He>1&&(ae=Math.ceil(He/2),Pe/=He/ae),Ze=this.cachedCanvases.getCanvas(rt,ze,ae),tt=Ze.context,tt.clearRect(0,0,ze,ae),tt.drawImage(oe,0,0,Oe,He,0,0,ze,ae),oe=Ze.canvas,Oe=ze,He=ae,rt=rt==="prescale1"?"prescale2":"prescale1"}return{img:oe,paintWidth:Oe,paintHeight:He}}_createMaskCanvas(oe){const re=this.ctx,{width:fe,height:Se}=oe,Ee=this.current.fillColor,Pe=this.current.patternFill,Oe=(0,R.getCurrentTransform)(re);let He,rt,Ze,tt;if((oe.bitmap||oe.data)&&oe.count>1){const ht=oe.bitmap||oe.data.buffer;rt=JSON.stringify(Pe?Oe:[Oe.slice(0,4),Ee]),He=this._cachedBitmapsMap.get(ht),He||(He=new Map,this._cachedBitmapsMap.set(ht,He));const lt=He.get(rt);if(lt&&!Pe){const pt=Math.round(Math.min(Oe[0],Oe[2])+Oe[4]),Ct=Math.round(Math.min(Oe[1],Oe[3])+Oe[5]);return{canvas:lt,offsetX:pt,offsetY:Ct}}Ze=lt}Ze||(tt=this.cachedCanvases.getCanvas("maskCanvas",fe,Se),Z(tt.context,oe));let ze=O.Util.transform(Oe,[1/fe,0,0,-1/Se,0,0]);ze=O.Util.transform(ze,[1,0,0,1,0,-Se]);const ae=O.Util.applyTransform([0,0],ze),le=O.Util.applyTransform([fe,Se],ze),ve=O.Util.normalizeRect([ae[0],ae[1],le[0],le[1]]),Ce=Math.round(ve[2]-ve[0])||1,ge=Math.round(ve[3]-ve[1])||1,ke=this.cachedCanvases.getCanvas("fillCanvas",Ce,ge),Je=ke.context,st=Math.min(ae[0],le[0]),it=Math.min(ae[1],le[1]);Je.translate(-st,-it),Je.transform(...ze),Ze||(Ze=this._scaleImage(tt.canvas,(0,R.getCurrentTransformInverse)(Je)),Ze=Ze.img,He&&Pe&&He.set(rt,Ze)),Je.imageSmoothingEnabled=$e((0,R.getCurrentTransform)(Je),oe.interpolate),U(Je,Ze,0,0,Ze.width,Ze.height,0,0,fe,Se),Je.globalCompositeOperation="source-in";const Ue=O.Util.transform((0,R.getCurrentTransformInverse)(Je),[1,0,0,1,-st,-it]);return Je.fillStyle=Pe?Ee.getPattern(re,this,Ue,B.PathType.FILL):Ee,Je.fillRect(0,0,fe,Se),He&&!Pe&&(this.cachedCanvases.delete("fillCanvas"),He.set(rt,ke.canvas)),{canvas:ke.canvas,offsetX:Math.round(st),offsetY:Math.round(it)}}setLineWidth(oe){oe!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=oe,this.ctx.lineWidth=oe}setLineCap(oe){this.ctx.lineCap=Xe[oe]}setLineJoin(oe){this.ctx.lineJoin=De[oe]}setMiterLimit(oe){this.ctx.miterLimit=oe}setDash(oe,re){const fe=this.ctx;fe.setLineDash!==void 0&&(fe.setLineDash(oe),fe.lineDashOffset=re)}setRenderingIntent(oe){}setFlatness(oe){}setGState(oe){for(const[re,fe]of oe)switch(re){case"LW":this.setLineWidth(fe);break;case"LC":this.setLineCap(fe);break;case"LJ":this.setLineJoin(fe);break;case"ML":this.setMiterLimit(fe);break;case"D":this.setDash(fe[0],fe[1]);break;case"RI":this.setRenderingIntent(fe);break;case"FL":this.setFlatness(fe);break;case"Font":this.setFont(fe[0],fe[1]);break;case"CA":this.current.strokeAlpha=fe;break;case"ca":this.current.fillAlpha=fe,this.ctx.globalAlpha=fe;break;case"BM":this.ctx.globalCompositeOperation=fe;break;case"SMask":this.current.activeSMask=fe?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=fe}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const oe=this.inSMaskMode;this.current.activeSMask&&!oe?this.beginSMaskMode():!this.current.activeSMask&&oe&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const oe=this.ctx.canvas.width,re=this.ctx.canvas.height,fe="smaskGroupAt"+this.groupLevel,Se=this.cachedCanvases.getCanvas(fe,oe,re);this.suspendedCtx=this.ctx,this.ctx=Se.context;const Ee=this.ctx;Ee.setTransform(...(0,R.getCurrentTransform)(this.suspendedCtx)),W(this.suspendedCtx,Ee),Y(Ee,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),W(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(oe){if(!this.current.activeSMask)return;oe?(oe[0]=Math.floor(oe[0]),oe[1]=Math.floor(oe[1]),oe[2]=Math.ceil(oe[2]),oe[3]=Math.ceil(oe[3])):oe=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const re=this.current.activeSMask,fe=this.suspendedCtx;ce(fe,re,this.ctx,oe),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(W(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const oe=this.current;this.stateStack.push(oe),this.current=oe.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),W(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(oe,re,fe,Se,Ee,Pe){this.ctx.transform(oe,re,fe,Se,Ee,Pe),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(oe,re,fe){const Se=this.ctx,Ee=this.current;let Pe=Ee.x,Oe=Ee.y,He,rt;const Ze=(0,R.getCurrentTransform)(Se),tt=Ze[0]===0&&Ze[3]===0||Ze[1]===0&&Ze[2]===0,ze=tt?fe.slice(0):null;for(let ae=0,le=0,ve=oe.length;ae<ve;ae++)switch(oe[ae]|0){case O.OPS.rectangle:Pe=re[le++],Oe=re[le++];const Ce=re[le++],ge=re[le++],ke=Pe+Ce,Je=Oe+ge;Se.moveTo(Pe,Oe),Ce===0||ge===0?Se.lineTo(ke,Je):(Se.lineTo(ke,Oe),Se.lineTo(ke,Je),Se.lineTo(Pe,Je)),tt||Ee.updateRectMinMax(Ze,[Pe,Oe,ke,Je]),Se.closePath();break;case O.OPS.moveTo:Pe=re[le++],Oe=re[le++],Se.moveTo(Pe,Oe),tt||Ee.updatePathMinMax(Ze,Pe,Oe);break;case O.OPS.lineTo:Pe=re[le++],Oe=re[le++],Se.lineTo(Pe,Oe),tt||Ee.updatePathMinMax(Ze,Pe,Oe);break;case O.OPS.curveTo:He=Pe,rt=Oe,Pe=re[le+4],Oe=re[le+5],Se.bezierCurveTo(re[le],re[le+1],re[le+2],re[le+3],Pe,Oe),Ee.updateCurvePathMinMax(Ze,He,rt,re[le],re[le+1],re[le+2],re[le+3],Pe,Oe,ze),le+=6;break;case O.OPS.curveTo2:He=Pe,rt=Oe,Se.bezierCurveTo(Pe,Oe,re[le],re[le+1],re[le+2],re[le+3]),Ee.updateCurvePathMinMax(Ze,He,rt,Pe,Oe,re[le],re[le+1],re[le+2],re[le+3],ze),Pe=re[le+2],Oe=re[le+3],le+=4;break;case O.OPS.curveTo3:He=Pe,rt=Oe,Pe=re[le+2],Oe=re[le+3],Se.bezierCurveTo(re[le],re[le+1],Pe,Oe,Pe,Oe),Ee.updateCurvePathMinMax(Ze,He,rt,re[le],re[le+1],Pe,Oe,Pe,Oe,ze),le+=4;break;case O.OPS.closePath:Se.closePath();break}tt&&Ee.updateScalingPathMinMax(Ze,ze),Ee.setCurrentPoint(Pe,Oe)}closePath(){this.ctx.closePath()}stroke(oe=!0){const re=this.ctx,fe=this.current.strokeColor;re.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof fe=="object"&&(fe!=null&&fe.getPattern)?(re.save(),re.strokeStyle=fe.getPattern(re,this,(0,R.getCurrentTransformInverse)(re),B.PathType.STROKE),this.rescaleAndStroke(!1),re.restore()):this.rescaleAndStroke(!0)),oe&&this.consumePath(this.current.getClippedPathBoundingBox()),re.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(oe=!0){const re=this.ctx,fe=this.current.fillColor,Se=this.current.patternFill;let Ee=!1;Se&&(re.save(),re.fillStyle=fe.getPattern(re,this,(0,R.getCurrentTransformInverse)(re),B.PathType.FILL),Ee=!0);const Pe=this.current.getClippedPathBoundingBox();this.contentVisible&&Pe!==null&&(this.pendingEOFill?(re.fill("evenodd"),this.pendingEOFill=!1):re.fill()),Ee&&re.restore(),oe&&this.consumePath(Pe)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ge}eoClip(){this.pendingClip=Fe}beginText(){this.current.textMatrix=O.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const oe=this.pendingTextPaths,re=this.ctx;if(oe===void 0){re.beginPath();return}re.save(),re.beginPath();for(const fe of oe)re.setTransform(...fe.transform),re.translate(fe.x,fe.y),fe.addToPath(re,fe.fontSize);re.restore(),re.clip(),re.beginPath(),delete this.pendingTextPaths}setCharSpacing(oe){this.current.charSpacing=oe}setWordSpacing(oe){this.current.wordSpacing=oe}setHScale(oe){this.current.textHScale=oe/100}setLeading(oe){this.current.leading=-oe}setFont(oe,re){const fe=this.commonObjs.get(oe),Se=this.current;if(!fe)throw new Error(`Can't find font for ${oe}`);if(Se.fontMatrix=fe.fontMatrix||O.FONT_IDENTITY_MATRIX,(Se.fontMatrix[0]===0||Se.fontMatrix[3]===0)&&(0,O.warn)("Invalid font matrix for font "+oe),re<0?(re=-re,Se.fontDirection=-1):Se.fontDirection=1,this.current.font=fe,this.current.fontSize=re,fe.isType3Font)return;const Ee=fe.loadedName||"sans-serif";let Pe="normal";fe.black?Pe="900":fe.bold&&(Pe="bold");const Oe=fe.italic?"italic":"normal",He=`"${Ee}", ${fe.fallbackName}`;let rt=re;re<se?rt=se:re>de&&(rt=de),this.current.fontSizeScale=re/rt,this.ctx.font=`${Oe} ${Pe} ${rt}px ${He}`}setTextRenderingMode(oe){this.current.textRenderingMode=oe}setTextRise(oe){this.current.textRise=oe}moveText(oe,re){this.current.x=this.current.lineX+=oe,this.current.y=this.current.lineY+=re}setLeadingMoveText(oe,re){this.setLeading(-re),this.moveText(oe,re)}setTextMatrix(oe,re,fe,Se,Ee,Pe){this.current.textMatrix=[oe,re,fe,Se,Ee,Pe],this.current.textMatrixScale=Math.hypot(oe,re),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(oe,re,fe,Se){const Ee=this.ctx,Pe=this.current,Oe=Pe.font,He=Pe.textRenderingMode,rt=Pe.fontSize/Pe.fontSizeScale,Ze=He&O.TextRenderingMode.FILL_STROKE_MASK,tt=!!(He&O.TextRenderingMode.ADD_TO_PATH_FLAG),ze=Pe.patternFill&&!Oe.missingFile;let ae;(Oe.disableFontFace||tt||ze)&&(ae=Oe.getPathGenerator(this.commonObjs,oe)),Oe.disableFontFace||ze?(Ee.save(),Ee.translate(re,fe),Ee.beginPath(),ae(Ee,rt),Se&&Ee.setTransform(...Se),(Ze===O.TextRenderingMode.FILL||Ze===O.TextRenderingMode.FILL_STROKE)&&Ee.fill(),(Ze===O.TextRenderingMode.STROKE||Ze===O.TextRenderingMode.FILL_STROKE)&&Ee.stroke(),Ee.restore()):((Ze===O.TextRenderingMode.FILL||Ze===O.TextRenderingMode.FILL_STROKE)&&Ee.fillText(oe,re,fe),(Ze===O.TextRenderingMode.STROKE||Ze===O.TextRenderingMode.FILL_STROKE)&&Ee.strokeText(oe,re,fe)),tt&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,R.getCurrentTransform)(Ee),x:re,y:fe,fontSize:rt,addToPath:ae})}get isFontSubpixelAAEnabled(){const{context:oe}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);oe.scale(1.5,1),oe.fillText("I",0,10);const re=oe.getImageData(0,0,10,10).data;let fe=!1;for(let Se=3;Se<re.length;Se+=4)if(re[Se]>0&&re[Se]<255){fe=!0;break}return(0,O.shadow)(this,"isFontSubpixelAAEnabled",fe)}showText(oe){const re=this.current,fe=re.font;if(fe.isType3Font)return this.showType3Text(oe);const Se=re.fontSize;if(Se===0)return;const Ee=this.ctx,Pe=re.fontSizeScale,Oe=re.charSpacing,He=re.wordSpacing,rt=re.fontDirection,Ze=re.textHScale*rt,tt=oe.length,ze=fe.vertical,ae=ze?1:-1,le=fe.defaultVMetrics,ve=Se*re.fontMatrix[0],Ce=re.textRenderingMode===O.TextRenderingMode.FILL&&!fe.disableFontFace&&!re.patternFill;Ee.save(),Ee.transform(...re.textMatrix),Ee.translate(re.x,re.y+re.textRise),rt>0?Ee.scale(Ze,-1):Ee.scale(Ze,1);let ge;if(re.patternFill){Ee.save();const Ue=re.fillColor.getPattern(Ee,this,(0,R.getCurrentTransformInverse)(Ee),B.PathType.FILL);ge=(0,R.getCurrentTransform)(Ee),Ee.restore(),Ee.fillStyle=Ue}let ke=re.lineWidth;const Je=re.textMatrixScale;if(Je===0||ke===0){const Ue=re.textRenderingMode&O.TextRenderingMode.FILL_STROKE_MASK;(Ue===O.TextRenderingMode.STROKE||Ue===O.TextRenderingMode.FILL_STROKE)&&(ke=this.getSinglePixelWidth())}else ke/=Je;if(Pe!==1&&(Ee.scale(Pe,Pe),ke/=Pe),Ee.lineWidth=ke,fe.isInvalidPDFjsFont){const Ue=[];let ht=0;for(const lt of oe)Ue.push(lt.unicode),ht+=lt.width;Ee.fillText(Ue.join(""),0,0),re.x+=ht*ve*Ze,Ee.restore(),this.compose();return}let st=0,it;for(it=0;it<tt;++it){const Ue=oe[it];if(typeof Ue=="number"){st+=ae*Ue*Se/1e3;continue}let ht=!1;const lt=(Ue.isSpace?He:0)+Oe,pt=Ue.fontChar,Ct=Ue.accent;let yt,$t,jt=Ue.width;if(ze){const bt=Ue.vmetric||le,Ye=-(Ue.vmetric?bt[1]:jt*.5)*ve,Le=bt[2]*ve;jt=bt?-bt[0]:jt,yt=Ye/Pe,$t=(st+Le)/Pe}else yt=st/Pe,$t=0;if(fe.remeasure&&jt>0){const bt=Ee.measureText(pt).width*1e3/Se*Pe;if(jt<bt&&this.isFontSubpixelAAEnabled){const Ye=jt/bt;ht=!0,Ee.save(),Ee.scale(Ye,1),yt/=Ye}else jt!==bt&&(yt+=(jt-bt)/2e3*Se/Pe)}if(this.contentVisible&&(Ue.isInFont||fe.missingFile)){if(Ce&&!Ct)Ee.fillText(pt,yt,$t);else if(this.paintChar(pt,yt,$t,ge),Ct){const bt=yt+Se*Ct.offset.x/Pe,Ye=$t-Se*Ct.offset.y/Pe;this.paintChar(Ct.fontChar,bt,Ye,ge)}}let nt;ze?nt=jt*ve-lt*rt:nt=jt*ve+lt*rt,st+=nt,ht&&Ee.restore()}ze?re.y-=st:re.x+=st*Ze,Ee.restore(),this.compose()}showType3Text(oe){const re=this.ctx,fe=this.current,Se=fe.font,Ee=fe.fontSize,Pe=fe.fontDirection,Oe=Se.vertical?1:-1,He=fe.charSpacing,rt=fe.wordSpacing,Ze=fe.textHScale*Pe,tt=fe.fontMatrix||O.FONT_IDENTITY_MATRIX,ze=oe.length,ae=fe.textRenderingMode===O.TextRenderingMode.INVISIBLE;let le,ve,Ce,ge;if(!(ae||Ee===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,re.save(),re.transform(...fe.textMatrix),re.translate(fe.x,fe.y),re.scale(Ze,Pe),le=0;le<ze;++le){if(ve=oe[le],typeof ve=="number"){ge=Oe*ve*Ee/1e3,this.ctx.translate(ge,0),fe.x+=ge*Ze;continue}const ke=(ve.isSpace?rt:0)+He,Je=Se.charProcOperatorList[ve.operatorListId];if(!Je){(0,O.warn)(`Type3 character "${ve.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=ve,this.save(),re.scale(Ee,Ee),re.transform(...tt),this.executeOperatorList(Je),this.restore()),Ce=O.Util.applyTransform([ve.width,0],tt)[0]*Ee+ke,re.translate(Ce,0),fe.x+=Ce*Ze}re.restore(),this.processingType3=null}}setCharWidth(oe,re){}setCharWidthAndBounds(oe,re,fe,Se,Ee,Pe){this.ctx.rect(fe,Se,Ee-fe,Pe-Se),this.ctx.clip(),this.endPath()}getColorN_Pattern(oe){let re;if(oe[0]==="TilingPattern"){const fe=oe[1],Se=this.baseTransform||(0,R.getCurrentTransform)(this.ctx),Ee={createCanvasGraphics:Pe=>new Ke(Pe,this.commonObjs,this.objs,this.canvasFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};re=new B.TilingPattern(oe,fe,this.ctx,Ee,Se)}else re=this._getPattern(oe[1],oe[2]);return re}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(oe,re,fe){var Ee;const Se=((Ee=this.selectColor)==null?void 0:Ee.call(this,oe,re,fe))||O.Util.makeHexColor(oe,re,fe);this.ctx.strokeStyle=Se,this.current.strokeColor=Se}setFillRGBColor(oe,re,fe){var Ee;const Se=((Ee=this.selectColor)==null?void 0:Ee.call(this,oe,re,fe))||O.Util.makeHexColor(oe,re,fe);this.ctx.fillStyle=Se,this.current.fillColor=Se,this.current.patternFill=!1}_getPattern(oe,re=null){let fe;return this.cachedPatterns.has(oe)?fe=this.cachedPatterns.get(oe):(fe=(0,B.getShadingPattern)(this.objs.get(oe)),this.cachedPatterns.set(oe,fe)),re&&(fe.matrix=re),fe}shadingFill(oe){if(!this.contentVisible)return;const re=this.ctx;this.save();const fe=this._getPattern(oe);re.fillStyle=fe.getPattern(re,this,(0,R.getCurrentTransformInverse)(re),B.PathType.SHADING);const Se=(0,R.getCurrentTransformInverse)(re);if(Se){const Ee=re.canvas,Pe=Ee.width,Oe=Ee.height,He=O.Util.applyTransform([0,0],Se),rt=O.Util.applyTransform([0,Oe],Se),Ze=O.Util.applyTransform([Pe,0],Se),tt=O.Util.applyTransform([Pe,Oe],Se),ze=Math.min(He[0],rt[0],Ze[0],tt[0]),ae=Math.min(He[1],rt[1],Ze[1],tt[1]),le=Math.max(He[0],rt[0],Ze[0],tt[0]),ve=Math.max(He[1],rt[1],Ze[1],tt[1]);this.ctx.fillRect(ze,ae,le-ze,ve-ae)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,O.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,O.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(oe,re){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(oe)&&oe.length===6&&this.transform(...oe),this.baseTransform=(0,R.getCurrentTransform)(this.ctx),re)){const fe=re[2]-re[0],Se=re[3]-re[1];this.ctx.rect(re[0],re[1],fe,Se),this.current.updateRectMinMax((0,R.getCurrentTransform)(this.ctx),re),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(oe){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const re=this.ctx;oe.isolated||(0,O.info)("TODO: Support non-isolated groups."),oe.knockout&&(0,O.warn)("Knockout groups not supported.");const fe=(0,R.getCurrentTransform)(re);if(oe.matrix&&re.transform(...oe.matrix),!oe.bbox)throw new Error("Bounding box is required.");let Se=O.Util.getAxialAlignedBoundingBox(oe.bbox,(0,R.getCurrentTransform)(re));const Ee=[0,0,re.canvas.width,re.canvas.height];Se=O.Util.intersect(Se,Ee)||[0,0,0,0];const Pe=Math.floor(Se[0]),Oe=Math.floor(Se[1]);let He=Math.max(Math.ceil(Se[2])-Pe,1),rt=Math.max(Math.ceil(Se[3])-Oe,1),Ze=1,tt=1;He>ie&&(Ze=He/ie,He=ie),rt>ie&&(tt=rt/ie,rt=ie),this.current.startNewPathAndClipBox([0,0,He,rt]);let ze="groupAt"+this.groupLevel;oe.smask&&(ze+="_smask_"+this.smaskCounter++%2);const ae=this.cachedCanvases.getCanvas(ze,He,rt),le=ae.context;le.scale(1/Ze,1/tt),le.translate(-Pe,-Oe),le.transform(...fe),oe.smask?this.smaskStack.push({canvas:ae.canvas,context:le,offsetX:Pe,offsetY:Oe,scaleX:Ze,scaleY:tt,subtype:oe.smask.subtype,backdrop:oe.smask.backdrop,transferMap:oe.smask.transferMap||null,startTransformInverse:null}):(re.setTransform(1,0,0,1,0,0),re.translate(Pe,Oe),re.scale(Ze,tt),re.save()),W(re,le),this.ctx=le,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(re),this.groupLevel++}endGroup(oe){if(!this.contentVisible)return;this.groupLevel--;const re=this.ctx,fe=this.groupStack.pop();if(this.ctx=fe,this.ctx.imageSmoothingEnabled=!1,oe.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const Se=(0,R.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...Se);const Ee=O.Util.getAxialAlignedBoundingBox([0,0,re.canvas.width,re.canvas.height],Se);this.ctx.drawImage(re.canvas,0,0),this.ctx.restore(),this.compose(Ee)}}beginAnnotation(oe,re,fe,Se,Ee){if(ft(this,Te,Lr).call(this),X(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(re)&&re.length===4){const Pe=re[2]-re[0],Oe=re[3]-re[1];if(Ee&&this.annotationCanvasMap){fe=fe.slice(),fe[4]-=re[0],fe[5]-=re[1],re=re.slice(),re[0]=re[1]=0,re[2]=Pe,re[3]=Oe;const[He,rt]=O.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(this.ctx)),{viewportScale:Ze}=this,tt=Math.ceil(Pe*this.outputScaleX*Ze),ze=Math.ceil(Oe*this.outputScaleY*Ze);this.annotationCanvas=this.canvasFactory.create(tt,ze);const{canvas:ae,context:le}=this.annotationCanvas;this.annotationCanvasMap.set(oe,ae),this.annotationCanvas.savedCtx=this.ctx,this.ctx=le,this.ctx.setTransform(He,0,0,-rt,0,Oe*rt),X(this.ctx,this.foregroundColor)}else X(this.ctx,this.foregroundColor),this.ctx.rect(re[0],re[1],Pe,Oe),this.ctx.clip(),this.endPath()}this.current=new q(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...fe),this.transform(...Se)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(oe){if(!this.contentVisible)return;const re=oe.count;oe=this.getObject(oe.data,oe),oe.count=re;const fe=this.ctx,Se=this.processingType3;if(Se&&(Se.compiled===void 0&&(Se.compiled=V(oe)),Se.compiled)){Se.compiled(fe);return}const Ee=this._createMaskCanvas(oe),Pe=Ee.canvas;fe.save(),fe.setTransform(1,0,0,1,0,0),fe.drawImage(Pe,Ee.offsetX,Ee.offsetY),fe.restore(),this.compose()}paintImageMaskXObjectRepeat(oe,re,fe=0,Se=0,Ee,Pe){if(!this.contentVisible)return;oe=this.getObject(oe.data,oe);const Oe=this.ctx;Oe.save();const He=(0,R.getCurrentTransform)(Oe);Oe.transform(re,fe,Se,Ee,0,0);const rt=this._createMaskCanvas(oe);Oe.setTransform(1,0,0,1,rt.offsetX-He[4],rt.offsetY-He[5]);for(let Ze=0,tt=Pe.length;Ze<tt;Ze+=2){const ze=O.Util.transform(He,[re,fe,Se,Ee,Pe[Ze],Pe[Ze+1]]),[ae,le]=O.Util.applyTransform([0,0],ze);Oe.drawImage(rt.canvas,ae,le)}Oe.restore(),this.compose()}paintImageMaskXObjectGroup(oe){if(!this.contentVisible)return;const re=this.ctx,fe=this.current.fillColor,Se=this.current.patternFill;for(const Ee of oe){const{data:Pe,width:Oe,height:He,transform:rt}=Ee,Ze=this.cachedCanvases.getCanvas("maskCanvas",Oe,He),tt=Ze.context;tt.save();const ze=this.getObject(Pe,Ee);Z(tt,ze),tt.globalCompositeOperation="source-in",tt.fillStyle=Se?fe.getPattern(tt,this,(0,R.getCurrentTransformInverse)(re),B.PathType.FILL):fe,tt.fillRect(0,0,Oe,He),tt.restore(),re.save(),re.transform(...rt),re.scale(1,-1),U(re,Ze.canvas,0,0,Oe,He,0,-1,1,1),re.restore()}this.compose()}paintImageXObject(oe){if(!this.contentVisible)return;const re=this.getObject(oe);if(!re){(0,O.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(re)}paintImageXObjectRepeat(oe,re,fe,Se){if(!this.contentVisible)return;const Ee=this.getObject(oe);if(!Ee){(0,O.warn)("Dependent image isn't ready yet");return}const Pe=Ee.width,Oe=Ee.height,He=[];for(let rt=0,Ze=Se.length;rt<Ze;rt+=2)He.push({transform:[re,0,0,fe,Se[rt],Se[rt+1]],x:0,y:0,w:Pe,h:Oe});this.paintInlineImageXObjectGroup(Ee,He)}paintInlineImageXObject(oe){if(!this.contentVisible)return;const re=oe.width,fe=oe.height,Se=this.ctx;this.save(),Se.scale(1/re,-1/fe);let Ee;if(typeof HTMLElement=="function"&&oe instanceof HTMLElement||!oe.data)Ee=oe;else{const Oe=this.cachedCanvases.getCanvas("inlineImage",re,fe),He=Oe.context;Q(He,oe,this.current.transferMaps),Ee=Oe.canvas}const Pe=this._scaleImage(Ee,(0,R.getCurrentTransformInverse)(Se));Se.imageSmoothingEnabled=$e((0,R.getCurrentTransform)(Se),oe.interpolate),U(Se,Pe.img,0,0,Pe.paintWidth,Pe.paintHeight,0,-fe,re,fe),this.compose(),this.restore()}paintInlineImageXObjectGroup(oe,re){if(!this.contentVisible)return;const fe=this.ctx,Se=oe.width,Ee=oe.height,Pe=this.cachedCanvases.getCanvas("inlineImage",Se,Ee),Oe=Pe.context;Q(Oe,oe,this.current.transferMaps);for(const He of re)fe.save(),fe.transform(...He.transform),fe.scale(1,-1),U(fe,Pe.canvas,He.x,He.y,He.w,He.h,0,-1,1,1),fe.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(oe){}markPointProps(oe,re){}beginMarkedContent(oe){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(oe,re){oe==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(re)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(oe){const re=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(oe);const fe=this.ctx;this.pendingClip&&(re||(this.pendingClip===Fe?fe.clip("evenodd"):fe.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),fe.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const oe=(0,R.getCurrentTransform)(this.ctx);if(oe[1]===0&&oe[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(oe[0]),Math.abs(oe[3]));else{const re=Math.abs(oe[0]*oe[3]-oe[2]*oe[1]),fe=Math.hypot(oe[0],oe[2]),Se=Math.hypot(oe[1],oe[3]);this._cachedGetSinglePixelWidth=Math.max(fe,Se)/re}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:oe}=this.current,re=(0,R.getCurrentTransform)(this.ctx);let fe,Se;if(re[1]===0&&re[2]===0){const Ee=Math.abs(re[0]),Pe=Math.abs(re[3]);if(oe===0)fe=1/Ee,Se=1/Pe;else{const Oe=Ee*oe,He=Pe*oe;fe=Oe<1?1/Oe:1,Se=He<1?1/He:1}}else{const Ee=Math.abs(re[0]*re[3]-re[2]*re[1]),Pe=Math.hypot(re[0],re[1]),Oe=Math.hypot(re[2],re[3]);if(oe===0)fe=Oe/Ee,Se=Pe/Ee;else{const He=oe*Ee;fe=Oe>He?Oe/He:1,Se=Pe>He?Pe/He:1}}this._cachedScaleForStroking=[fe,Se]}return this._cachedScaleForStroking}rescaleAndStroke(oe){const{ctx:re}=this,{lineWidth:fe}=this.current,[Se,Ee]=this.getScaleForStroking();if(re.lineWidth=fe||1,Se===1&&Ee===1){re.stroke();return}let Pe,Oe,He;oe&&(Pe=(0,R.getCurrentTransform)(re),Oe=re.getLineDash().slice(),He=re.lineDashOffset),re.scale(Se,Ee);const rt=Math.max(Se,Ee);re.setLineDash(re.getLineDash().map(Ze=>Ze/rt)),re.lineDashOffset/=rt,re.stroke(),oe&&(re.setTransform(...Pe),re.setLineDash(Oe),re.lineDashOffset=He)}isContentVisible(){for(let oe=this.markedContentStack.length-1;oe>=0;oe--)if(!this.markedContentStack[oe].visible)return!1;return!0}};let xe=Ke;Te=new WeakSet,Lr=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},$.CanvasGraphics=xe;for(const ye in O.OPS)xe.prototype[ye]!==void 0&&(xe.prototype[O.OPS[ye]]=xe.prototype[ye])},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TilingPattern=$.PathType=void 0,$.getShadingPattern=K;var O=H(1),R=H(6);const B={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};$.PathType=B;function ee(U,V){if(!V)return;const q=V[2]-V[0],Q=V[3]-V[1],Z=new Path2D;Z.rect(V[0],V[1],q,Q),U.clip(Z)}class se{constructor(){this.constructor===se&&(0,O.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,O.unreachable)("Abstract method `getPattern` called.")}}class de extends se{constructor(V){super(),this._type=V[1],this._bbox=V[2],this._colorStops=V[3],this._p0=V[4],this._p1=V[5],this._r0=V[6],this._r1=V[7],this.matrix=null}_createGradient(V){let q;this._type==="axial"?q=V.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(q=V.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Q of this._colorStops)q.addColorStop(Q[0],Q[1]);return q}getPattern(V,q,Q,Z){let W;if(Z===B.STROKE||Z===B.FILL){const X=q.current.getClippedPathBoundingBox(Z,(0,R.getCurrentTransform)(V))||[0,0,0,0],ue=Math.ceil(X[2]-X[0])||1,_e=Math.ceil(X[3]-X[1])||1,be=q.cachedCanvases.getCanvas("pattern",ue,_e,!0),we=be.context;we.clearRect(0,0,we.canvas.width,we.canvas.height),we.beginPath(),we.rect(0,0,we.canvas.width,we.canvas.height),we.translate(-X[0],-X[1]),Q=O.Util.transform(Q,[1,0,0,1,X[0],X[1]]),we.transform(...q.baseTransform),this.matrix&&we.transform(...this.matrix),ee(we,this._bbox),we.fillStyle=this._createGradient(we),we.fill(),W=V.createPattern(be.canvas,"no-repeat");const ce=new DOMMatrix(Q);W.setTransform(ce)}else ee(V,this._bbox),W=this._createGradient(V);return W}}function ie(U,V,q,Q,Z,W,X,ue){const _e=V.coords,be=V.colors,we=U.data,ce=U.width*4;let $e;_e[q+1]>_e[Q+1]&&($e=q,q=Q,Q=$e,$e=W,W=X,X=$e),_e[Q+1]>_e[Z+1]&&($e=Q,Q=Z,Z=$e,$e=X,X=ue,ue=$e),_e[q+1]>_e[Q+1]&&($e=q,q=Q,Q=$e,$e=W,W=X,X=$e);const Xe=(_e[q]+V.offsetX)*V.scaleX,De=(_e[q+1]+V.offsetY)*V.scaleY,Ge=(_e[Q]+V.offsetX)*V.scaleX,Fe=(_e[Q+1]+V.offsetY)*V.scaleY,xe=(_e[Z]+V.offsetX)*V.scaleX,Te=(_e[Z+1]+V.offsetY)*V.scaleY;if(De>=Te)return;const et=be[W],Ke=be[W+1],ye=be[W+2],oe=be[X],re=be[X+1],fe=be[X+2],Se=be[ue],Ee=be[ue+1],Pe=be[ue+2],Oe=Math.round(De),He=Math.round(Te);let rt,Ze,tt,ze,ae,le,ve,Ce;for(let ge=Oe;ge<=He;ge++){if(ge<Fe){let Ue;ge<De?Ue=0:Ue=(De-ge)/(De-Fe),rt=Xe-(Xe-Ge)*Ue,Ze=et-(et-oe)*Ue,tt=Ke-(Ke-re)*Ue,ze=ye-(ye-fe)*Ue}else{let Ue;ge>Te?Ue=1:Fe===Te?Ue=0:Ue=(Fe-ge)/(Fe-Te),rt=Ge-(Ge-xe)*Ue,Ze=oe-(oe-Se)*Ue,tt=re-(re-Ee)*Ue,ze=fe-(fe-Pe)*Ue}let ke;ge<De?ke=0:ge>Te?ke=1:ke=(De-ge)/(De-Te),ae=Xe-(Xe-xe)*ke,le=et-(et-Se)*ke,ve=Ke-(Ke-Ee)*ke,Ce=ye-(ye-Pe)*ke;const Je=Math.round(Math.min(rt,ae)),st=Math.round(Math.max(rt,ae));let it=ce*ge+Je*4;for(let Ue=Je;Ue<=st;Ue++)ke=(rt-Ue)/(rt-ae),ke<0?ke=0:ke>1&&(ke=1),we[it++]=Ze-(Ze-le)*ke|0,we[it++]=tt-(tt-ve)*ke|0,we[it++]=ze-(ze-Ce)*ke|0,we[it++]=255}}function ne(U,V,q){const Q=V.coords,Z=V.colors;let W,X;switch(V.type){case"lattice":const ue=V.verticesPerRow,_e=Math.floor(Q.length/ue)-1,be=ue-1;for(W=0;W<_e;W++){let we=W*ue;for(let ce=0;ce<be;ce++,we++)ie(U,q,Q[we],Q[we+1],Q[we+ue],Z[we],Z[we+1],Z[we+ue]),ie(U,q,Q[we+ue+1],Q[we+1],Q[we+ue],Z[we+ue+1],Z[we+1],Z[we+ue])}break;case"triangles":for(W=0,X=Q.length;W<X;W+=3)ie(U,q,Q[W],Q[W+1],Q[W+2],Z[W],Z[W+1],Z[W+2]);break;default:throw new Error("illegal figure")}}class pe extends se{constructor(V){super(),this._coords=V[2],this._colors=V[3],this._figures=V[4],this._bounds=V[5],this._bbox=V[7],this._background=V[8],this.matrix=null}_createMeshCanvas(V,q,Q){const ue=Math.floor(this._bounds[0]),_e=Math.floor(this._bounds[1]),be=Math.ceil(this._bounds[2])-ue,we=Math.ceil(this._bounds[3])-_e,ce=Math.min(Math.ceil(Math.abs(be*V[0]*1.1)),3e3),$e=Math.min(Math.ceil(Math.abs(we*V[1]*1.1)),3e3),Xe=be/ce,De=we/$e,Ge={coords:this._coords,colors:this._colors,offsetX:-ue,offsetY:-_e,scaleX:1/Xe,scaleY:1/De},Fe=ce+2*2,xe=$e+2*2,Te=Q.getCanvas("mesh",Fe,xe,!1),et=Te.context,Ke=et.createImageData(ce,$e);if(q){const oe=Ke.data;for(let re=0,fe=oe.length;re<fe;re+=4)oe[re]=q[0],oe[re+1]=q[1],oe[re+2]=q[2],oe[re+3]=255}for(const oe of this._figures)ne(Ke,oe,Ge);return et.putImageData(Ke,2,2),{canvas:Te.canvas,offsetX:ue-2*Xe,offsetY:_e-2*De,scaleX:Xe,scaleY:De}}getPattern(V,q,Q,Z){ee(V,this._bbox);let W;if(Z===B.SHADING)W=O.Util.singularValueDecompose2dScale((0,R.getCurrentTransform)(V));else if(W=O.Util.singularValueDecompose2dScale(q.baseTransform),this.matrix){const ue=O.Util.singularValueDecompose2dScale(this.matrix);W=[W[0]*ue[0],W[1]*ue[1]]}const X=this._createMeshCanvas(W,Z===B.SHADING?null:this._background,q.cachedCanvases);return Z!==B.SHADING&&(V.setTransform(...q.baseTransform),this.matrix&&V.transform(...this.matrix)),V.translate(X.offsetX,X.offsetY),V.scale(X.scaleX,X.scaleY),V.createPattern(X.canvas,"no-repeat")}}class J extends se{getPattern(){return"hotpink"}}function K(U){switch(U[0]){case"RadialAxial":return new de(U);case"Mesh":return new pe(U);case"Dummy":return new J}throw new Error(`Unknown IR type: ${U[0]}`)}const Y={COLORED:1,UNCOLORED:2};class G{static get MAX_PATTERN_SIZE(){return(0,O.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(V,q,Q,Z,W){this.operatorList=V[2],this.matrix=V[3]||[1,0,0,1,0,0],this.bbox=V[4],this.xstep=V[5],this.ystep=V[6],this.paintType=V[7],this.tilingType=V[8],this.color=q,this.ctx=Q,this.canvasGraphicsFactory=Z,this.baseTransform=W}createPatternCanvas(V){const q=this.operatorList,Q=this.bbox,Z=this.xstep,W=this.ystep,X=this.paintType,ue=this.tilingType,_e=this.color,be=this.canvasGraphicsFactory;(0,O.info)("TilingType: "+ue);const we=Q[0],ce=Q[1],$e=Q[2],Xe=Q[3],De=O.Util.singularValueDecompose2dScale(this.matrix),Ge=O.Util.singularValueDecompose2dScale(this.baseTransform),Fe=[De[0]*Ge[0],De[1]*Ge[1]],xe=this.getSizeAndScale(Z,this.ctx.canvas.width,Fe[0]),Te=this.getSizeAndScale(W,this.ctx.canvas.height,Fe[1]),et=V.cachedCanvases.getCanvas("pattern",xe.size,Te.size,!0),Ke=et.context,ye=be.createCanvasGraphics(Ke);ye.groupLevel=V.groupLevel,this.setFillAndStrokeStyleToContext(ye,X,_e);let oe=we,re=ce,fe=$e,Se=Xe;return we<0&&(oe=0,fe+=Math.abs(we)),ce<0&&(re=0,Se+=Math.abs(ce)),Ke.translate(-(xe.scale*oe),-(Te.scale*re)),ye.transform(xe.scale,0,0,Te.scale,0,0),Ke.save(),this.clipBbox(ye,oe,re,fe,Se),ye.baseTransform=(0,R.getCurrentTransform)(ye.ctx),ye.executeOperatorList(q),ye.endDrawing(),{canvas:et.canvas,scaleX:xe.scale,scaleY:Te.scale,offsetX:oe,offsetY:re}}getSizeAndScale(V,q,Q){V=Math.abs(V);const Z=Math.max(G.MAX_PATTERN_SIZE,q);let W=Math.ceil(V*Q);return W>=Z?W=Z:Q=W/V,{scale:Q,size:W}}clipBbox(V,q,Q,Z,W){const X=Z-q,ue=W-Q;V.ctx.rect(q,Q,X,ue),V.current.updateRectMinMax((0,R.getCurrentTransform)(V.ctx),[q,Q,Z,W]),V.clip(),V.endPath()}setFillAndStrokeStyleToContext(V,q,Q){const Z=V.ctx,W=V.current;switch(q){case Y.COLORED:const X=this.ctx;Z.fillStyle=X.fillStyle,Z.strokeStyle=X.strokeStyle,W.fillColor=X.fillStyle,W.strokeColor=X.strokeStyle;break;case Y.UNCOLORED:const ue=O.Util.makeHexColor(Q[0],Q[1],Q[2]);Z.fillStyle=ue,Z.strokeStyle=ue,W.fillColor=ue,W.strokeColor=ue;break;default:throw new O.FormatError(`Unsupported paint type: ${q}`)}}getPattern(V,q,Q,Z){let W=Q;Z!==B.SHADING&&(W=O.Util.transform(W,q.baseTransform),this.matrix&&(W=O.Util.transform(W,this.matrix)));const X=this.createPatternCanvas(q);let ue=new DOMMatrix(W);ue=ue.translate(X.offsetX,X.offsetY),ue=ue.scale(1/X.scaleX,1/X.scaleY);const _e=V.createPattern(X.canvas,"repeat");return _e.setTransform(ue),_e}}$.TilingPattern=G},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.applyMaskImageData=R;var O=H(1);function R({src:B,srcPos:ee=0,dest:se,destPos:de=0,width:ie,height:ne,inverseDecode:pe=!1}){const J=O.FeatureTest.isLittleEndian?4278190080:255,[K,Y]=pe?[0,J]:[J,0],G=ie>>3,U=ie&7,V=B.length;se=new Uint32Array(se.buffer);for(let q=0;q<ne;q++){for(const Z=ee+G;ee<Z;ee++){const W=ee<V?B[ee]:255;se[de++]=W&128?Y:K,se[de++]=W&64?Y:K,se[de++]=W&32?Y:K,se[de++]=W&16?Y:K,se[de++]=W&8?Y:K,se[de++]=W&4?Y:K,se[de++]=W&2?Y:K,se[de++]=W&1?Y:K}if(U===0)continue;const Q=ee<V?B[ee++]:255;for(let Z=0;Z<U;Z++)se[de++]=Q&1<<7-Z?Y:K}return{srcPos:ee,destPos:de}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GlobalWorkerOptions=void 0;const H=Object.create(null);$.GlobalWorkerOptions=H,H.workerPort=null,H.workerSrc=""},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.MessageHandler=void 0;var O=H(1);const R={UNKNOWN:0,DATA:1,ERROR:2},B={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function ee(de){switch(de instanceof Error||typeof de=="object"&&de!==null||(0,O.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),de.name){case"AbortException":return new O.AbortException(de.message);case"MissingPDFException":return new O.MissingPDFException(de.message);case"PasswordException":return new O.PasswordException(de.message,de.code);case"UnexpectedResponseException":return new O.UnexpectedResponseException(de.message,de.status);case"UnknownErrorException":return new O.UnknownErrorException(de.message,de.details);default:return new O.UnknownErrorException(de.message,de.toString())}}class se{constructor(ie,ne,pe){this.sourceName=ie,this.targetName=ne,this.comObj=pe,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=J=>{const K=J.data;if(K.targetName!==this.sourceName)return;if(K.stream){this._processStreamMessage(K);return}if(K.callback){const G=K.callbackId,U=this.callbackCapabilities[G];if(!U)throw new Error(`Cannot resolve callback ${G}`);if(delete this.callbackCapabilities[G],K.callback===R.DATA)U.resolve(K.data);else if(K.callback===R.ERROR)U.reject(ee(K.reason));else throw new Error("Unexpected callback case");return}const Y=this.actionHandler[K.action];if(!Y)throw new Error(`Unknown action from worker: ${K.action}`);if(K.callbackId){const G=this.sourceName,U=K.sourceName;new Promise(function(V){V(Y(K.data))}).then(function(V){pe.postMessage({sourceName:G,targetName:U,callback:R.DATA,callbackId:K.callbackId,data:V})},function(V){pe.postMessage({sourceName:G,targetName:U,callback:R.ERROR,callbackId:K.callbackId,reason:ee(V)})});return}if(K.streamId){this._createStreamSink(K);return}Y(K.data)},pe.addEventListener("message",this._onComObjOnMessage)}on(ie,ne){const pe=this.actionHandler;if(pe[ie])throw new Error(`There is already an actionName called "${ie}"`);pe[ie]=ne}send(ie,ne,pe){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ie,data:ne},pe)}sendWithPromise(ie,ne,pe){const J=this.callbackId++,K=(0,O.createPromiseCapability)();this.callbackCapabilities[J]=K;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:ie,callbackId:J,data:ne},pe)}catch(Y){K.reject(Y)}return K.promise}sendWithStream(ie,ne,pe,J){const K=this.streamId++,Y=this.sourceName,G=this.targetName,U=this.comObj;return new ReadableStream({start:V=>{const q=(0,O.createPromiseCapability)();return this.streamControllers[K]={controller:V,startCall:q,pullCall:null,cancelCall:null,isClosed:!1},U.postMessage({sourceName:Y,targetName:G,action:ie,streamId:K,data:ne,desiredSize:V.desiredSize},J),q.promise},pull:V=>{const q=(0,O.createPromiseCapability)();return this.streamControllers[K].pullCall=q,U.postMessage({sourceName:Y,targetName:G,stream:B.PULL,streamId:K,desiredSize:V.desiredSize}),q.promise},cancel:V=>{(0,O.assert)(V instanceof Error,"cancel must have a valid reason");const q=(0,O.createPromiseCapability)();return this.streamControllers[K].cancelCall=q,this.streamControllers[K].isClosed=!0,U.postMessage({sourceName:Y,targetName:G,stream:B.CANCEL,streamId:K,reason:ee(V)}),q.promise}},pe)}_createStreamSink(ie){const ne=ie.streamId,pe=this.sourceName,J=ie.sourceName,K=this.comObj,Y=this,G=this.actionHandler[ie.action],U={enqueue(V,q=1,Q){if(this.isCancelled)return;const Z=this.desiredSize;this.desiredSize-=q,Z>0&&this.desiredSize<=0&&(this.sinkCapability=(0,O.createPromiseCapability)(),this.ready=this.sinkCapability.promise),K.postMessage({sourceName:pe,targetName:J,stream:B.ENQUEUE,streamId:ne,chunk:V},Q)},close(){this.isCancelled||(this.isCancelled=!0,K.postMessage({sourceName:pe,targetName:J,stream:B.CLOSE,streamId:ne}),delete Y.streamSinks[ne])},error(V){(0,O.assert)(V instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,K.postMessage({sourceName:pe,targetName:J,stream:B.ERROR,streamId:ne,reason:ee(V)}))},sinkCapability:(0,O.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:ie.desiredSize,ready:null};U.sinkCapability.resolve(),U.ready=U.sinkCapability.promise,this.streamSinks[ne]=U,new Promise(function(V){V(G(ie.data,U))}).then(function(){K.postMessage({sourceName:pe,targetName:J,stream:B.START_COMPLETE,streamId:ne,success:!0})},function(V){K.postMessage({sourceName:pe,targetName:J,stream:B.START_COMPLETE,streamId:ne,reason:ee(V)})})}_processStreamMessage(ie){const ne=ie.streamId,pe=this.sourceName,J=ie.sourceName,K=this.comObj,Y=this.streamControllers[ne],G=this.streamSinks[ne];switch(ie.stream){case B.START_COMPLETE:ie.success?Y.startCall.resolve():Y.startCall.reject(ee(ie.reason));break;case B.PULL_COMPLETE:ie.success?Y.pullCall.resolve():Y.pullCall.reject(ee(ie.reason));break;case B.PULL:if(!G){K.postMessage({sourceName:pe,targetName:J,stream:B.PULL_COMPLETE,streamId:ne,success:!0});break}G.desiredSize<=0&&ie.desiredSize>0&&G.sinkCapability.resolve(),G.desiredSize=ie.desiredSize,new Promise(function(U){U(G.onPull&&G.onPull())}).then(function(){K.postMessage({sourceName:pe,targetName:J,stream:B.PULL_COMPLETE,streamId:ne,success:!0})},function(U){K.postMessage({sourceName:pe,targetName:J,stream:B.PULL_COMPLETE,streamId:ne,reason:ee(U)})});break;case B.ENQUEUE:if((0,O.assert)(Y,"enqueue should have stream controller"),Y.isClosed)break;Y.controller.enqueue(ie.chunk);break;case B.CLOSE:if((0,O.assert)(Y,"close should have stream controller"),Y.isClosed)break;Y.isClosed=!0,Y.controller.close(),this._deleteStreamController(Y,ne);break;case B.ERROR:(0,O.assert)(Y,"error should have stream controller"),Y.controller.error(ee(ie.reason)),this._deleteStreamController(Y,ne);break;case B.CANCEL_COMPLETE:ie.success?Y.cancelCall.resolve():Y.cancelCall.reject(ee(ie.reason)),this._deleteStreamController(Y,ne);break;case B.CANCEL:if(!G)break;new Promise(function(U){U(G.onCancel&&G.onCancel(ee(ie.reason)))}).then(function(){K.postMessage({sourceName:pe,targetName:J,stream:B.CANCEL_COMPLETE,streamId:ne,success:!0})},function(U){K.postMessage({sourceName:pe,targetName:J,stream:B.CANCEL_COMPLETE,streamId:ne,reason:ee(U)})}),G.sinkCapability.reject(ee(ie.reason)),G.isCancelled=!0,delete this.streamSinks[ne];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(ie,ne){await Promise.allSettled([ie.startCall&&ie.startCall.promise,ie.pullCall&&ie.pullCall.promise,ie.cancelCall&&ie.cancelCall.promise]),delete this.streamControllers[ne]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}$.MessageHandler=se},(A,$,H)=>{var B,ee;Object.defineProperty($,"__esModule",{value:!0}),$.Metadata=void 0;var O=H(1);class R{constructor({parsedData:de,rawData:ie}){at(this,B,void 0);at(this,ee,void 0);St(this,B,de),St(this,ee,ie)}getRaw(){return me(this,ee)}get(de){return me(this,B).get(de)??null}getAll(){return(0,O.objectFromMap)(me(this,B))}has(de){return me(this,B).has(de)}}B=new WeakMap,ee=new WeakMap,$.Metadata=R},(A,$,H)=>{var de,ie,ne,pe,J,K,Dr;Object.defineProperty($,"__esModule",{value:!0}),$.OptionalContentConfig=void 0;var O=H(1),R=H(8);const B=Symbol("INTERNAL");class ee{constructor(U,V){at(this,de,!0);this.name=U,this.intent=V}get visible(){return me(this,de)}_setVisible(U,V){U!==B&&(0,O.unreachable)("Internal method `_setVisible` called."),St(this,de,V)}}de=new WeakMap;class se{constructor(U){at(this,K);at(this,ie,null);at(this,ne,new Map);at(this,pe,null);at(this,J,null);if(this.name=null,this.creator=null,U!==null){this.name=U.name,this.creator=U.creator,St(this,J,U.order);for(const V of U.groups)me(this,ne).set(V.id,new ee(V.name,V.intent));if(U.baseState==="OFF")for(const V of me(this,ne).values())V._setVisible(B,!1);for(const V of U.on)me(this,ne).get(V)._setVisible(B,!0);for(const V of U.off)me(this,ne).get(V)._setVisible(B,!1);St(this,pe,this.getHash())}}isVisible(U){if(me(this,ne).size===0)return!0;if(!U)return(0,O.warn)("Optional content group not defined."),!0;if(U.type==="OCG")return me(this,ne).has(U.id)?me(this,ne).get(U.id).visible:((0,O.warn)(`Optional content group not found: ${U.id}`),!0);if(U.type==="OCMD"){if(U.expression)return ft(this,K,Dr).call(this,U.expression);if(!U.policy||U.policy==="AnyOn"){for(const V of U.ids){if(!me(this,ne).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(me(this,ne).get(V).visible)return!0}return!1}else if(U.policy==="AllOn"){for(const V of U.ids){if(!me(this,ne).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(!me(this,ne).get(V).visible)return!1}return!0}else if(U.policy==="AnyOff"){for(const V of U.ids){if(!me(this,ne).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(!me(this,ne).get(V).visible)return!0}return!1}else if(U.policy==="AllOff"){for(const V of U.ids){if(!me(this,ne).has(V))return(0,O.warn)(`Optional content group not found: ${V}`),!0;if(me(this,ne).get(V).visible)return!1}return!0}return(0,O.warn)(`Unknown optional content policy ${U.policy}.`),!0}return(0,O.warn)(`Unknown group type ${U.type}.`),!0}setVisibility(U,V=!0){if(!me(this,ne).has(U)){(0,O.warn)(`Optional content group not found: ${U}`);return}me(this,ne).get(U)._setVisible(B,!!V),St(this,ie,null)}get hasInitialVisibility(){return this.getHash()===me(this,pe)}getOrder(){return me(this,ne).size?me(this,J)?me(this,J).slice():[...me(this,ne).keys()]:null}getGroups(){return me(this,ne).size>0?(0,O.objectFromMap)(me(this,ne)):null}getGroup(U){return me(this,ne).get(U)||null}getHash(){if(me(this,ie)!==null)return me(this,ie);const U=new R.MurmurHash3_64;for(const[V,q]of me(this,ne))U.update(`${V}:${q.visible}`);return St(this,ie,U.hexdigest())}}ie=new WeakMap,ne=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakSet,Dr=function(U){const V=U.length;if(V<2)return!0;const q=U[0];for(let Q=1;Q<V;Q++){const Z=U[Q];let W;if(Array.isArray(Z))W=ft(this,K,Dr).call(this,Z);else if(me(this,ne).has(Z))W=me(this,ne).get(Z).visible;else return(0,O.warn)(`Optional content group not found: ${Z}`),!0;switch(q){case"And":if(!W)return!1;break;case"Or":if(W)return!0;break;case"Not":return!W;default:return!0}}return q==="And"},$.OptionalContentConfig=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFDataTransportStream=void 0;var O=H(1),R=H(6);class B{constructor({length:ie,initialData:ne,progressiveDone:pe=!1,contentDispositionFilename:J=null,disableRange:K=!1,disableStream:Y=!1},G){if((0,O.assert)(G,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=pe,this._contentDispositionFilename=J,(ne==null?void 0:ne.length)>0){const U=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;this._queuedChunks.push(U)}this._pdfDataRangeTransport=G,this._isStreamingSupported=!Y,this._isRangeSupported=!K,this._contentLength=ie,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((U,V)=>{this._onReceiveData({begin:U,chunk:V})}),this._pdfDataRangeTransport.addProgressListener((U,V)=>{this._onProgress({loaded:U,total:V})}),this._pdfDataRangeTransport.addProgressiveReadListener(U=>{this._onReceiveData({chunk:U})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData({begin:ie,chunk:ne}){const pe=ne instanceof Uint8Array&&ne.byteLength===ne.buffer.byteLength?ne.buffer:new Uint8Array(ne).buffer;if(ie===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(pe):this._queuedChunks.push(pe);else{const J=this._rangeReaders.some(function(K){return K._begin!==ie?!1:(K._enqueue(pe),!0)});(0,O.assert)(J,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var ie;return((ie=this._fullRequestReader)==null?void 0:ie._loaded)??0}_onProgress(ie){var ne,pe,J,K;ie.total===void 0?(pe=(ne=this._rangeReaders[0])==null?void 0:ne.onProgress)==null||pe.call(ne,{loaded:ie.loaded}):(K=(J=this._fullRequestReader)==null?void 0:J.onProgress)==null||K.call(J,{loaded:ie.loaded,total:ie.total})}_onProgressiveDone(){var ie;(ie=this._fullRequestReader)==null||ie.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(ie){const ne=this._rangeReaders.indexOf(ie);ne>=0&&this._rangeReaders.splice(ne,1)}getFullReader(){(0,O.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const ie=this._queuedChunks;return this._queuedChunks=null,new ee(this,ie,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(ie,ne){if(ne<=this._progressiveDataLength)return null;const pe=new se(this,ie,ne);return this._pdfDataRangeTransport.requestDataRange(ie,ne),this._rangeReaders.push(pe),pe}cancelAllRequests(ie){var ne;(ne=this._fullRequestReader)==null||ne.cancel(ie);for(const pe of this._rangeReaders.slice(0))pe.cancel(ie);this._pdfDataRangeTransport.abort()}}$.PDFDataTransportStream=B;class ee{constructor(ie,ne,pe=!1,J=null){this._stream=ie,this._done=pe||!1,this._filename=(0,R.isPdfFile)(J)?J:null,this._queuedChunks=ne||[],this._loaded=0;for(const K of this._queuedChunks)this._loaded+=K.byteLength;this._requests=[],this._headersReady=Promise.resolve(),ie._fullRequestReader=this,this.onProgress=null}_enqueue(ie){this._done||(this._requests.length>0?this._requests.shift().resolve({value:ie,done:!1}):this._queuedChunks.push(ie),this._loaded+=ie.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const ie=(0,O.createPromiseCapability)();return this._requests.push(ie),ie.promise}cancel(ie){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class se{constructor(ie,ne,pe){this._stream=ie,this._begin=ne,this._end=pe,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(ie){if(!this._done){if(this._requests.length===0)this._queuedChunk=ie;else{this._requests.shift().resolve({value:ie,done:!1});for(const pe of this._requests)pe.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const ne=this._queuedChunk;return this._queuedChunk=null,{value:ne,done:!1}}if(this._done)return{value:void 0,done:!0};const ie=(0,O.createPromiseCapability)();return this._requests.push(ie),ie.promise}cancel(ie){this._done=!0;for(const ne of this._requests)ne.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaText=void 0;class H{static textContent(R){const B=[],ee={items:B,styles:Object.create(null)};function se(de){var pe;if(!de)return;let ie=null;const ne=de.name;if(ne==="#text")ie=de.value;else if(H.shouldBuildText(ne))(pe=de==null?void 0:de.attributes)!=null&&pe.textContent?ie=de.attributes.textContent:de.value&&(ie=de.value);else return;if(ie!==null&&B.push({str:ie}),!!de.children)for(const J of de.children)se(J)}return se(R),ee}static shouldBuildText(R){return!(R==="textarea"||R==="input"||R==="option"||R==="select")}}$.XfaText=H},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NodeStandardFontDataFactory=$.NodeCanvasFactory=$.NodeCMapReaderFactory=void 0;var O=H(7);const R=function(de){return new Promise((ie,ne)=>{require$$5.readFile(de,(J,K)=>{if(J||!K){ne(new Error(J));return}ie(new Uint8Array(K))})})};class B extends O.BaseCanvasFactory{_createCanvas(ie,ne){return require$$5.createCanvas(ie,ne)}}$.NodeCanvasFactory=B;class ee extends O.BaseCMapReaderFactory{_fetchData(ie,ne){return R(ie).then(pe=>({cMapData:pe,compressionType:ne}))}}$.NodeCMapReaderFactory=ee;class se extends O.BaseStandardFontDataFactory{_fetchData(ie){return R(ie)}}$.NodeStandardFontDataFactory=se},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNodeStream=void 0;var O=H(1),R=H(22);const B=require$$5,ee=require$$5,se=require$$5,de=require$$5,ie=/^file:\/\/\/[a-zA-Z]:\//;function ne(Q){const Z=de.parse(Q);return Z.protocol==="file:"||Z.host?Z:/^[a-z]:[/\\]/i.test(Q)?de.parse(`file:///${Q}`):(Z.host||(Z.protocol="file:"),Z)}class pe{constructor(Z){this.source=Z,this.url=ne(Z.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&Z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var Z;return((Z=this._fullRequestReader)==null?void 0:Z._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new V(this):new G(this),this._fullRequestReader}getRangeReader(Z,W){if(W<=this._progressiveDataLength)return null;const X=this.isFsUrl?new q(this,Z,W):new U(this,Z,W);return this._rangeRequestReaders.push(X),X}cancelAllRequests(Z){var W;(W=this._fullRequestReader)==null||W.cancel(Z);for(const X of this._rangeRequestReaders.slice(0))X.cancel(Z)}}$.PDFNodeStream=pe;class J{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null;const W=Z.source;this._contentLength=W.length,this._loaded=0,this._filename=null,this._disableRange=W.disableRange||!1,this._rangeChunkSize=W.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!W.disableStream,this._isRangeSupported=!W.disableRange,this._readableStream=null,this._readCapability=(0,O.createPromiseCapability)(),this._headersCapability=(0,O.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Z=this._readableStream.read();return Z===null?(this._readCapability=(0,O.createPromiseCapability)(),this.read()):(this._loaded+=Z.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(Z).buffer,done:!1})}cancel(Z){if(!this._readableStream){this._error(Z);return}this._readableStream.destroy(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",W=>{this._error(W)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new O.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class K{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,O.createPromiseCapability)();const W=Z.source;this._isStreamingSupported=!W.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var X;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const Z=this._readableStream.read();return Z===null?(this._readCapability=(0,O.createPromiseCapability)(),this.read()):(this._loaded+=Z.length,(X=this.onProgress)==null||X.call(this,{loaded:this._loaded}),{value:new Uint8Array(Z).buffer,done:!1})}cancel(Z){if(!this._readableStream){this._error(Z);return}this._readableStream.destroy(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",W=>{this._error(W)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Y(Q,Z){return{protocol:Q.protocol,auth:Q.auth,host:Q.hostname,port:Q.port,path:Q.path,method:"GET",headers:Z}}class G extends J{constructor(Z){super(Z);const W=X=>{if(X.statusCode===404){const we=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=we,this._headersCapability.reject(we);return}this._headersCapability.resolve(),this._setReadableStream(X);const ue=we=>this._readableStream.headers[we.toLowerCase()],{allowRangeRequests:_e,suggestedLength:be}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:ue,isHttp:Z.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=_e,this._contentLength=be||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(ue)};this._request=null,this._url.protocol==="http:"?this._request=ee.request(Y(this._url,Z.httpHeaders),W):this._request=se.request(Y(this._url,Z.httpHeaders),W),this._request.on("error",X=>{this._storedError=X,this._headersCapability.reject(X)}),this._request.end()}}class U extends K{constructor(Z,W,X){super(Z),this._httpHeaders={};for(const _e in Z.httpHeaders){const be=Z.httpHeaders[_e];be!==void 0&&(this._httpHeaders[_e]=be)}this._httpHeaders.Range=`bytes=${W}-${X-1}`;const ue=_e=>{if(_e.statusCode===404){const be=new O.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=be;return}this._setReadableStream(_e)};this._request=null,this._url.protocol==="http:"?this._request=ee.request(Y(this._url,this._httpHeaders),ue):this._request=se.request(Y(this._url,this._httpHeaders),ue),this._request.on("error",_e=>{this._storedError=_e}),this._request.end()}}class V extends J{constructor(Z){super(Z);let W=decodeURIComponent(this._url.path);ie.test(this._url.href)&&(W=W.replace(/^\//,"")),B.lstat(W,(X,ue)=>{if(X){X.code==="ENOENT"&&(X=new O.MissingPDFException(`Missing PDF "${W}".`)),this._storedError=X,this._headersCapability.reject(X);return}this._contentLength=ue.size,this._setReadableStream(B.createReadStream(W)),this._headersCapability.resolve()})}}class q extends K{constructor(Z,W,X){super(Z);let ue=decodeURIComponent(this._url.path);ie.test(this._url.href)&&(ue=ue.replace(/^\//,"")),this._setReadableStream(B.createReadStream(ue,{start:W,end:X-1}))}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.createResponseStatusError=de,$.extractFilenameFromHeader=se,$.validateRangeRequestCapabilities=ee,$.validateResponseStatus=ie;var O=H(1),R=H(23),B=H(6);function ee({getResponseHeader:ne,isHttp:pe,rangeChunkSize:J,disableRange:K}){const Y={allowRangeRequests:!1,suggestedLength:void 0},G=parseInt(ne("Content-Length"),10);return!Number.isInteger(G)||(Y.suggestedLength=G,G<=2*J)||K||!pe||ne("Accept-Ranges")!=="bytes"||(ne("Content-Encoding")||"identity")!=="identity"||(Y.allowRangeRequests=!0),Y}function se(ne){const pe=ne("Content-Disposition");if(pe){let J=(0,R.getFilenameFromContentDispositionHeader)(pe);if(J.includes("%"))try{J=decodeURIComponent(J)}catch{}if((0,B.isPdfFile)(J))return J}return null}function de(ne,pe){return ne===404||ne===0&&pe.startsWith("file:")?new O.MissingPDFException('Missing PDF "'+pe+'".'):new O.UnexpectedResponseException(`Unexpected server response (${ne}) while retrieving PDF "${pe}".`,ne)}function ie(ne){return ne===200||ne===206}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.getFilenameFromContentDispositionHeader=R;var O=H(1);function R(B){let ee=!0,se=de("filename\\*","i").exec(B);if(se){se=se[1];let G=J(se);return G=unescape(G),G=K(G),G=Y(G),ne(G)}if(se=pe(B),se){const G=Y(se);return ne(G)}if(se=de("filename","i").exec(B),se){se=se[1];let G=J(se);return G=Y(G),ne(G)}function de(G,U){return new RegExp("(?:^|;)\\s*"+G+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',U)}function ie(G,U){if(G){if(!/^[\x00-\xFF]+$/.test(U))return U;try{const V=new TextDecoder(G,{fatal:!0}),q=(0,O.stringToBytes)(U);U=V.decode(q),ee=!1}catch{}}return U}function ne(G){return ee&&/[\x80-\xff]/.test(G)&&(G=ie("utf-8",G),ee&&(G=ie("iso-8859-1",G))),G}function pe(G){const U=[];let V;const q=de("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(V=q.exec(G))!==null;){let[,Z,W,X]=V;if(Z=parseInt(Z,10),Z in U){if(Z===0)break;continue}U[Z]=[W,X]}const Q=[];for(let Z=0;Z<U.length&&Z in U;++Z){let[W,X]=U[Z];X=J(X),W&&(X=unescape(X),Z===0&&(X=K(X))),Q.push(X)}return Q.join("")}function J(G){if(G.startsWith('"')){const U=G.slice(1).split('\\"');for(let V=0;V<U.length;++V){const q=U[V].indexOf('"');q!==-1&&(U[V]=U[V].slice(0,q),U.length=V+1),U[V]=U[V].replace(/\\(.)/g,"$1")}G=U.join('"')}return G}function K(G){const U=G.indexOf("'");if(U===-1)return G;const V=G.slice(0,U),Q=G.slice(U+1).replace(/^[^']*'/,"");return ie(V,Q)}function Y(G){return!G.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(G)?G:G.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(U,V,q,Q){if(q==="q"||q==="Q")return Q=Q.replace(/_/g," "),Q=Q.replace(/=([0-9a-fA-F]{2})/g,function(Z,W){return String.fromCharCode(parseInt(W,16))}),ie(V,Q);try{Q=atob(Q)}catch{}return ie(V,Q)})}return""}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFNetworkStream=void 0;var O=H(1),R=H(22);const B=200,ee=206;function se(J){const K=J.response;return typeof K!="string"?K:(0,O.stringToBytes)(K).buffer}class de{constructor(K,Y={}){this.url=K,this.isHttp=/^https?:/i.test(K),this.httpHeaders=this.isHttp&&Y.httpHeaders||Object.create(null),this.withCredentials=Y.withCredentials||!1,this.getXhr=Y.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(K,Y,G){const U={begin:K,end:Y};for(const V in G)U[V]=G[V];return this.request(U)}requestFull(K){return this.request(K)}request(K){const Y=this.getXhr(),G=this.currXhrId++,U=this.pendingRequests[G]={xhr:Y};Y.open("GET",this.url),Y.withCredentials=this.withCredentials;for(const V in this.httpHeaders){const q=this.httpHeaders[V];q!==void 0&&Y.setRequestHeader(V,q)}return this.isHttp&&"begin"in K&&"end"in K?(Y.setRequestHeader("Range",`bytes=${K.begin}-${K.end-1}`),U.expectedStatus=ee):U.expectedStatus=B,Y.responseType="arraybuffer",K.onError&&(Y.onerror=function(V){K.onError(Y.status)}),Y.onreadystatechange=this.onStateChange.bind(this,G),Y.onprogress=this.onProgress.bind(this,G),U.onHeadersReceived=K.onHeadersReceived,U.onDone=K.onDone,U.onError=K.onError,U.onProgress=K.onProgress,Y.send(null),G}onProgress(K,Y){var U;const G=this.pendingRequests[K];G&&((U=G.onProgress)==null||U.call(G,Y))}onStateChange(K,Y){var Z,W,X;const G=this.pendingRequests[K];if(!G)return;const U=G.xhr;if(U.readyState>=2&&G.onHeadersReceived&&(G.onHeadersReceived(),delete G.onHeadersReceived),U.readyState!==4||!(K in this.pendingRequests))return;if(delete this.pendingRequests[K],U.status===0&&this.isHttp){(Z=G.onError)==null||Z.call(G,U.status);return}const V=U.status||B;if(!(V===B&&G.expectedStatus===ee)&&V!==G.expectedStatus){(W=G.onError)==null||W.call(G,U.status);return}const Q=se(U);if(V===ee){const ue=U.getResponseHeader("Content-Range"),_e=/bytes (\d+)-(\d+)\/(\d+)/.exec(ue);G.onDone({begin:parseInt(_e[1],10),chunk:Q})}else Q?G.onDone({begin:0,chunk:Q}):(X=G.onError)==null||X.call(G,U.status)}getRequestXhr(K){return this.pendingRequests[K].xhr}isPendingRequest(K){return K in this.pendingRequests}abortRequest(K){const Y=this.pendingRequests[K].xhr;delete this.pendingRequests[K],Y.abort()}}class ie{constructor(K){this._source=K,this._manager=new de(K.url,{httpHeaders:K.httpHeaders,withCredentials:K.withCredentials}),this._rangeChunkSize=K.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(K){const Y=this._rangeRequestReaders.indexOf(K);Y>=0&&this._rangeRequestReaders.splice(Y,1)}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ne(this._manager,this._source),this._fullRequestReader}getRangeReader(K,Y){const G=new pe(this._manager,K,Y);return G.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(G),G}cancelAllRequests(K){var Y;(Y=this._fullRequestReader)==null||Y.cancel(K);for(const G of this._rangeRequestReaders.slice(0))G.cancel(K)}}$.PDFNetworkStream=ie;class ne{constructor(K,Y){this._manager=K;const G={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Y.url,this._fullRequestId=K.requestFull(G),this._headersReceivedCapability=(0,O.createPromiseCapability)(),this._disableRange=Y.disableRange||!1,this._contentLength=Y.length,this._rangeChunkSize=Y.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const K=this._fullRequestId,Y=this._manager.getRequestXhr(K),G=q=>Y.getResponseHeader(q),{allowRangeRequests:U,suggestedLength:V}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:G,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});U&&(this._isRangeSupported=!0),this._contentLength=V||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(G),this._isRangeSupported&&this._manager.abortRequest(K),this._headersReceivedCapability.resolve()}_onDone(K){if(K&&(this._requests.length>0?this._requests.shift().resolve({value:K.chunk,done:!1}):this._cachedChunks.push(K.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(K){this._storedError=(0,R.createResponseStatusError)(K,this._url),this._headersReceivedCapability.reject(this._storedError);for(const Y of this._requests)Y.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(K){var Y;(Y=this.onProgress)==null||Y.call(this,{loaded:K.loaded,total:K.lengthComputable?K.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const K=(0,O.createPromiseCapability)();return this._requests.push(K),K.promise}cancel(K){this._done=!0,this._headersReceivedCapability.reject(K);for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class pe{constructor(K,Y,G){this._manager=K;const U={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=K.url,this._requestId=K.requestRange(Y,G,U),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var K;(K=this.onClosed)==null||K.call(this,this)}_onDone(K){const Y=K.chunk;this._requests.length>0?this._requests.shift().resolve({value:Y,done:!1}):this._queuedChunk=Y,this._done=!0;for(const G of this._requests)G.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(K){this._storedError=(0,R.createResponseStatusError)(K,this._url);for(const Y of this._requests)Y.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(K){var Y;this.isStreamingSupported||(Y=this.onProgress)==null||Y.call(this,{loaded:K.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Y=this._queuedChunk;return this._queuedChunk=null,{value:Y,done:!1}}if(this._done)return{value:void 0,done:!0};const K=(0,O.createPromiseCapability)();return this._requests.push(K),K.promise}cancel(K){this._done=!0;for(const Y of this._requests)Y.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFetchStream=void 0;var O=H(1),R=H(22);function B(pe,J,K){return{method:"GET",headers:pe,signal:K.signal,mode:"cors",credentials:J?"include":"same-origin",redirect:"follow"}}function ee(pe){const J=new Headers;for(const K in pe){const Y=pe[K];Y!==void 0&&J.append(K,Y)}return J}function se(pe){return pe instanceof Uint8Array?pe.buffer:pe instanceof ArrayBuffer?pe:((0,O.warn)(`getArrayBuffer - unexpected data format: ${pe}`),new Uint8Array(pe).buffer)}class de{constructor(J){this.source=J,this.isHttp=/^https?:/i.test(J.url),this.httpHeaders=this.isHttp&&J.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var J;return((J=this._fullRequestReader)==null?void 0:J._loaded)??0}getFullReader(){return(0,O.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new ie(this),this._fullRequestReader}getRangeReader(J,K){if(K<=this._progressiveDataLength)return null;const Y=new ne(this,J,K);return this._rangeRequestReaders.push(Y),Y}cancelAllRequests(J){var K;(K=this._fullRequestReader)==null||K.cancel(J);for(const Y of this._rangeRequestReaders.slice(0))Y.cancel(J)}}$.PDFFetchStream=de;class ie{constructor(J){this._stream=J,this._reader=null,this._loaded=0,this._filename=null;const K=J.source;this._withCredentials=K.withCredentials||!1,this._contentLength=K.length,this._headersCapability=(0,O.createPromiseCapability)(),this._disableRange=K.disableRange||!1,this._rangeChunkSize=K.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!K.disableStream,this._isRangeSupported=!K.disableRange,this._headers=ee(this._stream.httpHeaders);const Y=K.url;fetch(Y,B(this._headers,this._withCredentials,this._abortController)).then(G=>{if(!(0,R.validateResponseStatus)(G.status))throw(0,R.createResponseStatusError)(G.status,Y);this._reader=G.body.getReader(),this._headersCapability.resolve();const U=Q=>G.headers.get(Q),{allowRangeRequests:V,suggestedLength:q}=(0,R.validateRangeRequestCapabilities)({getResponseHeader:U,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=V,this._contentLength=q||this._contentLength,this._filename=(0,R.extractFilenameFromHeader)(U),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new O.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Y;await this._headersCapability.promise;const{value:J,done:K}=await this._reader.read();return K?{value:J,done:K}:(this._loaded+=J.byteLength,(Y=this.onProgress)==null||Y.call(this,{loaded:this._loaded,total:this._contentLength}),{value:se(J),done:!1})}cancel(J){var K;(K=this._reader)==null||K.cancel(J),this._abortController.abort()}}class ne{constructor(J,K,Y){this._stream=J,this._reader=null,this._loaded=0;const G=J.source;this._withCredentials=G.withCredentials||!1,this._readCapability=(0,O.createPromiseCapability)(),this._isStreamingSupported=!G.disableStream,this._abortController=new AbortController,this._headers=ee(this._stream.httpHeaders),this._headers.append("Range",`bytes=${K}-${Y-1}`);const U=G.url;fetch(U,B(this._headers,this._withCredentials,this._abortController)).then(V=>{if(!(0,R.validateResponseStatus)(V.status))throw(0,R.createResponseStatusError)(V.status,U);this._readCapability.resolve(),this._reader=V.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Y;await this._readCapability.promise;const{value:J,done:K}=await this._reader.read();return K?{value:J,done:K}:(this._loaded+=J.byteLength,(Y=this.onProgress)==null||Y.call(this,{loaded:this._loaded}),{value:se(J),done:!1})}cancel(J){var K;(K=this._reader)==null||K.cancel(J),this._abortController.abort()}}},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerRenderTask=void 0,$.renderTextLayer=G,$.updateTextLayer=U;var O=H(1),R=H(6);const B=1e5,ee=30,se=.8,de=new Map;function ie(V,q){let Q;if(q&&O.FeatureTest.isOffscreenCanvasSupported)Q=new OffscreenCanvas(V,V).getContext("2d",{alpha:!1});else{const Z=document.createElement("canvas");Z.width=Z.height=V,Q=Z.getContext("2d",{alpha:!1})}return Q}function ne(V,q){const Q=de.get(V);if(Q)return Q;const Z=ie(ee,q);Z.font=`${ee}px ${V}`;const W=Z.measureText("");let X=W.fontBoundingBoxAscent,ue=Math.abs(W.fontBoundingBoxDescent);if(X){const be=X/(X+ue);return de.set(V,be),Z.canvas.width=Z.canvas.height=0,be}Z.strokeStyle="red",Z.clearRect(0,0,ee,ee),Z.strokeText("g",0,0);let _e=Z.getImageData(0,0,ee,ee).data;ue=0;for(let be=_e.length-1-3;be>=0;be-=4)if(_e[be]>0){ue=Math.ceil(be/4/ee);break}Z.clearRect(0,0,ee,ee),Z.strokeText("A",0,ee),_e=Z.getImageData(0,0,ee,ee).data,X=0;for(let be=0,we=_e.length;be<we;be+=4)if(_e[be]>0){X=ee-Math.floor(be/4/ee);break}if(Z.canvas.width=Z.canvas.height=0,X){const be=X/(X+ue);return de.set(V,be),be}return de.set(V,se),se}function pe(V,q,Q){const Z=document.createElement("span"),W={angle:0,canvasWidth:0,hasText:q.str!=="",hasEOL:q.hasEOL,fontSize:0};V._textDivs.push(Z);const X=O.Util.transform(V._transform,q.transform);let ue=Math.atan2(X[1],X[0]);const _e=Q[q.fontName];_e.vertical&&(ue+=Math.PI/2);const be=Math.hypot(X[2],X[3]),we=be*ne(_e.fontFamily,V._isOffscreenCanvasSupported);let ce,$e;ue===0?(ce=X[4],$e=X[5]-we):(ce=X[4]+we*Math.sin(ue),$e=X[5]-we*Math.cos(ue));const Xe="calc(var(--scale-factor)*",De=Z.style;V._container===V._rootContainer?(De.left=`${(100*ce/V._pageWidth).toFixed(2)}%`,De.top=`${(100*$e/V._pageHeight).toFixed(2)}%`):(De.left=`${Xe}${ce.toFixed(2)}px)`,De.top=`${Xe}${$e.toFixed(2)}px)`),De.fontSize=`${Xe}${be.toFixed(2)}px)`,De.fontFamily=_e.fontFamily,W.fontSize=be,Z.setAttribute("role","presentation"),Z.textContent=q.str,Z.dir=q.dir,V._fontInspectorEnabled&&(Z.dataset.fontName=q.fontName),ue!==0&&(W.angle=ue*(180/Math.PI));let Ge=!1;if(q.str.length>1)Ge=!0;else if(q.str!==" "&&q.transform[0]!==q.transform[3]){const Fe=Math.abs(q.transform[0]),xe=Math.abs(q.transform[3]);Fe!==xe&&Math.max(Fe,xe)/Math.min(Fe,xe)>1.5&&(Ge=!0)}Ge&&(W.canvasWidth=_e.vertical?q.height:q.width),V._textDivProperties.set(Z,W),V._isReadableStream&&V._layoutText(Z)}function J(V){const{div:q,scale:Q,properties:Z,ctx:W,prevFontSize:X,prevFontFamily:ue}=V,{style:_e}=q;let be="";if(Z.canvasWidth!==0&&Z.hasText){const{fontFamily:we}=_e,{canvasWidth:ce,fontSize:$e}=Z;(X!==$e||ue!==we)&&(W.font=`${$e*Q}px ${we}`,V.prevFontSize=$e,V.prevFontFamily=we);const{width:Xe}=W.measureText(q.textContent);Xe>0&&(be=`scaleX(${ce*Q/Xe})`)}Z.angle!==0&&(be=`rotate(${Z.angle}deg) ${be}`),be.length>0&&(_e.transform=be)}function K(V){if(V._canceled)return;const q=V._textDivs,Q=V._capability;if(q.length>B){Q.resolve();return}if(!V._isReadableStream)for(const W of q)V._layoutText(W);Q.resolve()}class Y{constructor({textContentSource:q,container:Q,viewport:Z,textDivs:W,textDivProperties:X,textContentItemsStr:ue,isOffscreenCanvasSupported:_e}){var Xe;this._textContentSource=q,this._isReadableStream=q instanceof ReadableStream,this._container=this._rootContainer=Q,this._textDivs=W||[],this._textContentItemsStr=ue||[],this._fontInspectorEnabled=!!((Xe=globalThis.FontInspector)!=null&&Xe.enabled),this._reader=null,this._textDivProperties=X||new WeakMap,this._canceled=!1,this._capability=(0,O.createPromiseCapability)(),this._layoutTextParams={prevFontSize:null,prevFontFamily:null,div:null,scale:Z.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:ie(0,_e)};const{pageWidth:be,pageHeight:we,pageX:ce,pageY:$e}=Z.rawDims;this._transform=[1,0,0,-1,-ce,$e+we],this._pageWidth=be,this._pageHeight=we,(0,R.setLayerDimensions)(Q,Z),this._capability.promise.finally(()=>{this._layoutTextParams=null}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new O.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._capability.reject(new O.AbortException("TextLayer task cancelled."))}_processItems(q,Q){for(const Z of q){if(Z.str===void 0){if(Z.type==="beginMarkedContentProps"||Z.type==="beginMarkedContent"){const W=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),Z.id!==null&&this._container.setAttribute("id",`${Z.id}`),W.append(this._container)}else Z.type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(Z.str),pe(this,Z,Q)}}_layoutText(q){const Q=this._layoutTextParams.properties=this._textDivProperties.get(q);if(this._layoutTextParams.div=q,J(this._layoutTextParams),Q.hasText&&this._container.append(q),Q.hasEOL){const Z=document.createElement("br");Z.setAttribute("role","presentation"),this._container.append(Z)}}_render(){const q=(0,O.createPromiseCapability)();let Q=Object.create(null);if(this._isReadableStream){const Z=()=>{this._reader.read().then(({value:W,done:X})=>{if(X){q.resolve();return}Object.assign(Q,W.styles),this._processItems(W.items,Q),Z()},q.reject)};this._reader=this._textContentSource.getReader(),Z()}else if(this._textContentSource){const{items:Z,styles:W}=this._textContentSource;this._processItems(Z,W),q.resolve()}else throw new Error('No "textContentSource" parameter specified.');q.promise.then(()=>{Q=null,K(this)},this._capability.reject)}}$.TextLayerRenderTask=Y;function G(V){!V.textContentSource&&(V.textContent||V.textContentStream)&&((0,R.deprecated)("The TextLayerRender `textContent`/`textContentStream` parameters will be removed in the future, please use `textContentSource` instead."),V.textContentSource=V.textContent||V.textContentStream);const q=new Y(V);return q._render(),q}function U({container:V,viewport:q,textDivs:Q,textDivProperties:Z,isOffscreenCanvasSupported:W,mustRotate:X=!0,mustRescale:ue=!0}){if(X&&(0,R.setLayerDimensions)(V,{rotation:q.rotation}),ue){const _e=ie(0,W),we={prevFontSize:null,prevFontFamily:null,div:null,scale:q.scale*(globalThis.devicePixelRatio||1),properties:null,ctx:_e};for(const ce of Q)we.properties=Z.get(ce),we.div=ce,J(we)}}},(A,$,H)=>{var ie,ne,pe,J,K,Y,G,U,V,Nr,Q,vi,W,jr,ue,bi;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationEditorLayer=void 0;var O=H(1),R=H(5),B=H(28),ee=H(29),se=H(6);const be=class{constructor(ce){at(this,V);at(this,Q);at(this,W);at(this,ue);at(this,ie,void 0);at(this,ne,!1);at(this,pe,this.pointerup.bind(this));at(this,J,this.pointerdown.bind(this));at(this,K,new Map);at(this,Y,!1);at(this,G,!1);at(this,U,void 0);be._initialized||(be._initialized=!0,B.FreeTextEditor.initialize(ce.l10n),ee.InkEditor.initialize(ce.l10n)),ce.uiManager.registerEditorTypes([B.FreeTextEditor,ee.InkEditor]),St(this,U,ce.uiManager),this.pageIndex=ce.pageIndex,this.div=ce.div,St(this,ie,ce.accessibilityManager),me(this,U).addLayer(this)}updateToolbar(ce){me(this,U).updateToolbar(ce)}updateMode(ce=me(this,U).getMode()){ft(this,ue,bi).call(this),ce===O.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),me(this,U).unselectAll(),this.div.classList.toggle("freeTextEditing",ce===O.AnnotationEditorType.FREETEXT),this.div.classList.toggle("inkEditing",ce===O.AnnotationEditorType.INK)}addInkEditorIfNeeded(ce){if(!ce&&me(this,U).getMode()!==O.AnnotationEditorType.INK)return;if(!ce){for(const Xe of me(this,K).values())if(Xe.isEmpty()){Xe.setInBackground();return}}ft(this,W,jr).call(this,{offsetX:0,offsetY:0}).setInBackground()}setEditingState(ce){me(this,U).setEditingState(ce)}addCommands(ce){me(this,U).addCommands(ce)}enable(){this.div.style.pointerEvents="auto";for(const ce of me(this,K).values())ce.enableEditing()}disable(){this.div.style.pointerEvents="none";for(const ce of me(this,K).values())ce.disableEditing()}setActiveEditor(ce){me(this,U).getActive()!==ce&&me(this,U).setActiveEditor(ce)}enableClick(){this.div.addEventListener("pointerdown",me(this,J)),this.div.addEventListener("pointerup",me(this,pe))}disableClick(){this.div.removeEventListener("pointerdown",me(this,J)),this.div.removeEventListener("pointerup",me(this,pe))}attach(ce){me(this,K).set(ce.id,ce)}detach(ce){var $e;me(this,K).delete(ce.id),($e=me(this,ie))==null||$e.removePointerInTextLayer(ce.contentDiv)}remove(ce){me(this,U).removeEditor(ce),this.detach(ce),ce.div.style.display="none",setTimeout(()=>{ce.div.style.display="",ce.div.remove(),ce.isAttachedToDOM=!1,document.activeElement===document.body&&me(this,U).focusMainContainer()},0),me(this,G)||this.addInkEditorIfNeeded(!1)}add(ce){if(ft(this,V,Nr).call(this,ce),me(this,U).addEditor(ce),this.attach(ce),!ce.isAttachedToDOM){const $e=ce.render();this.div.append($e),ce.isAttachedToDOM=!0}this.moveEditorInDOM(ce),ce.onceAdded(),me(this,U).addToAnnotationStorage(ce)}moveEditorInDOM(ce){var $e;($e=me(this,ie))==null||$e.moveElementInDOM(this.div,ce.div,ce.contentDiv,!0)}addOrRebuild(ce){ce.needsToBeRebuilt()?ce.rebuild():this.add(ce)}addANewEditor(ce){const $e=()=>{this.addOrRebuild(ce)},Xe=()=>{ce.remove()};this.addCommands({cmd:$e,undo:Xe,mustExec:!0})}addUndoableEditor(ce){const $e=()=>{this.addOrRebuild(ce)},Xe=()=>{ce.remove()};this.addCommands({cmd:$e,undo:Xe,mustExec:!1})}getNextId(){return me(this,U).getId()}deserialize(ce){switch(ce.annotationType){case O.AnnotationEditorType.FREETEXT:return B.FreeTextEditor.deserialize(ce,this,me(this,U));case O.AnnotationEditorType.INK:return ee.InkEditor.deserialize(ce,this,me(this,U))}return null}setSelected(ce){me(this,U).setSelected(ce)}toggleSelected(ce){me(this,U).toggleSelected(ce)}isSelected(ce){return me(this,U).isSelected(ce)}unselect(ce){me(this,U).unselect(ce)}pointerup(ce){const{isMac:$e}=O.FeatureTest.platform;if(!(ce.button!==0||ce.ctrlKey&&$e)&&ce.target===this.div&&me(this,Y)){if(St(this,Y,!1),!me(this,ne)){St(this,ne,!0);return}ft(this,W,jr).call(this,ce)}}pointerdown(ce){const{isMac:$e}=O.FeatureTest.platform;if(ce.button!==0||ce.ctrlKey&&$e||ce.target!==this.div)return;St(this,Y,!0);const Xe=me(this,U).getActive();St(this,ne,!Xe||Xe.isEmpty())}drop(ce){const $e=ce.dataTransfer.getData("text/plain"),Xe=me(this,U).getEditor($e);if(!Xe)return;ce.preventDefault(),ce.dataTransfer.dropEffect="move",ft(this,V,Nr).call(this,Xe);const De=this.div.getBoundingClientRect(),Ge=ce.clientX-De.x,Fe=ce.clientY-De.y;Xe.translate(Ge-Xe.startX,Fe-Xe.startY),this.moveEditorInDOM(Xe),Xe.div.focus()}dragover(ce){ce.preventDefault()}destroy(){var ce,$e;((ce=me(this,U).getActive())==null?void 0:ce.parent)===this&&me(this,U).setActiveEditor(null);for(const Xe of me(this,K).values())($e=me(this,ie))==null||$e.removePointerInTextLayer(Xe.contentDiv),Xe.setParent(null),Xe.isAttachedToDOM=!1,Xe.div.remove();this.div=null,me(this,K).clear(),me(this,U).removeLayer(this)}render({viewport:ce}){this.viewport=ce,(0,se.setLayerDimensions)(this.div,ce),(0,R.bindEvents)(this,this.div,["dragover","drop"]);for(const $e of me(this,U).getEditors(this.pageIndex))this.add($e);this.updateMode()}update({viewport:ce}){me(this,U).commitOrRemove(),this.viewport=ce,(0,se.setLayerDimensions)(this.div,{rotation:ce.rotation}),this.updateMode()}get pageDimensions(){const{pageWidth:ce,pageHeight:$e}=this.viewport.rawDims;return[ce,$e]}};let de=be;ie=new WeakMap,ne=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,V=new WeakSet,Nr=function(ce){var $e;ce.parent!==this&&(this.attach(ce),($e=ce.parent)==null||$e.detach(ce),ce.setParent(this),ce.div&&ce.isAttachedToDOM&&(ce.div.remove(),this.div.append(ce.div)))},Q=new WeakSet,vi=function(ce){switch(me(this,U).getMode()){case O.AnnotationEditorType.FREETEXT:return new B.FreeTextEditor(ce);case O.AnnotationEditorType.INK:return new ee.InkEditor(ce)}return null},W=new WeakSet,jr=function(ce){const $e=this.getNextId(),Xe=ft(this,Q,vi).call(this,{parent:this,id:$e,x:ce.offsetX,y:ce.offsetY,uiManager:me(this,U)});return Xe&&this.add(Xe),Xe},ue=new WeakSet,bi=function(){St(this,G,!0);for(const ce of me(this,K).values())ce.isEmpty()&&ce.remove();St(this,G,!1)},gn(de,"_initialized",!1),$.AnnotationEditorLayer=de},(A,$,H)=>{var se,de,ie,ne,pe,J,K,Y,G,U,_i,q,Ei,Z,yi,X,Br;Object.defineProperty($,"__esModule",{value:!0}),$.FreeTextEditor=void 0;var O=H(1),R=H(5),B=H(4);const _e=class extends B.AnnotationEditor{constructor(ce){super({...ce,name:"freeTextEditor"});at(this,U);at(this,q);at(this,Z);at(this,X);at(this,se,this.editorDivBlur.bind(this));at(this,de,this.editorDivFocus.bind(this));at(this,ie,this.editorDivInput.bind(this));at(this,ne,this.editorDivKeydown.bind(this));at(this,pe,void 0);at(this,J,"");at(this,K,`${this.id}-editor`);at(this,Y,!1);at(this,G,void 0);St(this,pe,ce.color||_e._defaultColor||B.AnnotationEditor._defaultLineColor),St(this,G,ce.fontSize||_e._defaultFontSize)}static initialize(ce){this._l10nPromise=new Map(["free_text2_default_content","editor_free_text2_aria_label"].map(Xe=>[Xe,ce.get(Xe)]));const $e=getComputedStyle(document.documentElement);this._internalPadding=parseFloat($e.getPropertyValue("--freetext-padding"))}static updateDefaultParams(ce,$e){switch(ce){case O.AnnotationEditorParamsType.FREETEXT_SIZE:_e._defaultFontSize=$e;break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:_e._defaultColor=$e;break}}updateParams(ce,$e){switch(ce){case O.AnnotationEditorParamsType.FREETEXT_SIZE:ft(this,U,_i).call(this,$e);break;case O.AnnotationEditorParamsType.FREETEXT_COLOR:ft(this,q,Ei).call(this,$e);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,_e._defaultFontSize],[O.AnnotationEditorParamsType.FREETEXT_COLOR,_e._defaultColor||B.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.FREETEXT_SIZE,me(this,G)],[O.AnnotationEditorParamsType.FREETEXT_COLOR,me(this,pe)]]}getInitialTranslation(){const ce=this.parentScale;return[-_e._internalPadding*ce,-(_e._internalPadding+me(this,G))*ce]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(O.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.div.removeAttribute("aria-activedescendant"),this.editorDiv.addEventListener("keydown",me(this,ne)),this.editorDiv.addEventListener("focus",me(this,de)),this.editorDiv.addEventListener("blur",me(this,se)),this.editorDiv.addEventListener("input",me(this,ie)))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",me(this,K)),this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",me(this,ne)),this.editorDiv.removeEventListener("focus",me(this,de)),this.editorDiv.removeEventListener("blur",me(this,se)),this.editorDiv.removeEventListener("input",me(this,ie)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freeTextEditing"))}focusin(ce){super.focusin(ce),ce.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),this.parent.div.classList.add("freeTextEditing"),super.remove()}commit(){this.isInEditMode()&&(super.commit(),me(this,Y)||(St(this,Y,!0),this.parent.addUndoableEditor(this)),this.disableEditMode(),St(this,J,ft(this,Z,yi).call(this).trimEnd()),ft(this,X,Br).call(this))}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(ce){this.enableEditMode(),this.editorDiv.focus()}keydown(ce){ce.target===this.div&&ce.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(ce){_e._keyboardManager.exec(this,ce)}editorDivFocus(ce){this.isEditing=!0}editorDivBlur(ce){this.isEditing=!1}editorDivInput(ce){this.parent.div.classList.toggle("freeTextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let ce,$e;this.width&&(ce=this.x,$e=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",me(this,K)),this.enableEditing(),_e._l10nPromise.get("editor_free_text2_aria_label").then(De=>{var Ge;return(Ge=this.editorDiv)==null?void 0:Ge.setAttribute("aria-label",De)}),_e._l10nPromise.get("free_text2_default_content").then(De=>{var Ge;return(Ge=this.editorDiv)==null?void 0:Ge.setAttribute("default-content",De)}),this.editorDiv.contentEditable=!0;const{style:Xe}=this.editorDiv;if(Xe.fontSize=`calc(${me(this,G)}px * var(--scale-factor))`,Xe.color=me(this,pe),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,R.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){const[De,Ge]=this.parentDimensions;this.setAt(ce*De,$e*Ge,this.width*De,this.height*Ge);for(const Fe of me(this,J).split(`
`)){const xe=document.createElement("div");xe.append(Fe?document.createTextNode(Fe):document.createElement("br")),this.editorDiv.append(xe)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(ce,$e,Xe){const De=super.deserialize(ce,$e,Xe);return St(De,G,ce.fontSize),St(De,pe,O.Util.makeHexColor(...ce.color)),St(De,J,ce.value),De}serialize(){if(this.isEmpty())return null;const ce=_e._internalPadding*this.parentScale,$e=this.getRect(ce,ce),Xe=B.AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:me(this,pe));return{annotationType:O.AnnotationEditorType.FREETEXT,color:Xe,fontSize:me(this,G),value:me(this,J),pageIndex:this.pageIndex,rect:$e,rotation:this.rotation}}};let ee=_e;se=new WeakMap,de=new WeakMap,ie=new WeakMap,ne=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakSet,_i=function(ce){const $e=De=>{this.editorDiv.style.fontSize=`calc(${De}px * var(--scale-factor))`,this.translate(0,-(De-me(this,G))*this.parentScale),St(this,G,De),ft(this,X,Br).call(this)},Xe=me(this,G);this.addCommands({cmd:()=>{$e(ce)},undo:()=>{$e(Xe)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},q=new WeakSet,Ei=function(ce){const $e=me(this,pe);this.addCommands({cmd:()=>{St(this,pe,this.editorDiv.style.color=ce)},undo:()=>{St(this,pe,this.editorDiv.style.color=$e)},mustExec:!0,type:O.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Z=new WeakSet,yi=function(){const ce=this.editorDiv.getElementsByTagName("div");if(ce.length===0)return this.editorDiv.innerText;const $e=[];for(const Xe of ce)$e.push(Xe.innerText.replace(/\r\n?|\n/,""));return $e.join(`
`)},X=new WeakSet,Br=function(){const[ce,$e]=this.parentDimensions;let Xe;if(this.isAttachedToDOM)Xe=this.div.getBoundingClientRect();else{const{currentLayer:De,div:Ge}=this,Fe=Ge.style.display;Ge.style.display="hidden",De.div.append(this.div),Xe=Ge.getBoundingClientRect(),Ge.remove(),Ge.style.display=Fe}this.width=Xe.width/ce,this.height=Xe.height/$e},gn(ee,"_freeTextDefaultContent",""),gn(ee,"_l10nPromise"),gn(ee,"_internalPadding",0),gn(ee,"_defaultColor",null),gn(ee,"_defaultFontSize",10),gn(ee,"_keyboardManager",new R.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],_e.prototype.commitOrRemove]])),gn(ee,"_type","freetext"),$.FreeTextEditor=ee},(A,$,H)=>{var ne,pe,J,K,Y,G,U,V,q,Q,Z,W,X,ue,_e,Si,we,Ci,$e,Ai,De,wi,Fe,zr,Te,ki,Ke,Pi,oe,$i,fe,Un,Ee,Hr,Oe,_r,rt,Er,tt,cr,ae,Vr,ve,yr,ge,Ur,Je,xi,it,Ti,ht,Mi,pt,Wr,yt,Sr,jt,lr,bt,qr;Object.defineProperty($,"__esModule",{value:!0}),$.InkEditor=void 0,Object.defineProperty($,"fitCurve",{enumerable:!0,get:function(){return B.fitCurve}});var O=H(1),R=H(4),B=H(30),ee=H(5);const se=16,de=100,Le=class extends R.AnnotationEditor{constructor(Be){super({...Be,name:"inkEditor"});at(this,_e);at(this,we);at(this,$e);at(this,De);at(this,Fe);at(this,Te);at(this,Ke);at(this,oe);at(this,fe);at(this,Ee);at(this,Oe);at(this,rt);at(this,tt);at(this,ae);at(this,ve);at(this,Je);at(this,it);at(this,ht);at(this,pt);at(this,yt);at(this,jt);at(this,bt);at(this,ne,0);at(this,pe,0);at(this,J,0);at(this,K,this.canvasPointermove.bind(this));at(this,Y,this.canvasPointerleave.bind(this));at(this,G,this.canvasPointerup.bind(this));at(this,U,this.canvasPointerdown.bind(this));at(this,V,!1);at(this,q,!1);at(this,Q,null);at(this,Z,null);at(this,W,0);at(this,X,0);at(this,ue,null);this.color=Be.color||null,this.thickness=Be.thickness||null,this.opacity=Be.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(Be){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink2_aria_label"].map(ct=>[ct,Be.get(ct)]))}static updateDefaultParams(Be,ct){switch(Be){case O.AnnotationEditorParamsType.INK_THICKNESS:Le._defaultThickness=ct;break;case O.AnnotationEditorParamsType.INK_COLOR:Le._defaultColor=ct;break;case O.AnnotationEditorParamsType.INK_OPACITY:Le._defaultOpacity=ct/100;break}}updateParams(Be,ct){switch(Be){case O.AnnotationEditorParamsType.INK_THICKNESS:ft(this,_e,Si).call(this,ct);break;case O.AnnotationEditorParamsType.INK_COLOR:ft(this,we,Ci).call(this,ct);break;case O.AnnotationEditorParamsType.INK_OPACITY:ft(this,$e,Ai).call(this,ct);break}}static get defaultPropertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,Le._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,Le._defaultColor||R.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(Le._defaultOpacity*100)]]}get propertiesToUpdate(){return[[O.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||Le._defaultThickness],[O.AnnotationEditorParamsType.INK_COLOR,this.color||Le._defaultColor||R.AnnotationEditor._defaultLineColor],[O.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??Le._defaultOpacity))]]}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(ft(this,Oe,_r).call(this),ft(this,rt,Er).call(this)),this.isAttachedToDOM||(this.parent.add(this),ft(this,tt,cr).call(this)),ft(this,jt,lr).call(this))}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,me(this,Z).disconnect(),St(this,Z,null),super.remove())}setParent(Be){!this.parent&&Be?this._uiManager.removeShouldRescale(this):this.parent&&Be===null&&this._uiManager.addShouldRescale(this),super.setParent(Be)}onScaleChanging(){const[Be,ct]=this.parentDimensions,Et=this.width*Be,Pt=this.height*ct;this.setDimensions(Et,Pt)}enableEditMode(){me(this,V)||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",me(this,U)),this.canvas.addEventListener("pointerup",me(this,G)))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",me(this,U)),this.canvas.removeEventListener("pointerup",me(this,G)))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){me(this,V)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),St(this,V,!0),this.div.classList.add("disabled"),ft(this,jt,lr).call(this,!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus({preventScroll:!0}))}focusin(Be){super.focusin(Be),this.enableEditMode()}canvasPointerdown(Be){Be.button!==0||!this.isInEditMode()||me(this,V)||(this.setInForeground(),Be.type!=="mouse"&&this.div.focus(),Be.stopPropagation(),this.canvas.addEventListener("pointerleave",me(this,Y)),this.canvas.addEventListener("pointermove",me(this,K)),ft(this,Te,ki).call(this,Be.offsetX,Be.offsetY))}canvasPointermove(Be){Be.stopPropagation(),ft(this,Ke,Pi).call(this,Be.offsetX,Be.offsetY)}canvasPointerup(Be){Be.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(Be.stopPropagation(),ft(this,Ee,Hr).call(this,Be),this.setInBackground())}canvasPointerleave(Be){ft(this,Ee,Hr).call(this,Be),this.setInBackground()}render(){if(this.div)return this.div;let Be,ct;this.width&&(Be=this.x,ct=this.y),super.render(),Le._l10nPromise.get("editor_ink2_aria_label").then(zt=>{var Ut;return(Ut=this.div)==null?void 0:Ut.setAttribute("aria-label",zt)});const[Et,Pt,Xt,en]=ft(this,De,wi).call(this);if(this.setAt(Et,Pt,0,0),this.setDims(Xt,en),ft(this,Oe,_r).call(this),this.width){const[zt,Ut]=this.parentDimensions;this.setAt(Be*zt,ct*Ut,this.width*zt,this.height*Ut),St(this,q,!0),ft(this,tt,cr).call(this),this.setDims(this.width*zt,this.height*Ut),ft(this,fe,Un).call(this),ft(this,bt,qr).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return ft(this,rt,Er).call(this),this.div}setDimensions(Be,ct){const Et=Math.round(Be),Pt=Math.round(ct);if(me(this,W)===Et&&me(this,X)===Pt)return;St(this,W,Et),St(this,X,Pt),this.canvas.style.visibility="hidden",me(this,ne)&&Math.abs(me(this,ne)-Be/ct)>.01&&(ct=Math.ceil(Be/me(this,ne)),this.setDims(Be,ct));const[Xt,en]=this.parentDimensions;this.width=Be/Xt,this.height=ct/en,me(this,V)&&ft(this,ae,Vr).call(this,Be,ct),ft(this,tt,cr).call(this),ft(this,fe,Un).call(this),this.canvas.style.visibility="visible"}static deserialize(Be,ct,Et){var dn,hn;const Pt=super.deserialize(Be,ct,Et);Pt.thickness=Be.thickness,Pt.color=O.Util.makeHexColor(...Be.color),Pt.opacity=Be.opacity;const[Xt,en]=Pt.pageDimensions,zt=Pt.width*Xt,Ut=Pt.height*en,tn=Pt.parentScale,Yt=Be.thickness/2;St(Pt,ne,zt/Ut),St(Pt,V,!0),St(Pt,W,Math.round(zt)),St(Pt,X,Math.round(Ut));for(const{bezier:vn}of Be.paths){const $n=[];Pt.paths.push($n);let xn=tn*(vn[0]-Yt),fn=tn*(Ut-vn[1]-Yt);for(let kn=2,Zn=vn.length;kn<Zn;kn+=6){const Jn=tn*(vn[kn]-Yt),Qn=tn*(Ut-vn[kn+1]-Yt),er=tn*(vn[kn+2]-Yt),tr=tn*(Ut-vn[kn+3]-Yt),Wn=tn*(vn[kn+4]-Yt),mr=tn*(Ut-vn[kn+5]-Yt);$n.push([[xn,fn],[Jn,Qn],[er,tr],[Wn,mr]]),xn=Wn,fn=mr}const In=ft(this,ge,Ur).call(this,$n);Pt.bezierPath2D.push(In)}const Jt=ft(dn=Pt,pt,Wr).call(dn);return St(Pt,J,Math.max(se,Jt[2]-Jt[0])),St(Pt,pe,Math.max(se,Jt[3]-Jt[1])),ft(hn=Pt,ae,Vr).call(hn,zt,Ut),Pt}serialize(){if(this.isEmpty())return null;const Be=this.getRect(0,0),ct=this.rotation%180===0?Be[3]-Be[1]:Be[2]-Be[0],Et=R.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:O.AnnotationEditorType.INK,color:Et,thickness:this.thickness,opacity:this.opacity,paths:ft(this,Je,xi).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,ct),pageIndex:this.pageIndex,rect:Be,rotation:this.rotation}}};let ie=Le;ne=new WeakMap,pe=new WeakMap,J=new WeakMap,K=new WeakMap,Y=new WeakMap,G=new WeakMap,U=new WeakMap,V=new WeakMap,q=new WeakMap,Q=new WeakMap,Z=new WeakMap,W=new WeakMap,X=new WeakMap,ue=new WeakMap,_e=new WeakSet,Si=function(Be){const ct=this.thickness;this.addCommands({cmd:()=>{this.thickness=Be,ft(this,jt,lr).call(this)},undo:()=>{this.thickness=ct,ft(this,jt,lr).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},we=new WeakSet,Ci=function(Be){const ct=this.color;this.addCommands({cmd:()=>{this.color=Be,ft(this,fe,Un).call(this)},undo:()=>{this.color=ct,ft(this,fe,Un).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},$e=new WeakSet,Ai=function(Be){Be/=100;const ct=this.opacity;this.addCommands({cmd:()=>{this.opacity=Be,ft(this,fe,Un).call(this)},undo:()=>{this.opacity=ct,ft(this,fe,Un).call(this)},mustExec:!0,type:O.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},De=new WeakSet,wi=function(){const{parentRotation:Be,parentDimensions:[ct,Et]}=this;switch(Be){case 90:return[0,Et,Et,ct];case 180:return[ct,Et,ct,Et];case 270:return[ct,0,Et,ct];default:return[0,0,ct,Et]}},Fe=new WeakSet,zr=function(){const{ctx:Be,color:ct,opacity:Et,thickness:Pt,parentScale:Xt,scaleFactor:en}=this;Be.lineWidth=Pt*Xt/en,Be.lineCap="round",Be.lineJoin="round",Be.miterLimit=10,Be.strokeStyle=`${ct}${(0,ee.opacityToHex)(Et)}`},Te=new WeakSet,ki=function(Be,ct){this.isEditing=!0,me(this,q)||(St(this,q,!0),ft(this,tt,cr).call(this),this.thickness||(this.thickness=Le._defaultThickness),this.color||(this.color=Le._defaultColor||R.AnnotationEditor._defaultLineColor),this.opacity??(this.opacity=Le._defaultOpacity)),this.currentPath.push([Be,ct]),St(this,Q,null),ft(this,Fe,zr).call(this),this.ctx.beginPath(),this.ctx.moveTo(Be,ct),St(this,ue,()=>{me(this,ue)&&(me(this,Q)&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):ft(this,fe,Un).call(this),this.ctx.lineTo(...me(this,Q)),St(this,Q,null),this.ctx.stroke()),window.requestAnimationFrame(me(this,ue)))}),window.requestAnimationFrame(me(this,ue))},Ke=new WeakSet,Pi=function(Be,ct){const[Et,Pt]=this.currentPath.at(-1);Be===Et&&ct===Pt||(this.currentPath.push([Be,ct]),St(this,Q,[Be,ct]))},oe=new WeakSet,$i=function(Be,ct){var tn;this.ctx.closePath(),St(this,ue,null),Be=Math.min(Math.max(Be,0),this.canvas.width),ct=Math.min(Math.max(ct,0),this.canvas.height);const[Et,Pt]=this.currentPath.at(-1);(Be!==Et||ct!==Pt)&&this.currentPath.push([Be,ct]);let Xt;if(this.currentPath.length!==1)Xt=(0,B.fitCurve)(this.currentPath,30,null);else{const Yt=[Be,ct];Xt=[[Yt,Yt.slice(),Yt.slice(),Yt]]}const en=ft(tn=Le,ge,Ur).call(tn,Xt);this.currentPath.length=0;const zt=()=>{this.paths.push(Xt),this.bezierPath2D.push(en),this.rebuild()},Ut=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(ft(this,Oe,_r).call(this),ft(this,rt,Er).call(this)),ft(this,jt,lr).call(this))};this.addCommands({cmd:zt,undo:Ut,mustExec:!0})},fe=new WeakSet,Un=function(){if(this.isEmpty()){ft(this,ve,yr).call(this);return}ft(this,Fe,zr).call(this);const{canvas:Be,ctx:ct}=this;ct.setTransform(1,0,0,1,0,0),ct.clearRect(0,0,Be.width,Be.height),ft(this,ve,yr).call(this);for(const Et of this.bezierPath2D)ct.stroke(Et)},Ee=new WeakSet,Hr=function(Be){ft(this,oe,$i).call(this,Be.offsetX,Be.offsetY),this.canvas.removeEventListener("pointerleave",me(this,Y)),this.canvas.removeEventListener("pointermove",me(this,K)),this.addToAnnotationStorage()},Oe=new WeakSet,_r=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",Le._l10nPromise.get("editor_ink_canvas_aria_label").then(Be=>{var ct;return(ct=this.canvas)==null?void 0:ct.setAttribute("aria-label",Be)}),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},rt=new WeakSet,Er=function(){let Be=null;St(this,Z,new ResizeObserver(ct=>{const Et=ct[0].contentRect;Et.width&&Et.height&&(Be!==null&&clearTimeout(Be),Be=setTimeout(()=>{this.fixDims(),Be=null},de),this.setDimensions(Et.width,Et.height))})),me(this,Z).observe(this.div)},tt=new WeakSet,cr=function(){if(!me(this,q))return;const[Be,ct]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*Be),this.canvas.height=Math.ceil(this.height*ct),ft(this,ve,yr).call(this)},ae=new WeakSet,Vr=function(Be,ct){const Et=ft(this,yt,Sr).call(this),Pt=(Be-Et)/me(this,J),Xt=(ct-Et)/me(this,pe);this.scaleFactor=Math.min(Pt,Xt)},ve=new WeakSet,yr=function(){const Be=ft(this,yt,Sr).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+Be,this.translationY*this.scaleFactor+Be)},ge=new WeakSet,Ur=function(Be){const ct=new Path2D;for(let Et=0,Pt=Be.length;Et<Pt;Et++){const[Xt,en,zt,Ut]=Be[Et];Et===0&&ct.moveTo(...Xt),ct.bezierCurveTo(en[0],en[1],zt[0],zt[1],Ut[0],Ut[1])}return ct},Je=new WeakSet,xi=function(Be,ct,Et,Pt){const en=[],zt=this.thickness/2;let Ut,tn;for(const Yt of this.paths){Ut=[],tn=[];for(let Jt=0,dn=Yt.length;Jt<dn;Jt++){const[hn,vn,$n,xn]=Yt[Jt],fn=Be*(hn[0]+ct)+zt,In=Pt-Be*(hn[1]+Et)-zt,kn=Be*(vn[0]+ct)+zt,Zn=Pt-Be*(vn[1]+Et)-zt,Jn=Be*($n[0]+ct)+zt,Qn=Pt-Be*($n[1]+Et)-zt,er=Be*(xn[0]+ct)+zt,tr=Pt-Be*(xn[1]+Et)-zt;Jt===0&&(Ut.push(fn,In),tn.push(fn,In)),Ut.push(kn,Zn,Jn,Qn,er,tr),ft(this,it,Ti).call(this,fn,In,kn,Zn,Jn,Qn,er,tr,4,tn)}en.push({bezier:Ut,points:tn})}return en},it=new WeakSet,Ti=function(Be,ct,Et,Pt,Xt,en,zt,Ut,tn,Yt){if(ft(this,ht,Mi).call(this,Be,ct,Et,Pt,Xt,en,zt,Ut)){Yt.push(zt,Ut);return}for(let Jt=1;Jt<tn-1;Jt++){const dn=Jt/tn,hn=1-dn;let vn=dn*Be+hn*Et,$n=dn*ct+hn*Pt,xn=dn*Et+hn*Xt,fn=dn*Pt+hn*en;const In=dn*Xt+hn*zt,kn=dn*en+hn*Ut;vn=dn*vn+hn*xn,$n=dn*$n+hn*fn,xn=dn*xn+hn*In,fn=dn*fn+hn*kn,vn=dn*vn+hn*xn,$n=dn*$n+hn*fn,Yt.push(vn,$n)}Yt.push(zt,Ut)},ht=new WeakSet,Mi=function(Be,ct,Et,Pt,Xt,en,zt,Ut){const Yt=(3*Et-2*Be-zt)**2,Jt=(3*Pt-2*ct-Ut)**2,dn=(3*Xt-Be-2*zt)**2,hn=(3*en-ct-2*Ut)**2;return Math.max(Yt,dn)+Math.max(Jt,hn)<=10},pt=new WeakSet,Wr=function(){let Be=1/0,ct=-1/0,Et=1/0,Pt=-1/0;for(const Xt of this.paths)for(const[en,zt,Ut,tn]of Xt){const Yt=O.Util.bezierBoundingBox(...en,...zt,...Ut,...tn);Be=Math.min(Be,Yt[0]),Et=Math.min(Et,Yt[1]),ct=Math.max(ct,Yt[2]),Pt=Math.max(Pt,Yt[3])}return[Be,Et,ct,Pt]},yt=new WeakSet,Sr=function(){return me(this,V)?Math.ceil(this.thickness*this.parentScale):0},jt=new WeakSet,lr=function(Be=!1){if(this.isEmpty())return;if(!me(this,V)){ft(this,fe,Un).call(this);return}const ct=ft(this,pt,Wr).call(this),Et=ft(this,yt,Sr).call(this);St(this,J,Math.max(se,ct[2]-ct[0])),St(this,pe,Math.max(se,ct[3]-ct[1]));const Pt=Math.ceil(Et+me(this,J)*this.scaleFactor),Xt=Math.ceil(Et+me(this,pe)*this.scaleFactor),[en,zt]=this.parentDimensions;this.width=Pt/en,this.height=Xt/zt,St(this,ne,Pt/Xt),ft(this,bt,qr).call(this);const Ut=this.translationX,tn=this.translationY;this.translationX=-ct[0],this.translationY=-ct[1],ft(this,tt,cr).call(this),ft(this,fe,Un).call(this),St(this,W,Pt),St(this,X,Xt),this.setDims(Pt,Xt);const Yt=Be?Et/this.scaleFactor/2:0;this.translate(Ut-this.translationX-Yt,tn-this.translationY-Yt)},bt=new WeakSet,qr=function(){const{style:Be}=this.div;me(this,ne)>=1?(Be.minHeight=`${se}px`,Be.minWidth=`${Math.round(me(this,ne)*se)}px`):(Be.minWidth=`${se}px`,Be.minHeight=`${Math.round(se/me(this,ne))}px`)},at(ie,ge),gn(ie,"_defaultColor",null),gn(ie,"_defaultOpacity",1),gn(ie,"_defaultThickness",1),gn(ie,"_l10nPromise"),gn(ie,"_type","ink"),$.InkEditor=ie},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.fitCurve=void 0;const O=H(31);$.fitCurve=O},A=>{function $(Y,G,U){if(!Array.isArray(Y))throw new TypeError("First argument should be an array");if(Y.forEach(Z=>{if(!Array.isArray(Z)||Z.some(W=>typeof W!="number")||Z.length!==Y[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),Y=Y.filter((Z,W)=>W===0||!Z.every((X,ue)=>X===Y[W-1][ue])),Y.length<2)return[];const V=Y.length,q=pe(Y[1],Y[0]),Q=pe(Y[V-2],Y[V-1]);return H(Y,q,Q,G,U)}function H(Y,G,U,V,q){var Z,W,X,ue,_e,be,we,ce,$e,Xe,De,Ge,Fe;if(Y.length===2)return Ge=J.vectorLen(J.subtract(Y[0],Y[1]))/3,Z=[Y[0],J.addArrays(Y[0],J.mulItems(G,Ge)),J.addArrays(Y[1],J.mulItems(U,Ge)),Y[1]],[Z];if(W=se(Y),[Z,ue,be]=O(Y,W,W,G,U,q),ue===0||ue<V)return[Z];if(ue<V*V)for(X=W,_e=ue,we=be,Fe=0;Fe<20;Fe++){if(X=B(Z,Y,X),[Z,ue,be]=O(Y,W,X,G,U,q),ue<V)return[Z];if(be===we){let xe=ue/_e;if(xe>.9999&&xe<1.0001)break}_e=ue,we=be}return De=[],ce=J.subtract(Y[be-1],Y[be+1]),ce.every(xe=>xe===0)&&(ce=J.subtract(Y[be-1],Y[be]),[ce[0],ce[1]]=[-ce[1],ce[0]]),$e=J.normalize(ce),Xe=J.mulItems($e,-1),De=De.concat(H(Y.slice(0,be+1),G,$e,V,q)),De=De.concat(H(Y.slice(be),Xe,U,V,q)),De}function O(Y,G,U,V,q,Q){var Z,W,X;return Z=R(Y,U,V,q),[W,X]=de(Y,Z,G),Q&&Q({bez:Z,points:Y,params:G,maxErr:W,maxPoint:X}),[Z,W,X]}function R(Y,G,U,V){var q,Q,Z,W,X,ue,_e,be,we,ce,$e,Xe,De,Ge,Fe,xe,Te,et=Y[0],Ke=Y[Y.length-1];for(q=[et,null,null,Ke],Q=J.zeros_Xx2x2(G.length),De=0,Ge=G.length;De<Ge;De++)xe=G[De],Te=1-xe,Z=Q[De],Z[0]=J.mulItems(U,3*xe*(Te*Te)),Z[1]=J.mulItems(V,3*Te*(xe*xe));for(W=[[0,0],[0,0]],X=[0,0],De=0,Ge=Y.length;De<Ge;De++)xe=G[De],Z=Q[De],W[0][0]+=J.dot(Z[0],Z[0]),W[0][1]+=J.dot(Z[0],Z[1]),W[1][0]+=J.dot(Z[0],Z[1]),W[1][1]+=J.dot(Z[1],Z[1]),Fe=J.subtract(Y[De],K.q([et,et,Ke,Ke],xe)),X[0]+=J.dot(Z[0],Fe),X[1]+=J.dot(Z[1],Fe);return ue=W[0][0]*W[1][1]-W[1][0]*W[0][1],_e=W[0][0]*X[1]-W[1][0]*X[0],be=X[0]*W[1][1]-X[1]*W[0][1],we=ue===0?0:be/ue,ce=ue===0?0:_e/ue,Xe=J.vectorLen(J.subtract(et,Ke)),$e=1e-6*Xe,we<$e||ce<$e?(q[1]=J.addArrays(et,J.mulItems(U,Xe/3)),q[2]=J.addArrays(Ke,J.mulItems(V,Xe/3))):(q[1]=J.addArrays(et,J.mulItems(U,we)),q[2]=J.addArrays(Ke,J.mulItems(V,ce))),q}function B(Y,G,U){return U.map((V,q)=>ee(Y,G[q],V))}function ee(Y,G,U){var V=J.subtract(K.q(Y,U),G),q=K.qprime(Y,U),Q=J.mulMatrix(V,q),Z=J.sum(J.squareItems(q))+2*J.mulMatrix(V,K.qprimeprime(Y,U));return Z===0?U:U-Q/Z}function se(Y){var G=[],U,V,q;return Y.forEach((Q,Z)=>{U=Z?V+J.vectorLen(J.subtract(Q,q)):0,G.push(U),V=U,q=Q}),G=G.map(Q=>Q/V),G}function de(Y,G,U){var V,q,Q,Z,W,X,ue,_e;q=0,Q=Math.floor(Y.length/2);const be=ie(G,10);for(W=0,X=Y.length;W<X;W++)ue=Y[W],_e=ne(G,U[W],be,10),Z=J.subtract(K.q(G,_e),ue),V=Z[0]*Z[0]+Z[1]*Z[1],V>q&&(q=V,Q=W);return[q,Q]}var ie=function(Y,G){for(var U,V=[0],q=Y[0],Q=0,Z=1;Z<=G;Z++)U=K.q(Y,Z/G),Q+=J.vectorLen(J.subtract(U,q)),V.push(Q),q=U;return V=V.map(W=>W/Q),V};function ne(Y,G,U,V){if(G<0)return 0;if(G>1)return 1;for(var q,Q,Z,W,X,ue=1;ue<=V;ue++)if(G<=U[ue]){W=(ue-1)/V,Z=ue/V,Q=U[ue-1],q=U[ue],X=(G-Q)/(q-Q)*(Z-W)+W;break}return X}function pe(Y,G){return J.normalize(J.subtract(Y,G))}class J{static zeros_Xx2x2(G){for(var U=[];G--;)U.push([0,0]);return U}static mulItems(G,U){return G.map(V=>V*U)}static mulMatrix(G,U){return G.reduce((V,q,Q)=>V+q*U[Q],0)}static subtract(G,U){return G.map((V,q)=>V-U[q])}static addArrays(G,U){return G.map((V,q)=>V+U[q])}static addItems(G,U){return G.map(V=>V+U)}static sum(G){return G.reduce((U,V)=>U+V)}static dot(G,U){return J.mulMatrix(G,U)}static vectorLen(G){return Math.hypot(...G)}static divItems(G,U){return G.map(V=>V/U)}static squareItems(G){return G.map(U=>U*U)}static normalize(G){return this.divItems(G,this.vectorLen(G))}}class K{static q(G,U){var V=1-U,q=J.mulItems(G[0],V*V*V),Q=J.mulItems(G[1],3*V*V*U),Z=J.mulItems(G[2],3*V*U*U),W=J.mulItems(G[3],U*U*U);return J.addArrays(J.addArrays(q,Q),J.addArrays(Z,W))}static qprime(G,U){var V=1-U,q=J.mulItems(J.subtract(G[1],G[0]),3*V*V),Q=J.mulItems(J.subtract(G[2],G[1]),6*V*U),Z=J.mulItems(J.subtract(G[3],G[2]),3*U*U);return J.addArrays(J.addArrays(q,Q),Z)}static qprimeprime(G,U){return J.addArrays(J.mulItems(J.addArrays(J.subtract(G[2],J.mulItems(G[1],2)),G[0]),6*(1-U)),J.mulItems(J.addArrays(J.subtract(G[3],J.mulItems(G[2],2)),G[1]),6*U))}}A.exports=$,A.exports.fitCubic=H,A.exports.createTangent=pe},(A,$,H)=>{var re,Yn,Se,Ri,Oe,Gr,rt,Xr;Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayer=void 0;var O=H(1),R=H(6),B=H(3),ee=H(33),se=H(34);const de=1e3,ie=9,ne=new WeakSet;function pe(ze){return{width:ze[2]-ze[0],height:ze[3]-ze[1]}}class J{static create(ae){switch(ae.data.annotationType){case O.AnnotationType.LINK:return new Y(ae);case O.AnnotationType.TEXT:return new G(ae);case O.AnnotationType.WIDGET:switch(ae.data.fieldType){case"Tx":return new V(ae);case"Btn":return ae.data.radioButton?new Q(ae):ae.data.checkBox?new q(ae):new Z(ae);case"Ch":return new W(ae)}return new U(ae);case O.AnnotationType.POPUP:return new X(ae);case O.AnnotationType.FREETEXT:return new _e(ae);case O.AnnotationType.LINE:return new be(ae);case O.AnnotationType.SQUARE:return new we(ae);case O.AnnotationType.CIRCLE:return new ce(ae);case O.AnnotationType.POLYLINE:return new $e(ae);case O.AnnotationType.CARET:return new De(ae);case O.AnnotationType.INK:return new Ge(ae);case O.AnnotationType.POLYGON:return new Xe(ae);case O.AnnotationType.HIGHLIGHT:return new Fe(ae);case O.AnnotationType.UNDERLINE:return new xe(ae);case O.AnnotationType.SQUIGGLY:return new Te(ae);case O.AnnotationType.STRIKEOUT:return new et(ae);case O.AnnotationType.STAMP:return new Ke(ae);case O.AnnotationType.FILEATTACHMENT:return new ye(ae);default:return new K(ae)}}}class K{constructor(ae,{isRenderable:le=!1,ignoreBorder:ve=!1,createQuadrilaterals:Ce=!1}={}){this.isRenderable=le,this.data=ae.data,this.layer=ae.layer,this.page=ae.page,this.viewport=ae.viewport,this.linkService=ae.linkService,this.downloadManager=ae.downloadManager,this.imageResourcesPath=ae.imageResourcesPath,this.renderForms=ae.renderForms,this.svgFactory=ae.svgFactory,this.annotationStorage=ae.annotationStorage,this.enableScripting=ae.enableScripting,this.hasJSActions=ae.hasJSActions,this._fieldObjects=ae.fieldObjects,le&&(this.container=this._createContainer(ve)),Ce&&(this.quadrilaterals=this._createQuadrilaterals(ve))}_createContainer(ae=!1){const{data:le,page:ve,viewport:Ce}=this,ge=document.createElement("section");ge.setAttribute("data-annotation-id",le.id);const{pageWidth:ke,pageHeight:Je,pageX:st,pageY:it}=Ce.rawDims,{width:Ue,height:ht}=pe(le.rect),lt=O.Util.normalizeRect([le.rect[0],ve.view[3]-le.rect[1]+ve.view[1],le.rect[2],ve.view[3]-le.rect[3]+ve.view[1]]);if(!ae&&le.borderStyle.width>0){ge.style.borderWidth=`${le.borderStyle.width}px`;const Ct=le.borderStyle.horizontalCornerRadius,yt=le.borderStyle.verticalCornerRadius;if(Ct>0||yt>0){const jt=`calc(${Ct}px * var(--scale-factor)) / calc(${yt}px * var(--scale-factor))`;ge.style.borderRadius=jt}else if(this instanceof Q){const jt=`calc(${Ue}px * var(--scale-factor)) / calc(${ht}px * var(--scale-factor))`;ge.style.borderRadius=jt}switch(le.borderStyle.style){case O.AnnotationBorderStyleType.SOLID:ge.style.borderStyle="solid";break;case O.AnnotationBorderStyleType.DASHED:ge.style.borderStyle="dashed";break;case O.AnnotationBorderStyleType.BEVELED:(0,O.warn)("Unimplemented border style: beveled");break;case O.AnnotationBorderStyleType.INSET:(0,O.warn)("Unimplemented border style: inset");break;case O.AnnotationBorderStyleType.UNDERLINE:ge.style.borderBottomStyle="solid";break}const $t=le.borderColor||null;$t?ge.style.borderColor=O.Util.makeHexColor($t[0]|0,$t[1]|0,$t[2]|0):ge.style.borderWidth=0}ge.style.left=`${100*(lt[0]-st)/ke}%`,ge.style.top=`${100*(lt[1]-it)/Je}%`;const{rotation:pt}=le;return le.hasOwnCanvas||pt===0?(ge.style.width=`${100*Ue/ke}%`,ge.style.height=`${100*ht/Je}%`):this.setRotation(pt,ge),ge}setRotation(ae,le=this.container){const{pageWidth:ve,pageHeight:Ce}=this.viewport.rawDims,{width:ge,height:ke}=pe(this.data.rect);let Je,st;ae%180===0?(Je=100*ge/ve,st=100*ke/Ce):(Je=100*ke/ve,st=100*ge/Ce),le.style.width=`${Je}%`,le.style.height=`${st}%`,le.setAttribute("data-main-rotation",(360-ae)%360)}get _commonActions(){const ae=(le,ve,Ce)=>{const ge=Ce.detail[le];Ce.target.style[ve]=ee.ColorConverters[`${ge[0]}_HTML`](ge.slice(1))};return(0,O.shadow)(this,"_commonActions",{display:le=>{const ve=le.detail.display%2===1;this.container.style.visibility=ve?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:ve,print:le.detail.display===0||le.detail.display===3})},print:le=>{this.annotationStorage.setValue(this.data.id,{print:le.detail.print})},hidden:le=>{this.container.style.visibility=le.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:le.detail.hidden})},focus:le=>{setTimeout(()=>le.target.focus({preventScroll:!1}),0)},userName:le=>{le.target.title=le.detail.userName},readonly:le=>{le.detail.readonly?le.target.setAttribute("readonly",""):le.target.removeAttribute("readonly")},required:le=>{this._setRequired(le.target,le.detail.required)},bgColor:le=>{ae("bgColor","backgroundColor",le)},fillColor:le=>{ae("fillColor","backgroundColor",le)},fgColor:le=>{ae("fgColor","color",le)},textColor:le=>{ae("textColor","color",le)},borderColor:le=>{ae("borderColor","borderColor",le)},strokeColor:le=>{ae("strokeColor","borderColor",le)},rotation:le=>{const ve=le.detail.rotation;this.setRotation(ve),this.annotationStorage.setValue(this.data.id,{rotation:ve})}})}_dispatchEventFromSandbox(ae,le){const ve=this._commonActions;for(const Ce of Object.keys(le.detail)){const ge=ae[Ce]||ve[Ce];ge==null||ge(le)}}_setDefaultPropertiesFromJS(ae){if(!this.enableScripting)return;const le=this.annotationStorage.getRawValue(this.data.id);if(!le)return;const ve=this._commonActions;for(const[Ce,ge]of Object.entries(le)){const ke=ve[Ce];if(ke){const Je={detail:{[Ce]:ge},target:ae};ke(Je),delete le[Ce]}}}_createQuadrilaterals(ae=!1){if(!this.data.quadPoints)return null;const le=[],ve=this.data.rect;for(const Ce of this.data.quadPoints)this.data.rect=[Ce[2].x,Ce[2].y,Ce[1].x,Ce[1].y],le.push(this._createContainer(ae));return this.data.rect=ve,le}_createPopup(ae,le){let ve=this.container;this.quadrilaterals&&(ae=ae||this.quadrilaterals,ve=this.quadrilaterals[0]),ae||(ae=document.createElement("div"),ae.className="popupTriggerArea",ve.append(ae));const ge=new ue({container:ve,trigger:ae,color:le.color,titleObj:le.titleObj,modificationDate:le.modificationDate,contentsObj:le.contentsObj,richText:le.richText,hideWrapper:!0}).render();ge.style.left="100%",ve.append(ge)}_renderQuadrilaterals(ae){for(const le of this.quadrilaterals)le.className=ae;return this.quadrilaterals}render(){(0,O.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(ae,le=null){const ve=[];if(this._fieldObjects){const Ce=this._fieldObjects[ae];if(Ce)for(const{page:ge,id:ke,exportValues:Je}of Ce){if(ge===-1||ke===le)continue;const st=typeof Je=="string"?Je:null,it=document.querySelector(`[data-element-id="${ke}"]`);if(it&&!ne.has(it)){(0,O.warn)(`_getElementsByName - element not allowed: ${ke}`);continue}ve.push({id:ke,exportValue:st,domElement:it})}return ve}for(const Ce of document.getElementsByName(ae)){const{exportValue:ge}=Ce,ke=Ce.getAttribute("data-element-id");ke!==le&&ne.has(Ce)&&ve.push({id:ke,exportValue:ge,domElement:Ce})}return ve}}class Y extends K{constructor(le,ve=null){super(le,{isRenderable:!0,ignoreBorder:!!(ve!=null&&ve.ignoreBorder),createQuadrilaterals:!0});at(this,re);at(this,Se);this.isTooltipOnly=le.data.isTooltipOnly}render(){const{data:le,linkService:ve}=this,Ce=document.createElement("a");Ce.setAttribute("data-element-id",le.id);let ge=!1;return le.url?(ve.addLinkAttributes(Ce,le.url,le.newWindow),ge=!0):le.action?(this._bindNamedAction(Ce,le.action),ge=!0):le.attachment?(this._bindAttachment(Ce,le.attachment),ge=!0):le.setOCGState?(ft(this,Se,Ri).call(this,Ce,le.setOCGState),ge=!0):le.dest?(this._bindLink(Ce,le.dest),ge=!0):(le.actions&&(le.actions.Action||le.actions["Mouse Up"]||le.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Ce,le),ge=!0),le.resetForm?(this._bindResetFormAction(Ce,le.resetForm),ge=!0):this.isTooltipOnly&&!ge&&(this._bindLink(Ce,""),ge=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((ke,Je)=>{const st=Je===0?Ce:Ce.cloneNode();return ke.append(st),ke}):(this.container.className="linkAnnotation",ge&&this.container.append(Ce),this.container)}_bindLink(le,ve){le.href=this.linkService.getDestinationHash(ve),le.onclick=()=>(ve&&this.linkService.goToDestination(ve),!1),(ve||ve==="")&&ft(this,re,Yn).call(this)}_bindNamedAction(le,ve){le.href=this.linkService.getAnchorUrl(""),le.onclick=()=>(this.linkService.executeNamedAction(ve),!1),ft(this,re,Yn).call(this)}_bindAttachment(le,ve){le.href=this.linkService.getAnchorUrl(""),le.onclick=()=>{var Ce;return(Ce=this.downloadManager)==null||Ce.openOrDownloadData(this.container,ve.content,ve.filename),!1},ft(this,re,Yn).call(this)}_bindJSAction(le,ve){le.href=this.linkService.getAnchorUrl("");const Ce=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const ge of Object.keys(ve.actions)){const ke=Ce.get(ge);ke&&(le[ke]=()=>{var Je;return(Je=this.linkService.eventBus)==null||Je.dispatch("dispatcheventinsandbox",{source:this,detail:{id:ve.id,name:ge}}),!1})}le.onclick||(le.onclick=()=>!1),ft(this,re,Yn).call(this)}_bindResetFormAction(le,ve){const Ce=le.onclick;if(Ce||(le.href=this.linkService.getAnchorUrl("")),ft(this,re,Yn).call(this),!this._fieldObjects){(0,O.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Ce||(le.onclick=()=>!1);return}le.onclick=()=>{var ht;Ce==null||Ce();const{fields:ge,refs:ke,include:Je}=ve,st=[];if(ge.length!==0||ke.length!==0){const lt=new Set(ke);for(const pt of ge){const Ct=this._fieldObjects[pt]||[];for(const{id:yt}of Ct)lt.add(yt)}for(const pt of Object.values(this._fieldObjects))for(const Ct of pt)lt.has(Ct.id)===Je&&st.push(Ct)}else for(const lt of Object.values(this._fieldObjects))st.push(...lt);const it=this.annotationStorage,Ue=[];for(const lt of st){const{id:pt}=lt;switch(Ue.push(pt),lt.type){case"text":{const yt=lt.defaultValue||"";it.setValue(pt,{value:yt});break}case"checkbox":case"radiobutton":{const yt=lt.defaultValue===lt.exportValues;it.setValue(pt,{value:yt});break}case"combobox":case"listbox":{const yt=lt.defaultValue||"";it.setValue(pt,{value:yt});break}default:continue}const Ct=document.querySelector(`[data-element-id="${pt}"]`);if(Ct){if(!ne.has(Ct)){(0,O.warn)(`_bindResetFormAction - element not allowed: ${pt}`);continue}}else continue;Ct.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((ht=this.linkService.eventBus)==null||ht.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ue,name:"ResetForm"}})),!1}}}re=new WeakSet,Yn=function(){this.container.setAttribute("data-internal-link","")},Se=new WeakSet,Ri=function(le,ve){le.href=this.linkService.getAnchorUrl(""),le.onclick=()=>(this.linkService.executeSetOCGState(ve),!1),ft(this,re,Yn).call(this)};class G extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le})}render(){this.container.className="textAnnotation";const ae=document.createElement("img");return ae.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",ae.alt="[{{type}} Annotation]",ae.dataset.l10nId="text_annotation_type",ae.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(ae,this.data),this.container.append(ae),this.container}}class U extends K{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(ae){const{isWin:le,isMac:ve}=O.FeatureTest.platform;return le&&ae.ctrlKey||ve&&ae.metaKey}_setEventListener(ae,le,ve,Ce){le.includes("mouse")?ae.addEventListener(le,ge=>{var ke;(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ve,value:Ce(ge),shift:ge.shiftKey,modifier:this._getKeyModifier(ge)}})}):ae.addEventListener(le,ge=>{var ke;(ke=this.linkService.eventBus)==null||ke.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:ve,value:Ce(ge)}})})}_setEventListeners(ae,le,ve){var Ce;for(const[ge,ke]of le)(ke==="Action"||(Ce=this.data.actions)!=null&&Ce[ke])&&this._setEventListener(ae,ge,ke,ve)}_setBackgroundColor(ae){const le=this.data.backgroundColor||null;ae.style.backgroundColor=le===null?"transparent":O.Util.makeHexColor(le[0],le[1],le[2])}_setTextStyle(ae){const le=["left","center","right"],{fontColor:ve}=this.data.defaultAppearanceData,Ce=this.data.defaultAppearanceData.fontSize||ie,ge=ae.style;let ke;const Je=2,st=it=>Math.round(10*it)/10;if(this.data.multiLine){const it=Math.abs(this.data.rect[3]-this.data.rect[1]-Je),Ue=Math.round(it/(O.LINE_FACTOR*Ce))||1,ht=it/Ue;ke=Math.min(Ce,st(ht/O.LINE_FACTOR))}else{const it=Math.abs(this.data.rect[3]-this.data.rect[1]-Je);ke=Math.min(Ce,st(it/O.LINE_FACTOR))}ge.fontSize=`calc(${ke}px * var(--scale-factor))`,ge.color=O.Util.makeHexColor(ve[0],ve[1],ve[2]),this.data.textAlignment!==null&&(ge.textAlign=le[this.data.textAlignment])}_setRequired(ae,le){le?ae.setAttribute("required",!0):ae.removeAttribute("required"),ae.setAttribute("aria-required",le)}}class V extends U{constructor(ae){const le=ae.renderForms||!ae.data.hasAppearance&&!!ae.data.fieldValue;super(ae,{isRenderable:le})}setPropertyOnSiblings(ae,le,ve,Ce){const ge=this.annotationStorage;for(const ke of this._getElementsByName(ae.name,ae.id))ke.domElement&&(ke.domElement[le]=ve),ge.setValue(ke.id,{[Ce]:ve})}render(){var Ce;const ae=this.annotationStorage,le=this.data.id;this.container.className="textWidgetAnnotation";let ve=null;if(this.renderForms){const ge=ae.getValue(le,{value:this.data.fieldValue});let ke=ge.formattedValue||ge.value||"";const Je=ae.getValue(le,{charLimit:this.data.maxLen}).charLimit;Je&&ke.length>Je&&(ke=ke.slice(0,Je));const st={userValue:ke,formattedValue:null,lastCommittedValue:null,commitKey:1};this.data.multiLine?(ve=document.createElement("textarea"),ve.textContent=ke,this.data.doNotScroll&&(ve.style.overflowY="hidden")):(ve=document.createElement("input"),ve.type="text",ve.setAttribute("value",ke),this.data.doNotScroll&&(ve.style.overflowX="hidden")),ne.add(ve),ve.setAttribute("data-element-id",le),ve.disabled=this.data.readOnly,ve.name=this.data.fieldName,ve.tabIndex=de,this._setRequired(ve,this.data.required),Je&&(ve.maxLength=Je),ve.addEventListener("input",Ue=>{ae.setValue(le,{value:Ue.target.value}),this.setPropertyOnSiblings(ve,"value",Ue.target.value,"value")}),ve.addEventListener("resetform",Ue=>{const ht=this.data.defaultFieldValue??"";ve.value=st.userValue=ht,st.formattedValue=null});let it=Ue=>{const{formattedValue:ht}=st;ht!=null&&(Ue.target.value=ht),Ue.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){ve.addEventListener("focus",ht=>{const{target:lt}=ht;st.userValue&&(lt.value=st.userValue),st.lastCommittedValue=lt.value,st.commitKey=1}),ve.addEventListener("updatefromsandbox",ht=>{const lt={value(pt){st.userValue=pt.detail.value??"",ae.setValue(le,{value:st.userValue.toString()}),pt.target.value=st.userValue},formattedValue(pt){const{formattedValue:Ct}=pt.detail;st.formattedValue=Ct,Ct!=null&&pt.target!==document.activeElement&&(pt.target.value=Ct),ae.setValue(le,{formattedValue:Ct})},selRange(pt){pt.target.setSelectionRange(...pt.detail.selRange)},charLimit:pt=>{var jt;const{charLimit:Ct}=pt.detail,{target:yt}=pt;if(Ct===0){yt.removeAttribute("maxLength");return}yt.setAttribute("maxLength",Ct);let $t=st.userValue;!$t||$t.length<=Ct||($t=$t.slice(0,Ct),yt.value=st.userValue=$t,ae.setValue(le,{value:$t}),(jt=this.linkService.eventBus)==null||jt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:$t,willCommit:!0,commitKey:1,selStart:yt.selectionStart,selEnd:yt.selectionEnd}}))}};this._dispatchEventFromSandbox(lt,ht)}),ve.addEventListener("keydown",ht=>{var Ct;st.commitKey=1;let lt=-1;if(ht.key==="Escape"?lt=0:ht.key==="Enter"&&!this.data.multiLine?lt=2:ht.key==="Tab"&&(st.commitKey=3),lt===-1)return;const{value:pt}=ht.target;st.lastCommittedValue!==pt&&(st.lastCommittedValue=pt,st.userValue=pt,(Ct=this.linkService.eventBus)==null||Ct.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:pt,willCommit:!0,commitKey:lt,selStart:ht.target.selectionStart,selEnd:ht.target.selectionEnd}}))});const Ue=it;it=null,ve.addEventListener("blur",ht=>{var pt;if(!ht.relatedTarget)return;const{value:lt}=ht.target;st.userValue=lt,st.lastCommittedValue!==lt&&((pt=this.linkService.eventBus)==null||pt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:lt,willCommit:!0,commitKey:st.commitKey,selStart:ht.target.selectionStart,selEnd:ht.target.selectionEnd}})),Ue(ht)}),(Ce=this.data.actions)!=null&&Ce.Keystroke&&ve.addEventListener("beforeinput",ht=>{var bt;st.lastCommittedValue=null;const{data:lt,target:pt}=ht,{value:Ct,selectionStart:yt,selectionEnd:$t}=pt;let jt=yt,nt=$t;switch(ht.inputType){case"deleteWordBackward":{const Ye=Ct.substring(0,yt).match(/\w*[^\w]*$/);Ye&&(jt-=Ye[0].length);break}case"deleteWordForward":{const Ye=Ct.substring(yt).match(/^[^\w]*\w*/);Ye&&(nt+=Ye[0].length);break}case"deleteContentBackward":yt===$t&&(jt-=1);break;case"deleteContentForward":yt===$t&&(nt+=1);break}ht.preventDefault(),(bt=this.linkService.eventBus)==null||bt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:Ct,change:lt||"",willCommit:!1,selStart:jt,selEnd:nt}})}),this._setEventListeners(ve,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ht=>ht.target.value)}if(it&&ve.addEventListener("blur",it),this.data.comb){const ht=(this.data.rect[2]-this.data.rect[0])/Je;ve.classList.add("comb"),ve.style.letterSpacing=`calc(${ht}px * var(--scale-factor) - 1ch)`}}else ve=document.createElement("div"),ve.textContent=this.data.fieldValue,ve.style.verticalAlign="middle",ve.style.display="table-cell";return this._setTextStyle(ve),this._setBackgroundColor(ve),this._setDefaultPropertiesFromJS(ve),this.container.append(ve),this.container}}class q extends U{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){const ae=this.annotationStorage,le=this.data,ve=le.id;let Ce=ae.getValue(ve,{value:le.exportValue===le.fieldValue}).value;typeof Ce=="string"&&(Ce=Ce!=="Off",ae.setValue(ve,{value:Ce})),this.container.className="buttonWidgetAnnotation checkBox";const ge=document.createElement("input");return ne.add(ge),ge.setAttribute("data-element-id",ve),ge.disabled=le.readOnly,this._setRequired(ge,this.data.required),ge.type="checkbox",ge.name=le.fieldName,Ce&&ge.setAttribute("checked",!0),ge.setAttribute("exportValue",le.exportValue),ge.tabIndex=de,ge.addEventListener("change",ke=>{const{name:Je,checked:st}=ke.target;for(const it of this._getElementsByName(Je,ve)){const Ue=st&&it.exportValue===le.exportValue;it.domElement&&(it.domElement.checked=Ue),ae.setValue(it.id,{value:Ue})}ae.setValue(ve,{value:st})}),ge.addEventListener("resetform",ke=>{const Je=le.defaultFieldValue||"Off";ke.target.checked=Je===le.exportValue}),this.enableScripting&&this.hasJSActions&&(ge.addEventListener("updatefromsandbox",ke=>{const Je={value(st){st.target.checked=st.detail.value!=="Off",ae.setValue(ve,{value:st.target.checked})}};this._dispatchEventFromSandbox(Je,ke)}),this._setEventListeners(ge,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.checked)),this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class Q extends U{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const ae=this.annotationStorage,le=this.data,ve=le.id;let Ce=ae.getValue(ve,{value:le.fieldValue===le.buttonValue}).value;typeof Ce=="string"&&(Ce=Ce!==le.buttonValue,ae.setValue(ve,{value:Ce}));const ge=document.createElement("input");if(ne.add(ge),ge.setAttribute("data-element-id",ve),ge.disabled=le.readOnly,this._setRequired(ge,this.data.required),ge.type="radio",ge.name=le.fieldName,Ce&&ge.setAttribute("checked",!0),ge.tabIndex=de,ge.addEventListener("change",ke=>{const{name:Je,checked:st}=ke.target;for(const it of this._getElementsByName(Je,ve))ae.setValue(it.id,{value:!1});ae.setValue(ve,{value:st})}),ge.addEventListener("resetform",ke=>{const Je=le.defaultFieldValue;ke.target.checked=Je!=null&&Je===le.buttonValue}),this.enableScripting&&this.hasJSActions){const ke=le.buttonValue;ge.addEventListener("updatefromsandbox",Je=>{const st={value:it=>{const Ue=ke===it.detail.value;for(const ht of this._getElementsByName(it.target.name)){const lt=Ue&&ht.id===ve;ht.domElement&&(ht.domElement.checked=lt),ae.setValue(ht.id,{value:lt})}}};this._dispatchEventFromSandbox(st,Je)}),this._setEventListeners(ge,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Je=>Je.target.checked)}return this._setBackgroundColor(ge),this._setDefaultPropertiesFromJS(ge),this.container.append(ge),this.container}}class Z extends Y{constructor(ae){super(ae,{ignoreBorder:ae.data.hasAppearance})}render(){const ae=super.render();ae.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(ae.title=this.data.alternativeText);const le=ae.lastChild;return this.enableScripting&&this.hasJSActions&&le&&(this._setDefaultPropertiesFromJS(le),le.addEventListener("updatefromsandbox",ve=>{this._dispatchEventFromSandbox({},ve)})),ae}}class W extends U{constructor(ae){super(ae,{isRenderable:ae.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const ae=this.annotationStorage,le=this.data.id,ve=ae.getValue(le,{value:this.data.fieldValue}),Ce=document.createElement("select");ne.add(Ce),Ce.setAttribute("data-element-id",le),Ce.disabled=this.data.readOnly,this._setRequired(Ce,this.data.required),Ce.name=this.data.fieldName,Ce.tabIndex=de;let ge=this.data.combo&&this.data.options.length>0;this.data.combo||(Ce.size=this.data.options.length,this.data.multiSelect&&(Ce.multiple=!0)),Ce.addEventListener("resetform",Ue=>{const ht=this.data.defaultFieldValue;for(const lt of Ce.options)lt.selected=lt.value===ht});for(const Ue of this.data.options){const ht=document.createElement("option");ht.textContent=Ue.displayValue,ht.value=Ue.exportValue,ve.value.includes(Ue.exportValue)&&(ht.setAttribute("selected",!0),ge=!1),Ce.append(ht)}let ke=null;if(ge){const Ue=document.createElement("option");Ue.value=" ",Ue.setAttribute("hidden",!0),Ue.setAttribute("selected",!0),Ce.prepend(Ue),ke=()=>{Ue.remove(),Ce.removeEventListener("input",ke),ke=null},Ce.addEventListener("input",ke)}const Je=Ue=>{const ht=Ue?"value":"textContent",{options:lt,multiple:pt}=Ce;return pt?Array.prototype.filter.call(lt,Ct=>Ct.selected).map(Ct=>Ct[ht]):lt.selectedIndex===-1?null:lt[lt.selectedIndex][ht]};let st=Je(!1);const it=Ue=>{const ht=Ue.target.options;return Array.prototype.map.call(ht,lt=>({displayValue:lt.textContent,exportValue:lt.value}))};return this.enableScripting&&this.hasJSActions?(Ce.addEventListener("updatefromsandbox",Ue=>{const ht={value(lt){ke==null||ke();const pt=lt.detail.value,Ct=new Set(Array.isArray(pt)?pt:[pt]);for(const yt of Ce.options)yt.selected=Ct.has(yt.value);ae.setValue(le,{value:Je(!0)}),st=Je(!1)},multipleSelection(lt){Ce.multiple=!0},remove(lt){const pt=Ce.options,Ct=lt.detail.remove;pt[Ct].selected=!1,Ce.remove(Ct),pt.length>0&&Array.prototype.findIndex.call(pt,$t=>$t.selected)===-1&&(pt[0].selected=!0),ae.setValue(le,{value:Je(!0),items:it(lt)}),st=Je(!1)},clear(lt){for(;Ce.length!==0;)Ce.remove(0);ae.setValue(le,{value:null,items:[]}),st=Je(!1)},insert(lt){const{index:pt,displayValue:Ct,exportValue:yt}=lt.detail.insert,$t=Ce.children[pt],jt=document.createElement("option");jt.textContent=Ct,jt.value=yt,$t?$t.before(jt):Ce.append(jt),ae.setValue(le,{value:Je(!0),items:it(lt)}),st=Je(!1)},items(lt){const{items:pt}=lt.detail;for(;Ce.length!==0;)Ce.remove(0);for(const Ct of pt){const{displayValue:yt,exportValue:$t}=Ct,jt=document.createElement("option");jt.textContent=yt,jt.value=$t,Ce.append(jt)}Ce.options.length>0&&(Ce.options[0].selected=!0),ae.setValue(le,{value:Je(!0),items:it(lt)}),st=Je(!1)},indices(lt){const pt=new Set(lt.detail.indices);for(const Ct of lt.target.options)Ct.selected=pt.has(Ct.index);ae.setValue(le,{value:Je(!0)}),st=Je(!1)},editable(lt){lt.target.disabled=!lt.detail.editable}};this._dispatchEventFromSandbox(ht,Ue)}),Ce.addEventListener("input",Ue=>{var lt;const ht=Je(!0);ae.setValue(le,{value:ht}),Ue.preventDefault(),(lt=this.linkService.eventBus)==null||lt.dispatch("dispatcheventinsandbox",{source:this,detail:{id:le,name:"Keystroke",value:st,changeEx:ht,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Ce,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Ue=>Ue.target.checked)):Ce.addEventListener("input",function(Ue){ae.setValue(le,{value:Je(!0)})}),this.data.combo&&this._setTextStyle(Ce),this._setBackgroundColor(Ce),this._setDefaultPropertiesFromJS(Ce),this.container.append(Ce),this.container}}const Pe=class extends K{constructor(ae){var Ce,ge,ke;const{data:le}=ae,ve=!Pe.IGNORE_TYPES.has(le.parentType)&&!!((Ce=le.titleObj)!=null&&Ce.str||(ge=le.contentsObj)!=null&&ge.str||(ke=le.richText)!=null&&ke.str);super(ae,{isRenderable:ve})}render(){this.container.className="popupAnnotation";const ae=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(ae.length===0)return this.container;const le=new ue({container:this.container,trigger:Array.from(ae),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ve=this.page,Ce=O.Util.normalizeRect([this.data.parentRect[0],ve.view[3]-this.data.parentRect[1]+ve.view[1],this.data.parentRect[2],ve.view[3]-this.data.parentRect[3]+ve.view[1]]),ge=Ce[0]+this.data.parentRect[2]-this.data.parentRect[0],ke=Ce[1],{pageWidth:Je,pageHeight:st,pageX:it,pageY:Ue}=this.viewport.rawDims;return this.container.style.left=`${100*(ge-it)/Je}%`,this.container.style.top=`${100*(ke-Ue)/st}%`,this.container.append(le.render()),this.container}};let X=Pe;gn(X,"IGNORE_TYPES",new Set(["Line","Square","Circle","PolyLine","Polygon","Ink"]));class ue{constructor(ae){this.container=ae.container,this.trigger=ae.trigger,this.color=ae.color,this.titleObj=ae.titleObj,this.modificationDate=ae.modificationDate,this.contentsObj=ae.contentsObj,this.richText=ae.richText,this.hideWrapper=ae.hideWrapper||!1,this.pinned=!1}render(){var Je,st;const le=document.createElement("div");le.className="popupWrapper",this.hideElement=this.hideWrapper?le:this.container,this.hideElement.hidden=!0;const ve=document.createElement("div");ve.className="popup";const Ce=this.color;if(Ce){const it=.7*(255-Ce[0])+Ce[0],Ue=.7*(255-Ce[1])+Ce[1],ht=.7*(255-Ce[2])+Ce[2];ve.style.backgroundColor=O.Util.makeHexColor(it|0,Ue|0,ht|0)}const ge=document.createElement("h1");ge.dir=this.titleObj.dir,ge.textContent=this.titleObj.str,ve.append(ge);const ke=R.PDFDateString.toDateObject(this.modificationDate);if(ke){const it=document.createElement("span");it.className="popupDate",it.textContent="{{date}}, {{time}}",it.dataset.l10nId="annotation_date_string",it.dataset.l10nArgs=JSON.stringify({date:ke.toLocaleDateString(),time:ke.toLocaleTimeString()}),ve.append(it)}if((Je=this.richText)!=null&&Je.str&&(!((st=this.contentsObj)!=null&&st.str)||this.contentsObj.str===this.richText.str))se.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:ve}),ve.lastChild.className="richText popupContent";else{const it=this._formatContents(this.contentsObj);ve.append(it)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const it of this.trigger)it.addEventListener("click",this._toggle.bind(this)),it.addEventListener("mouseover",this._show.bind(this,!1)),it.addEventListener("mouseout",this._hide.bind(this,!1));return ve.addEventListener("click",this._hide.bind(this,!0)),le.append(ve),le}_formatContents({str:ae,dir:le}){const ve=document.createElement("p");ve.className="popupContent",ve.dir=le;const Ce=ae.split(/(?:\r\n?|\n)/);for(let ge=0,ke=Ce.length;ge<ke;++ge){const Je=Ce[ge];ve.append(document.createTextNode(Je)),ge<ke-1&&ve.append(document.createElement("br"))}return ve}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(ae=!1){ae&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(ae=!0){ae&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class _e extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0}),this.textContent=ae.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){const ae=document.createElement("div");ae.className="annotationTextContent",ae.setAttribute("role","comment");for(const le of this.textContent){const ve=document.createElement("span");ve.textContent=le,ae.append(ve)}this.container.append(ae)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class be extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const ae=this.data,{width:le,height:ve}=pe(ae.rect),Ce=this.svgFactory.create(le,ve,!0),ge=this.svgFactory.createElement("svg:line");return ge.setAttribute("x1",ae.rect[2]-ae.lineCoordinates[0]),ge.setAttribute("y1",ae.rect[3]-ae.lineCoordinates[1]),ge.setAttribute("x2",ae.rect[2]-ae.lineCoordinates[2]),ge.setAttribute("y2",ae.rect[3]-ae.lineCoordinates[3]),ge.setAttribute("stroke-width",ae.borderStyle.width||1),ge.setAttribute("stroke","transparent"),ge.setAttribute("fill","transparent"),Ce.append(ge),this.container.append(Ce),this._createPopup(ge,ae),this.container}}class we extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const ae=this.data,{width:le,height:ve}=pe(ae.rect),Ce=this.svgFactory.create(le,ve,!0),ge=ae.borderStyle.width,ke=this.svgFactory.createElement("svg:rect");return ke.setAttribute("x",ge/2),ke.setAttribute("y",ge/2),ke.setAttribute("width",le-ge),ke.setAttribute("height",ve-ge),ke.setAttribute("stroke-width",ge||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ce.append(ke),this.container.append(Ce),this._createPopup(ke,ae),this.container}}class ce extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const ae=this.data,{width:le,height:ve}=pe(ae.rect),Ce=this.svgFactory.create(le,ve,!0),ge=ae.borderStyle.width,ke=this.svgFactory.createElement("svg:ellipse");return ke.setAttribute("cx",le/2),ke.setAttribute("cy",ve/2),ke.setAttribute("rx",le/2-ge/2),ke.setAttribute("ry",ve/2-ge/2),ke.setAttribute("stroke-width",ge||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ce.append(ke),this.container.append(Ce),this._createPopup(ke,ae),this.container}}class $e extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ae=this.data,{width:le,height:ve}=pe(ae.rect),Ce=this.svgFactory.create(le,ve,!0);let ge=[];for(const Je of ae.vertices){const st=Je.x-ae.rect[0],it=ae.rect[3]-Je.y;ge.push(st+","+it)}ge=ge.join(" ");const ke=this.svgFactory.createElement(this.svgElementName);return ke.setAttribute("points",ge),ke.setAttribute("stroke-width",ae.borderStyle.width||1),ke.setAttribute("stroke","transparent"),ke.setAttribute("fill","transparent"),Ce.append(ke),this.container.append(Ce),this._createPopup(ke,ae),this.container}}class Xe extends $e{constructor(ae){super(ae),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class De extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Ge extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const ae=this.data,{width:le,height:ve}=pe(ae.rect),Ce=this.svgFactory.create(le,ve,!0);for(const ge of ae.inkLists){let ke=[];for(const st of ge){const it=st.x-ae.rect[0],Ue=ae.rect[3]-st.y;ke.push(`${it},${Ue}`)}ke=ke.join(" ");const Je=this.svgFactory.createElement(this.svgElementName);Je.setAttribute("points",ke),Je.setAttribute("stroke-width",ae.borderStyle.width||1),Je.setAttribute("stroke","transparent"),Je.setAttribute("fill","transparent"),this._createPopup(Je,ae),Ce.append(Je)}return this.container.append(Ce),this.container}}class Fe extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class xe extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class Te extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class et extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ke extends K{constructor(ae){var ve,Ce,ge;const le=!!(ae.data.hasPopup||(ve=ae.data.titleObj)!=null&&ve.str||(Ce=ae.data.contentsObj)!=null&&Ce.str||(ge=ae.data.richText)!=null&&ge.str);super(ae,{isRenderable:le,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class ye extends K{constructor(ae){var Ce;super(ae,{isRenderable:!0});const{filename:le,content:ve}=this.data.file;this.filename=(0,R.getFilenameFromUrl)(le,!0),this.content=ve,(Ce=this.linkService.eventBus)==null||Ce.dispatch("fileattachmentannotation",{source:this,filename:le,content:ve})}render(){var le,ve;this.container.className="fileAttachmentAnnotation";let ae;return this.data.hasAppearance?ae=document.createElement("div"):(ae=document.createElement("img"),ae.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(this.data.name)?"paperclip":"pushpin"}.svg`),ae.className="popupTriggerArea",ae.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&((le=this.data.titleObj)!=null&&le.str||(ve=this.data.contentsObj)!=null&&ve.str||this.data.richText)&&this._createPopup(ae,this.data),this.container.append(ae),this.container}_download(){var ae;(ae=this.downloadManager)==null||ae.openOrDownloadData(this.container,this.content,this.filename)}}const tt=class{static render(ae){var st,it;const{annotations:le,div:ve,viewport:Ce,accessibilityManager:ge}=ae;(0,R.setLayerDimensions)(ve,Ce);const ke={data:null,layer:ve,page:ae.page,viewport:Ce,linkService:ae.linkService,downloadManager:ae.downloadManager,imageResourcesPath:ae.imageResourcesPath||"",renderForms:ae.renderForms!==!1,svgFactory:new R.DOMSVGFactory,annotationStorage:ae.annotationStorage||new B.AnnotationStorage,enableScripting:ae.enableScripting===!0,hasJSActions:ae.hasJSActions,fieldObjects:ae.fieldObjects};let Je=0;for(const Ue of le){if(Ue.annotationType!==O.AnnotationType.POPUP){const{width:pt,height:Ct}=pe(Ue.rect);if(pt<=0||Ct<=0)continue}ke.data=Ue;const ht=J.create(ke);if(!ht.isRenderable)continue;const lt=ht.render();if(Ue.hidden&&(lt.style.visibility="hidden"),Array.isArray(lt))for(const pt of lt)pt.style.zIndex=Je++,ft(st=tt,Oe,Gr).call(st,pt,Ue.id,ve,ge);else lt.style.zIndex=Je++,ht instanceof X?ve.prepend(lt):ft(it=tt,Oe,Gr).call(it,lt,Ue.id,ve,ge)}ft(this,rt,Xr).call(this,ve,ae.annotationCanvasMap)}static update(ae){const{annotationCanvasMap:le,div:ve,viewport:Ce}=ae;(0,R.setLayerDimensions)(ve,{rotation:Ce.rotation}),ft(this,rt,Xr).call(this,ve,le),ve.hidden=!1}};let oe=tt;Oe=new WeakSet,Gr=function(ae,le,ve,Ce){const ge=ae.firstChild||ae;ge.id=`${R.AnnotationPrefix}${le}`,ve.append(ae),Ce==null||Ce.moveElementInDOM(ve,ae,ge,!1)},rt=new WeakSet,Xr=function(ae,le){if(le){for(const[ve,Ce]of le){const ge=ae.querySelector(`[data-annotation-id="${ve}"]`);if(!ge)continue;const{firstChild:ke}=ge;ke?ke.nodeName==="CANVAS"?ke.replaceWith(Ce):ke.before(Ce):ge.append(Ce)}le.clear()}},at(oe,Oe),at(oe,rt),$.AnnotationLayer=oe},(A,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.ColorConverters=void 0;function H(R){return Math.floor(Math.max(0,Math.min(1,R))*255).toString(16).padStart(2,"0")}class O{static CMYK_G([B,ee,se,de]){return["G",1-Math.min(1,.3*B+.59*se+.11*ee+de)]}static G_CMYK([B]){return["CMYK",0,0,0,1-B]}static G_RGB([B]){return["RGB",B,B,B]}static G_HTML([B]){const ee=H(B);return`#${ee}${ee}${ee}`}static RGB_G([B,ee,se]){return["G",.3*B+.59*ee+.11*se]}static RGB_HTML([B,ee,se]){const de=H(B),ie=H(ee),ne=H(se);return`#${de}${ie}${ne}`}static T_HTML(){return"#00000000"}static CMYK_RGB([B,ee,se,de]){return["RGB",1-Math.min(1,B+de),1-Math.min(1,se+de),1-Math.min(1,ee+de)]}static CMYK_HTML(B){const ee=this.CMYK_RGB(B).slice(1);return this.RGB_HTML(ee)}static RGB_CMYK([B,ee,se]){const de=1-B,ie=1-ee,ne=1-se,pe=Math.min(de,ie,ne);return["CMYK",de,ie,ne,pe]}}$.ColorConverters=O},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayer=void 0;var O=H(19);class R{static setupStorage(ee,se,de,ie,ne){const pe=ie.getValue(se,{value:null});switch(de.name){case"textarea":if(pe.value!==null&&(ee.textContent=pe.value),ne==="print")break;ee.addEventListener("input",J=>{ie.setValue(se,{value:J.target.value})});break;case"input":if(de.attributes.type==="radio"||de.attributes.type==="checkbox"){if(pe.value===de.attributes.xfaOn?ee.setAttribute("checked",!0):pe.value===de.attributes.xfaOff&&ee.removeAttribute("checked"),ne==="print")break;ee.addEventListener("change",J=>{ie.setValue(se,{value:J.target.checked?J.target.getAttribute("xfaOn"):J.target.getAttribute("xfaOff")})})}else{if(pe.value!==null&&ee.setAttribute("value",pe.value),ne==="print")break;ee.addEventListener("input",J=>{ie.setValue(se,{value:J.target.value})})}break;case"select":if(pe.value!==null)for(const J of de.children)J.attributes.value===pe.value&&(J.attributes.selected=!0);ee.addEventListener("input",J=>{const K=J.target.options,Y=K.selectedIndex===-1?"":K[K.selectedIndex].value;ie.setValue(se,{value:Y})});break}}static setAttributes({html:ee,element:se,storage:de=null,intent:ie,linkService:ne}){const{attributes:pe}=se,J=ee instanceof HTMLAnchorElement;pe.type==="radio"&&(pe.name=`${pe.name}-${ie}`);for(const[K,Y]of Object.entries(pe))if(Y!=null)switch(K){case"class":Y.length&&ee.setAttribute(K,Y.join(" "));break;case"dataId":break;case"id":ee.setAttribute("data-element-id",Y);break;case"style":Object.assign(ee.style,Y);break;case"textContent":ee.textContent=Y;break;default:(!J||K!=="href"&&K!=="newWindow")&&ee.setAttribute(K,Y)}J&&ne.addLinkAttributes(ee,pe.href,pe.newWindow),de&&pe.dataId&&this.setupStorage(ee,pe.dataId,se,de)}static render(ee){var G;const se=ee.annotationStorage,de=ee.linkService,ie=ee.xfaHtml,ne=ee.intent||"display",pe=document.createElement(ie.name);ie.attributes&&this.setAttributes({html:pe,element:ie,intent:ne,linkService:de});const J=[[ie,-1,pe]],K=ee.div;if(K.append(pe),ee.viewport){const U=`matrix(${ee.viewport.transform.join(",")})`;K.style.transform=U}ne!=="richText"&&K.setAttribute("class","xfaLayer xfaFont");const Y=[];for(;J.length>0;){const[U,V,q]=J.at(-1);if(V+1===U.children.length){J.pop();continue}const Q=U.children[++J.at(-1)[1]];if(Q===null)continue;const{name:Z}=Q;if(Z==="#text"){const X=document.createTextNode(Q.value);Y.push(X),q.append(X);continue}let W;if((G=Q==null?void 0:Q.attributes)!=null&&G.xmlns?W=document.createElementNS(Q.attributes.xmlns,Z):W=document.createElement(Z),q.append(W),Q.attributes&&this.setAttributes({html:W,element:Q,storage:se,intent:ne,linkService:de}),Q.children&&Q.children.length>0)J.push([Q,-1,W]);else if(Q.value){const X=document.createTextNode(Q.value);O.XfaText.shouldBuildText(Z)&&Y.push(X),W.append(X)}}for(const U of K.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))U.setAttribute("readOnly",!0);return{textDivs:Y}}static update(ee){const se=`matrix(${ee.viewport.transform.join(",")})`;ee.div.style.transform=se,ee.div.hidden=!1}}$.XfaLayer=R},(A,$,H)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SVGGraphics=void 0;var O=H(6),R=H(1),B=H(10);let ee=class{constructor(){(0,R.unreachable)("Not implemented: SVGGraphics")}};$.SVGGraphics=ee;{let G=function(W){let X=[];const ue=[];for(const _e of W){if(_e.fn==="save"){X.push({fnId:92,fn:"group",items:[]}),ue.push(X),X=X.at(-1).items;continue}_e.fn==="restore"?X=ue.pop():X.push(_e)}return X},U=function(W){if(Number.isInteger(W))return W.toString();const X=W.toFixed(10);let ue=X.length-1;if(X[ue]!=="0")return X;do ue--;while(X[ue]==="0");return X.substring(0,X[ue]==="."?ue:ue+1)},V=function(W){if(W[4]===0&&W[5]===0){if(W[1]===0&&W[2]===0)return W[0]===1&&W[3]===1?"":`scale(${U(W[0])} ${U(W[3])})`;if(W[0]===W[3]&&W[1]===-W[2]){const X=Math.acos(W[0])*180/Math.PI;return`rotate(${U(X)})`}}else if(W[0]===1&&W[1]===0&&W[2]===0&&W[3]===1)return`translate(${U(W[4])} ${U(W[5])})`;return`matrix(${U(W[0])} ${U(W[1])} ${U(W[2])} ${U(W[3])} ${U(W[4])} ${U(W[5])})`};const se={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},de="http://www.w3.org/XML/1998/namespace",ie="http://www.w3.org/1999/xlink",ne=["butt","round","square"],pe=["miter","round","bevel"],J=function(W,X="",ue=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!ue)return URL.createObjectURL(new Blob([W],{type:X}));const _e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let be=`data:${X};base64,`;for(let we=0,ce=W.length;we<ce;we+=3){const $e=W[we]&255,Xe=W[we+1]&255,De=W[we+2]&255,Ge=$e>>2,Fe=($e&3)<<4|Xe>>4,xe=we+1<ce?(Xe&15)<<2|De>>6:64,Te=we+2<ce?De&63:64;be+=_e[Ge]+_e[Fe]+_e[xe]+_e[Te]}return be},K=function(){const W=new Uint8Array([137,80,78,71,13,10,26,10]),X=12,ue=new Int32Array(256);for(let De=0;De<256;De++){let Ge=De;for(let Fe=0;Fe<8;Fe++)Ge&1?Ge=3988292384^Ge>>1&2147483647:Ge=Ge>>1&2147483647;ue[De]=Ge}function _e(De,Ge,Fe){let xe=-1;for(let Te=Ge;Te<Fe;Te++){const et=(xe^De[Te])&255,Ke=ue[et];xe=xe>>>8^Ke}return xe^-1}function be(De,Ge,Fe,xe){let Te=xe;const et=Ge.length;Fe[Te]=et>>24&255,Fe[Te+1]=et>>16&255,Fe[Te+2]=et>>8&255,Fe[Te+3]=et&255,Te+=4,Fe[Te]=De.charCodeAt(0)&255,Fe[Te+1]=De.charCodeAt(1)&255,Fe[Te+2]=De.charCodeAt(2)&255,Fe[Te+3]=De.charCodeAt(3)&255,Te+=4,Fe.set(Ge,Te),Te+=Ge.length;const Ke=_e(Fe,xe+4,Te);Fe[Te]=Ke>>24&255,Fe[Te+1]=Ke>>16&255,Fe[Te+2]=Ke>>8&255,Fe[Te+3]=Ke&255}function we(De,Ge,Fe){let xe=1,Te=0;for(let et=Ge;et<Fe;++et)xe=(xe+(De[et]&255))%65521,Te=(Te+xe)%65521;return Te<<16|xe}function ce(De){if(!B.isNodeJS)return $e(De);try{let Ge;parseInt(process.versions.node)>=8?Ge=De:Ge=Buffer.from(De);const Fe=require$$5.deflateSync(Ge,{level:9});return Fe instanceof Uint8Array?Fe:new Uint8Array(Fe)}catch(Ge){(0,R.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+Ge)}return $e(De)}function $e(De){let Ge=De.length;const Fe=65535,xe=Math.ceil(Ge/Fe),Te=new Uint8Array(2+Ge+xe*5+4);let et=0;Te[et++]=120,Te[et++]=156;let Ke=0;for(;Ge>Fe;)Te[et++]=0,Te[et++]=255,Te[et++]=255,Te[et++]=0,Te[et++]=0,Te.set(De.subarray(Ke,Ke+Fe),et),et+=Fe,Ke+=Fe,Ge-=Fe;Te[et++]=1,Te[et++]=Ge&255,Te[et++]=Ge>>8&255,Te[et++]=~Ge&65535&255,Te[et++]=(~Ge&65535)>>8&255,Te.set(De.subarray(Ke),et),et+=De.length-Ke;const ye=we(De,0,De.length);return Te[et++]=ye>>24&255,Te[et++]=ye>>16&255,Te[et++]=ye>>8&255,Te[et++]=ye&255,Te}function Xe(De,Ge,Fe,xe){const Te=De.width,et=De.height;let Ke,ye,oe;const re=De.data;switch(Ge){case R.ImageKind.GRAYSCALE_1BPP:ye=0,Ke=1,oe=Te+7>>3;break;case R.ImageKind.RGB_24BPP:ye=2,Ke=8,oe=Te*3;break;case R.ImageKind.RGBA_32BPP:ye=6,Ke=8,oe=Te*4;break;default:throw new Error("invalid format")}const fe=new Uint8Array((1+oe)*et);let Se=0,Ee=0;for(let tt=0;tt<et;++tt)fe[Se++]=0,fe.set(re.subarray(Ee,Ee+oe),Se),Ee+=oe,Se+=oe;if(Ge===R.ImageKind.GRAYSCALE_1BPP&&xe){Se=0;for(let tt=0;tt<et;tt++){Se++;for(let ze=0;ze<oe;ze++)fe[Se++]^=255}}const Pe=new Uint8Array([Te>>24&255,Te>>16&255,Te>>8&255,Te&255,et>>24&255,et>>16&255,et>>8&255,et&255,Ke,ye,0,0,0]),Oe=ce(fe),He=W.length+X*3+Pe.length+Oe.length,rt=new Uint8Array(He);let Ze=0;return rt.set(W,Ze),Ze+=W.length,be("IHDR",Pe,rt,Ze),Ze+=X+Pe.length,be("IDATA",Oe,rt,Ze),Ze+=X+Oe.length,be("IEND",new Uint8Array(0),rt,Ze),J(rt,"image/png",Fe)}return function(Ge,Fe,xe){const Te=Ge.kind===void 0?R.ImageKind.GRAYSCALE_1BPP:Ge.kind;return Xe(Ge,Te,Fe,xe)}}();class Y{constructor(){this.fontSizeScale=1,this.fontWeight=se.fontWeight,this.fontSize=0,this.textMatrix=R.IDENTITY_MATRIX,this.fontMatrix=R.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=R.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=se.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(X,ue){this.x=X,this.y=ue}}let q=0,Q=0,Z=0;$.SVGGraphics=ee=class{constructor(W,X,ue=!1){(0,O.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new O.DOMSVGFactory,this.current=new Y,this.transformMatrix=R.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=W,this.objs=X,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!ue,this._operatorIdMapping=[];for(const _e in R.OPS)this._operatorIdMapping[R.OPS[_e]]=_e}getObject(W,X=null){return typeof W=="string"?W.startsWith("g_")?this.commonObjs.get(W):this.objs.get(W):X}save(){this.transformStack.push(this.transformMatrix);const W=this.current;this.extraStack.push(W),this.current=W.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(W){this.save(),this.executeOpTree(W),this.restore()}loadDependencies(W){const X=W.fnArray,ue=W.argsArray;for(let _e=0,be=X.length;_e<be;_e++)if(X[_e]===R.OPS.dependency)for(const we of ue[_e]){const ce=we.startsWith("g_")?this.commonObjs:this.objs,$e=new Promise(Xe=>{ce.get(we,Xe)});this.current.dependencies.push($e)}return Promise.all(this.current.dependencies)}transform(W,X,ue,_e,be,we){const ce=[W,X,ue,_e,be,we];this.transformMatrix=R.Util.transform(this.transformMatrix,ce),this.tgrp=null}getSVG(W,X){this.viewport=X;const ue=this._initialize(X);return this.loadDependencies(W).then(()=>(this.transformMatrix=R.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(W)),ue))}convertOpList(W){const X=this._operatorIdMapping,ue=W.argsArray,_e=W.fnArray,be=[];for(let we=0,ce=_e.length;we<ce;we++){const $e=_e[we];be.push({fnId:$e,fn:X[$e],args:ue[we]})}return G(be)}executeOpTree(W){for(const X of W){const ue=X.fn,_e=X.fnId,be=X.args;switch(_e|0){case R.OPS.beginText:this.beginText();break;case R.OPS.dependency:break;case R.OPS.setLeading:this.setLeading(be);break;case R.OPS.setLeadingMoveText:this.setLeadingMoveText(be[0],be[1]);break;case R.OPS.setFont:this.setFont(be);break;case R.OPS.showText:this.showText(be[0]);break;case R.OPS.showSpacedText:this.showText(be[0]);break;case R.OPS.endText:this.endText();break;case R.OPS.moveText:this.moveText(be[0],be[1]);break;case R.OPS.setCharSpacing:this.setCharSpacing(be[0]);break;case R.OPS.setWordSpacing:this.setWordSpacing(be[0]);break;case R.OPS.setHScale:this.setHScale(be[0]);break;case R.OPS.setTextMatrix:this.setTextMatrix(be[0],be[1],be[2],be[3],be[4],be[5]);break;case R.OPS.setTextRise:this.setTextRise(be[0]);break;case R.OPS.setTextRenderingMode:this.setTextRenderingMode(be[0]);break;case R.OPS.setLineWidth:this.setLineWidth(be[0]);break;case R.OPS.setLineJoin:this.setLineJoin(be[0]);break;case R.OPS.setLineCap:this.setLineCap(be[0]);break;case R.OPS.setMiterLimit:this.setMiterLimit(be[0]);break;case R.OPS.setFillRGBColor:this.setFillRGBColor(be[0],be[1],be[2]);break;case R.OPS.setStrokeRGBColor:this.setStrokeRGBColor(be[0],be[1],be[2]);break;case R.OPS.setStrokeColorN:this.setStrokeColorN(be);break;case R.OPS.setFillColorN:this.setFillColorN(be);break;case R.OPS.shadingFill:this.shadingFill(be[0]);break;case R.OPS.setDash:this.setDash(be[0],be[1]);break;case R.OPS.setRenderingIntent:this.setRenderingIntent(be[0]);break;case R.OPS.setFlatness:this.setFlatness(be[0]);break;case R.OPS.setGState:this.setGState(be[0]);break;case R.OPS.fill:this.fill();break;case R.OPS.eoFill:this.eoFill();break;case R.OPS.stroke:this.stroke();break;case R.OPS.fillStroke:this.fillStroke();break;case R.OPS.eoFillStroke:this.eoFillStroke();break;case R.OPS.clip:this.clip("nonzero");break;case R.OPS.eoClip:this.clip("evenodd");break;case R.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case R.OPS.paintImageXObject:this.paintImageXObject(be[0]);break;case R.OPS.paintInlineImageXObject:this.paintInlineImageXObject(be[0]);break;case R.OPS.paintImageMaskXObject:this.paintImageMaskXObject(be[0]);break;case R.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(be[0],be[1]);break;case R.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case R.OPS.closePath:this.closePath();break;case R.OPS.closeStroke:this.closeStroke();break;case R.OPS.closeFillStroke:this.closeFillStroke();break;case R.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case R.OPS.nextLine:this.nextLine();break;case R.OPS.transform:this.transform(be[0],be[1],be[2],be[3],be[4],be[5]);break;case R.OPS.constructPath:this.constructPath(be[0],be[1]);break;case R.OPS.endPath:this.endPath();break;case 92:this.group(X.items);break;default:(0,R.warn)(`Unimplemented operator ${ue}`);break}}}setWordSpacing(W){this.current.wordSpacing=W}setCharSpacing(W){this.current.charSpacing=W}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(W,X,ue,_e,be,we){const ce=this.current;ce.textMatrix=ce.lineMatrix=[W,X,ue,_e,be,we],ce.textMatrixScale=Math.hypot(W,X),ce.x=ce.lineX=0,ce.y=ce.lineY=0,ce.xcoords=[],ce.ycoords=[],ce.tspan=this.svgFactory.createElement("svg:tspan"),ce.tspan.setAttributeNS(null,"font-family",ce.fontFamily),ce.tspan.setAttributeNS(null,"font-size",`${U(ce.fontSize)}px`),ce.tspan.setAttributeNS(null,"y",U(-ce.y)),ce.txtElement=this.svgFactory.createElement("svg:text"),ce.txtElement.append(ce.tspan)}beginText(){const W=this.current;W.x=W.lineX=0,W.y=W.lineY=0,W.textMatrix=R.IDENTITY_MATRIX,W.lineMatrix=R.IDENTITY_MATRIX,W.textMatrixScale=1,W.tspan=this.svgFactory.createElement("svg:tspan"),W.txtElement=this.svgFactory.createElement("svg:text"),W.txtgrp=this.svgFactory.createElement("svg:g"),W.xcoords=[],W.ycoords=[]}moveText(W,X){const ue=this.current;ue.x=ue.lineX+=W,ue.y=ue.lineY+=X,ue.xcoords=[],ue.ycoords=[],ue.tspan=this.svgFactory.createElement("svg:tspan"),ue.tspan.setAttributeNS(null,"font-family",ue.fontFamily),ue.tspan.setAttributeNS(null,"font-size",`${U(ue.fontSize)}px`),ue.tspan.setAttributeNS(null,"y",U(-ue.y))}showText(W){const X=this.current,ue=X.font,_e=X.fontSize;if(_e===0)return;const be=X.fontSizeScale,we=X.charSpacing,ce=X.wordSpacing,$e=X.fontDirection,Xe=X.textHScale*$e,De=ue.vertical,Ge=De?1:-1,Fe=ue.defaultVMetrics,xe=_e*X.fontMatrix[0];let Te=0;for(const ye of W){if(ye===null){Te+=$e*ce;continue}else if(typeof ye=="number"){Te+=Ge*ye*_e/1e3;continue}const oe=(ye.isSpace?ce:0)+we,re=ye.fontChar;let fe,Se,Ee=ye.width;if(De){let Oe;const He=ye.vmetric||Fe;Oe=ye.vmetric?He[1]:Ee*.5,Oe=-Oe*xe;const rt=He[2]*xe;Ee=He?-He[0]:Ee,fe=Oe/be,Se=(Te+rt)/be}else fe=Te/be,Se=0;(ye.isInFont||ue.missingFile)&&(X.xcoords.push(X.x+fe),De&&X.ycoords.push(-X.y+Se),X.tspan.textContent+=re);let Pe;De?Pe=Ee*xe-oe*$e:Pe=Ee*xe+oe*$e,Te+=Pe}X.tspan.setAttributeNS(null,"x",X.xcoords.map(U).join(" ")),De?X.tspan.setAttributeNS(null,"y",X.ycoords.map(U).join(" ")):X.tspan.setAttributeNS(null,"y",U(-X.y)),De?X.y-=Te:X.x+=Te*Xe,X.tspan.setAttributeNS(null,"font-family",X.fontFamily),X.tspan.setAttributeNS(null,"font-size",`${U(X.fontSize)}px`),X.fontStyle!==se.fontStyle&&X.tspan.setAttributeNS(null,"font-style",X.fontStyle),X.fontWeight!==se.fontWeight&&X.tspan.setAttributeNS(null,"font-weight",X.fontWeight);const et=X.textRenderingMode&R.TextRenderingMode.FILL_STROKE_MASK;if(et===R.TextRenderingMode.FILL||et===R.TextRenderingMode.FILL_STROKE?(X.fillColor!==se.fillColor&&X.tspan.setAttributeNS(null,"fill",X.fillColor),X.fillAlpha<1&&X.tspan.setAttributeNS(null,"fill-opacity",X.fillAlpha)):X.textRenderingMode===R.TextRenderingMode.ADD_TO_PATH?X.tspan.setAttributeNS(null,"fill","transparent"):X.tspan.setAttributeNS(null,"fill","none"),et===R.TextRenderingMode.STROKE||et===R.TextRenderingMode.FILL_STROKE){const ye=1/(X.textMatrixScale||1);this._setStrokeAttributes(X.tspan,ye)}let Ke=X.textMatrix;X.textRise!==0&&(Ke=Ke.slice(),Ke[5]+=X.textRise),X.txtElement.setAttributeNS(null,"transform",`${V(Ke)} scale(${U(Xe)}, -1)`),X.txtElement.setAttributeNS(de,"xml:space","preserve"),X.txtElement.append(X.tspan),X.txtgrp.append(X.txtElement),this._ensureTransformGroup().append(X.txtElement)}setLeadingMoveText(W,X){this.setLeading(-X),this.moveText(W,X)}addFontStyle(W){if(!W.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));const X=J(W.data,W.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${W.loadedName}"; src: url(${X}); }
`}setFont(W){const X=this.current,ue=this.commonObjs.get(W[0]);let _e=W[1];X.font=ue,this.embedFonts&&!ue.missingFile&&!this.embeddedFonts[ue.loadedName]&&(this.addFontStyle(ue),this.embeddedFonts[ue.loadedName]=ue),X.fontMatrix=ue.fontMatrix||R.FONT_IDENTITY_MATRIX;let be="normal";ue.black?be="900":ue.bold&&(be="bold");const we=ue.italic?"italic":"normal";_e<0?(_e=-_e,X.fontDirection=-1):X.fontDirection=1,X.fontSize=_e,X.fontFamily=ue.loadedName,X.fontWeight=be,X.fontStyle=we,X.tspan=this.svgFactory.createElement("svg:tspan"),X.tspan.setAttributeNS(null,"y",U(-X.y)),X.xcoords=[],X.ycoords=[]}endText(){var X;const W=this.current;W.textRenderingMode&R.TextRenderingMode.ADD_TO_PATH_FLAG&&((X=W.txtElement)!=null&&X.hasChildNodes())&&(W.element=W.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(W){W>0&&(this.current.lineWidth=W)}setLineCap(W){this.current.lineCap=ne[W]}setLineJoin(W){this.current.lineJoin=pe[W]}setMiterLimit(W){this.current.miterLimit=W}setStrokeAlpha(W){this.current.strokeAlpha=W}setStrokeRGBColor(W,X,ue){this.current.strokeColor=R.Util.makeHexColor(W,X,ue)}setFillAlpha(W){this.current.fillAlpha=W}setFillRGBColor(W,X,ue){this.current.fillColor=R.Util.makeHexColor(W,X,ue),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(W){this.current.strokeColor=this._makeColorN_Pattern(W)}setFillColorN(W){this.current.fillColor=this._makeColorN_Pattern(W)}shadingFill(W){const X=this.viewport.width,ue=this.viewport.height,_e=R.Util.inverseTransform(this.transformMatrix),be=R.Util.applyTransform([0,0],_e),we=R.Util.applyTransform([0,ue],_e),ce=R.Util.applyTransform([X,0],_e),$e=R.Util.applyTransform([X,ue],_e),Xe=Math.min(be[0],we[0],ce[0],$e[0]),De=Math.min(be[1],we[1],ce[1],$e[1]),Ge=Math.max(be[0],we[0],ce[0],$e[0]),Fe=Math.max(be[1],we[1],ce[1],$e[1]),xe=this.svgFactory.createElement("svg:rect");xe.setAttributeNS(null,"x",Xe),xe.setAttributeNS(null,"y",De),xe.setAttributeNS(null,"width",Ge-Xe),xe.setAttributeNS(null,"height",Fe-De),xe.setAttributeNS(null,"fill",this._makeShadingPattern(W)),this.current.fillAlpha<1&&xe.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(xe)}_makeColorN_Pattern(W){return W[0]==="TilingPattern"?this._makeTilingPattern(W):this._makeShadingPattern(W)}_makeTilingPattern(W){const X=W[1],ue=W[2],_e=W[3]||R.IDENTITY_MATRIX,[be,we,ce,$e]=W[4],Xe=W[5],De=W[6],Ge=W[7],Fe=`shading${Z++}`,[xe,Te,et,Ke]=R.Util.normalizeRect([...R.Util.applyTransform([be,we],_e),...R.Util.applyTransform([ce,$e],_e)]),[ye,oe]=R.Util.singularValueDecompose2dScale(_e),re=Xe*ye,fe=De*oe,Se=this.svgFactory.createElement("svg:pattern");Se.setAttributeNS(null,"id",Fe),Se.setAttributeNS(null,"patternUnits","userSpaceOnUse"),Se.setAttributeNS(null,"width",re),Se.setAttributeNS(null,"height",fe),Se.setAttributeNS(null,"x",`${xe}`),Se.setAttributeNS(null,"y",`${Te}`);const Ee=this.svg,Pe=this.transformMatrix,Oe=this.current.fillColor,He=this.current.strokeColor,rt=this.svgFactory.create(et-xe,Ke-Te);if(this.svg=rt,this.transformMatrix=_e,Ge===2){const Ze=R.Util.makeHexColor(...X);this.current.fillColor=Ze,this.current.strokeColor=Ze}return this.executeOpTree(this.convertOpList(ue)),this.svg=Ee,this.transformMatrix=Pe,this.current.fillColor=Oe,this.current.strokeColor=He,Se.append(rt.childNodes[0]),this.defs.append(Se),`url(#${Fe})`}_makeShadingPattern(W){switch(typeof W=="string"&&(W=this.objs.get(W)),W[0]){case"RadialAxial":const X=`shading${Z++}`,ue=W[3];let _e;switch(W[1]){case"axial":const be=W[4],we=W[5];_e=this.svgFactory.createElement("svg:linearGradient"),_e.setAttributeNS(null,"id",X),_e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_e.setAttributeNS(null,"x1",be[0]),_e.setAttributeNS(null,"y1",be[1]),_e.setAttributeNS(null,"x2",we[0]),_e.setAttributeNS(null,"y2",we[1]);break;case"radial":const ce=W[4],$e=W[5],Xe=W[6],De=W[7];_e=this.svgFactory.createElement("svg:radialGradient"),_e.setAttributeNS(null,"id",X),_e.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),_e.setAttributeNS(null,"cx",$e[0]),_e.setAttributeNS(null,"cy",$e[1]),_e.setAttributeNS(null,"r",De),_e.setAttributeNS(null,"fx",ce[0]),_e.setAttributeNS(null,"fy",ce[1]),_e.setAttributeNS(null,"fr",Xe);break;default:throw new Error(`Unknown RadialAxial type: ${W[1]}`)}for(const be of ue){const we=this.svgFactory.createElement("svg:stop");we.setAttributeNS(null,"offset",be[0]),we.setAttributeNS(null,"stop-color",be[1]),_e.append(we)}return this.defs.append(_e),`url(#${X})`;case"Mesh":return(0,R.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${W[0]}`)}}setDash(W,X){this.current.dashArray=W,this.current.dashPhase=X}constructPath(W,X){const ue=this.current;let _e=ue.x,be=ue.y,we=[],ce=0;for(const $e of W)switch($e|0){case R.OPS.rectangle:_e=X[ce++],be=X[ce++];const Xe=X[ce++],De=X[ce++],Ge=_e+Xe,Fe=be+De;we.push("M",U(_e),U(be),"L",U(Ge),U(be),"L",U(Ge),U(Fe),"L",U(_e),U(Fe),"Z");break;case R.OPS.moveTo:_e=X[ce++],be=X[ce++],we.push("M",U(_e),U(be));break;case R.OPS.lineTo:_e=X[ce++],be=X[ce++],we.push("L",U(_e),U(be));break;case R.OPS.curveTo:_e=X[ce+4],be=X[ce+5],we.push("C",U(X[ce]),U(X[ce+1]),U(X[ce+2]),U(X[ce+3]),U(_e),U(be)),ce+=6;break;case R.OPS.curveTo2:we.push("C",U(_e),U(be),U(X[ce]),U(X[ce+1]),U(X[ce+2]),U(X[ce+3])),_e=X[ce+2],be=X[ce+3],ce+=4;break;case R.OPS.curveTo3:_e=X[ce+2],be=X[ce+3],we.push("C",U(X[ce]),U(X[ce+1]),U(_e),U(be),U(_e),U(be)),ce+=4;break;case R.OPS.closePath:we.push("Z");break}we=we.join(" "),ue.path&&W.length>0&&W[0]!==R.OPS.rectangle&&W[0]!==R.OPS.moveTo?we=ue.path.getAttributeNS(null,"d")+we:(ue.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(ue.path)),ue.path.setAttributeNS(null,"d",we),ue.path.setAttributeNS(null,"fill","none"),ue.element=ue.path,ue.setCurrentPoint(_e,be)}endPath(){const W=this.current;if(W.path=null,!this.pendingClip)return;if(!W.element){this.pendingClip=null;return}const X=`clippath${q++}`,ue=this.svgFactory.createElement("svg:clipPath");ue.setAttributeNS(null,"id",X),ue.setAttributeNS(null,"transform",V(this.transformMatrix));const _e=W.element.cloneNode(!0);if(this.pendingClip==="evenodd"?_e.setAttributeNS(null,"clip-rule","evenodd"):_e.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,ue.append(_e),this.defs.append(ue),W.activeClipUrl){W.clipGroup=null;for(const be of this.extraStack)be.clipGroup=null;ue.setAttributeNS(null,"clip-path",W.activeClipUrl)}W.activeClipUrl=`url(#${X})`,this.tgrp=null}clip(W){this.pendingClip=W}closePath(){const W=this.current;if(W.path){const X=`${W.path.getAttributeNS(null,"d")}Z`;W.path.setAttributeNS(null,"d",X)}}setLeading(W){this.current.leading=-W}setTextRise(W){this.current.textRise=W}setTextRenderingMode(W){this.current.textRenderingMode=W}setHScale(W){this.current.textHScale=W/100}setRenderingIntent(W){}setFlatness(W){}setGState(W){for(const[X,ue]of W)switch(X){case"LW":this.setLineWidth(ue);break;case"LC":this.setLineCap(ue);break;case"LJ":this.setLineJoin(ue);break;case"ML":this.setMiterLimit(ue);break;case"D":this.setDash(ue[0],ue[1]);break;case"RI":this.setRenderingIntent(ue);break;case"FL":this.setFlatness(ue);break;case"Font":this.setFont(ue);break;case"CA":this.setStrokeAlpha(ue);break;case"ca":this.setFillAlpha(ue);break;default:(0,R.warn)(`Unimplemented graphic state operator ${X}`);break}}fill(){const W=this.current;W.element&&(W.element.setAttributeNS(null,"fill",W.fillColor),W.element.setAttributeNS(null,"fill-opacity",W.fillAlpha),this.endPath())}stroke(){const W=this.current;W.element&&(this._setStrokeAttributes(W.element),W.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(W,X=1){const ue=this.current;let _e=ue.dashArray;X!==1&&_e.length>0&&(_e=_e.map(function(be){return X*be})),W.setAttributeNS(null,"stroke",ue.strokeColor),W.setAttributeNS(null,"stroke-opacity",ue.strokeAlpha),W.setAttributeNS(null,"stroke-miterlimit",U(ue.miterLimit)),W.setAttributeNS(null,"stroke-linecap",ue.lineCap),W.setAttributeNS(null,"stroke-linejoin",ue.lineJoin),W.setAttributeNS(null,"stroke-width",U(X*ue.lineWidth)+"px"),W.setAttributeNS(null,"stroke-dasharray",_e.map(U).join(" ")),W.setAttributeNS(null,"stroke-dashoffset",U(X*ue.dashPhase)+"px")}eoFill(){var W;(W=this.current.element)==null||W.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){var W;(W=this.current.element)==null||W.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const W=this.svgFactory.createElement("svg:rect");W.setAttributeNS(null,"x","0"),W.setAttributeNS(null,"y","0"),W.setAttributeNS(null,"width","1px"),W.setAttributeNS(null,"height","1px"),W.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(W)}paintImageXObject(W){const X=this.getObject(W);if(!X){(0,R.warn)(`Dependent image with object ID ${W} is not ready yet`);return}this.paintInlineImageXObject(X)}paintInlineImageXObject(W,X){const ue=W.width,_e=W.height,be=K(W,this.forceDataSchema,!!X),we=this.svgFactory.createElement("svg:rect");we.setAttributeNS(null,"x","0"),we.setAttributeNS(null,"y","0"),we.setAttributeNS(null,"width",U(ue)),we.setAttributeNS(null,"height",U(_e)),this.current.element=we,this.clip("nonzero");const ce=this.svgFactory.createElement("svg:image");ce.setAttributeNS(ie,"xlink:href",be),ce.setAttributeNS(null,"x","0"),ce.setAttributeNS(null,"y",U(-_e)),ce.setAttributeNS(null,"width",U(ue)+"px"),ce.setAttributeNS(null,"height",U(_e)+"px"),ce.setAttributeNS(null,"transform",`scale(${U(1/ue)} ${U(-1/_e)})`),X?X.append(ce):this._ensureTransformGroup().append(ce)}paintImageMaskXObject(W){const X=this.getObject(W.data,W);if(X.bitmap){(0,R.warn)("paintImageMaskXObject: ImageBitmap support is not implemented, ensure that the `isOffscreenCanvasSupported` API parameter is disabled.");return}const ue=this.current,_e=X.width,be=X.height,we=ue.fillColor;ue.maskId=`mask${Q++}`;const ce=this.svgFactory.createElement("svg:mask");ce.setAttributeNS(null,"id",ue.maskId);const $e=this.svgFactory.createElement("svg:rect");$e.setAttributeNS(null,"x","0"),$e.setAttributeNS(null,"y","0"),$e.setAttributeNS(null,"width",U(_e)),$e.setAttributeNS(null,"height",U(be)),$e.setAttributeNS(null,"fill",we),$e.setAttributeNS(null,"mask",`url(#${ue.maskId})`),this.defs.append(ce),this._ensureTransformGroup().append($e),this.paintInlineImageXObject(X,ce)}paintFormXObjectBegin(W,X){if(Array.isArray(W)&&W.length===6&&this.transform(W[0],W[1],W[2],W[3],W[4],W[5]),X){const ue=X[2]-X[0],_e=X[3]-X[1],be=this.svgFactory.createElement("svg:rect");be.setAttributeNS(null,"x",X[0]),be.setAttributeNS(null,"y",X[1]),be.setAttributeNS(null,"width",U(ue)),be.setAttributeNS(null,"height",U(_e)),this.current.element=be,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(W){const X=this.svgFactory.create(W.width,W.height),ue=this.svgFactory.createElement("svg:defs");X.append(ue),this.defs=ue;const _e=this.svgFactory.createElement("svg:g");return _e.setAttributeNS(null,"transform",V(W.transform)),X.append(_e),this.svg=_e,X}_ensureClipGroup(){if(!this.current.clipGroup){const W=this.svgFactory.createElement("svg:g");W.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(W),this.current.clipGroup=W}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",V(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}}],__webpack_module_cache__={};function __w_pdfjs_require__(A){var $=__webpack_module_cache__[A];if($!==void 0)return $.exports;var H=__webpack_module_cache__[A]={exports:{}};return __webpack_modules__[A](H,H.exports,__w_pdfjs_require__),H.exports}var __webpack_exports__={};return(()=>{var A=__webpack_exports__;Object.defineProperty(A,"__esModule",{value:!0}),Object.defineProperty(A,"AbortException",{enumerable:!0,get:function(){return $.AbortException}}),Object.defineProperty(A,"AnnotationEditorLayer",{enumerable:!0,get:function(){return B.AnnotationEditorLayer}}),Object.defineProperty(A,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return $.AnnotationEditorParamsType}}),Object.defineProperty(A,"AnnotationEditorType",{enumerable:!0,get:function(){return $.AnnotationEditorType}}),Object.defineProperty(A,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return ee.AnnotationEditorUIManager}}),Object.defineProperty(A,"AnnotationLayer",{enumerable:!0,get:function(){return se.AnnotationLayer}}),Object.defineProperty(A,"AnnotationMode",{enumerable:!0,get:function(){return $.AnnotationMode}}),Object.defineProperty(A,"CMapCompressionType",{enumerable:!0,get:function(){return $.CMapCompressionType}}),Object.defineProperty(A,"GlobalWorkerOptions",{enumerable:!0,get:function(){return de.GlobalWorkerOptions}}),Object.defineProperty(A,"InvalidPDFException",{enumerable:!0,get:function(){return $.InvalidPDFException}}),Object.defineProperty(A,"MissingPDFException",{enumerable:!0,get:function(){return $.MissingPDFException}}),Object.defineProperty(A,"OPS",{enumerable:!0,get:function(){return $.OPS}}),Object.defineProperty(A,"PDFDataRangeTransport",{enumerable:!0,get:function(){return H.PDFDataRangeTransport}}),Object.defineProperty(A,"PDFDateString",{enumerable:!0,get:function(){return O.PDFDateString}}),Object.defineProperty(A,"PDFWorker",{enumerable:!0,get:function(){return H.PDFWorker}}),Object.defineProperty(A,"PasswordResponses",{enumerable:!0,get:function(){return $.PasswordResponses}}),Object.defineProperty(A,"PermissionFlag",{enumerable:!0,get:function(){return $.PermissionFlag}}),Object.defineProperty(A,"PixelsPerInch",{enumerable:!0,get:function(){return O.PixelsPerInch}}),Object.defineProperty(A,"RenderingCancelledException",{enumerable:!0,get:function(){return O.RenderingCancelledException}}),Object.defineProperty(A,"SVGGraphics",{enumerable:!0,get:function(){return ie.SVGGraphics}}),Object.defineProperty(A,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return $.UNSUPPORTED_FEATURES}}),Object.defineProperty(A,"UnexpectedResponseException",{enumerable:!0,get:function(){return $.UnexpectedResponseException}}),Object.defineProperty(A,"Util",{enumerable:!0,get:function(){return $.Util}}),Object.defineProperty(A,"VerbosityLevel",{enumerable:!0,get:function(){return $.VerbosityLevel}}),Object.defineProperty(A,"XfaLayer",{enumerable:!0,get:function(){return ne.XfaLayer}}),Object.defineProperty(A,"build",{enumerable:!0,get:function(){return H.build}}),Object.defineProperty(A,"createPromiseCapability",{enumerable:!0,get:function(){return $.createPromiseCapability}}),Object.defineProperty(A,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return $.createValidAbsoluteUrl}}),Object.defineProperty(A,"getDocument",{enumerable:!0,get:function(){return H.getDocument}}),Object.defineProperty(A,"getFilenameFromUrl",{enumerable:!0,get:function(){return O.getFilenameFromUrl}}),Object.defineProperty(A,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return O.getPdfFilenameFromUrl}}),Object.defineProperty(A,"getXfaPageViewport",{enumerable:!0,get:function(){return O.getXfaPageViewport}}),Object.defineProperty(A,"isDataScheme",{enumerable:!0,get:function(){return O.isDataScheme}}),Object.defineProperty(A,"isPdfFile",{enumerable:!0,get:function(){return O.isPdfFile}}),Object.defineProperty(A,"loadScript",{enumerable:!0,get:function(){return O.loadScript}}),Object.defineProperty(A,"renderTextLayer",{enumerable:!0,get:function(){return R.renderTextLayer}}),Object.defineProperty(A,"setLayerDimensions",{enumerable:!0,get:function(){return O.setLayerDimensions}}),Object.defineProperty(A,"shadow",{enumerable:!0,get:function(){return $.shadow}}),Object.defineProperty(A,"updateTextLayer",{enumerable:!0,get:function(){return R.updateTextLayer}}),Object.defineProperty(A,"version",{enumerable:!0,get:function(){return H.version}});var $=__w_pdfjs_require__(1),H=__w_pdfjs_require__(2),O=__w_pdfjs_require__(6),R=__w_pdfjs_require__(26),B=__w_pdfjs_require__(27),ee=__w_pdfjs_require__(5),se=__w_pdfjs_require__(32),de=__w_pdfjs_require__(14),ie=__w_pdfjs_require__(35),ne=__w_pdfjs_require__(34)})(),__webpack_exports__})())})(pdf);(function(A){var $=reactExports,H=pdfExports;function O(te){var he=Object.create(null);return te&&Object.keys(te).forEach(function(Ae){if(Ae!=="default"){var Re=Object.getOwnPropertyDescriptor(te,Ae);Object.defineProperty(he,Ae,Re.get?Re:{enumerable:!0,get:function(){return te[Ae]}})}}),he.default=te,Object.freeze(he)}var R,B=O($),ee=O(H);A.AnnotationType=void 0,(R=A.AnnotationType||(A.AnnotationType={}))[R.Text=1]="Text",R[R.Link=2]="Link",R[R.FreeText=3]="FreeText",R[R.Line=4]="Line",R[R.Square=5]="Square",R[R.Circle=6]="Circle",R[R.Polygon=7]="Polygon",R[R.Polyline=8]="Polyline",R[R.Highlight=9]="Highlight",R[R.Underline=10]="Underline",R[R.Squiggly=11]="Squiggly",R[R.StrikeOut=12]="StrikeOut",R[R.Stamp=13]="Stamp",R[R.Caret=14]="Caret",R[R.Ink=15]="Ink",R[R.Popup=16]="Popup",R[R.FileAttachment=17]="FileAttachment";var se=function(te,he){return se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ae,Re){Ae.__proto__=Re}||function(Ae,Re){for(var Ie in Re)Object.prototype.hasOwnProperty.call(Re,Ie)&&(Ae[Ie]=Re[Ie])},se(te,he)};function de(te,he){if(typeof he!="function"&&he!==null)throw new TypeError("Class extends value "+String(he)+" is not a constructor or null");function Ae(){this.constructor=te}se(te,he),te.prototype=he===null?Object.create(he):(Ae.prototype=he.prototype,new Ae)}var ie,ne=function(){return ne=Object.assign||function(te){for(var he,Ae=1,Re=arguments.length;Ae<Re;Ae++)for(var Ie in he=arguments[Ae])Object.prototype.hasOwnProperty.call(he,Ie)&&(te[Ie]=he[Ie]);return te},ne.apply(this,arguments)};A.TextDirection=void 0,(ie=A.TextDirection||(A.TextDirection={})).RightToLeft="RTL",ie.LeftToRight="LTR";var pe,J=B.createContext({currentTheme:"light",direction:A.TextDirection.LeftToRight,setCurrentTheme:function(){}}),K=function(te){var he=[];return Object.keys(te).forEach(function(Ae){Ae&&te[Ae]&&he.push(Ae)}),he.join(" ")},Y=typeof window<"u"?B.useLayoutEffect:B.useEffect,G=function(te){var he=B.useRef(null),Ae=te.once,Re=te.threshold,Ie=te.onVisibilityChanged;return Y(function(){var Ne=he.current;if(Ne){var We=new IntersectionObserver(function(je){je.forEach(function(Me){var qe=Me.isIntersecting,Qe=Me.intersectionRatio;Ie({isVisible:qe,ratio:Qe}),qe&&Ae&&(We.unobserve(Ne),We.disconnect())})},{threshold:Re||0});return We.observe(Ne),function(){We.unobserve(Ne),We.disconnect()}}},[]),he},U=function(te){var he=te.children,Ae=te.ignoreDirection,Re=Ae!==void 0&&Ae,Ie=te.size,Ne=Ie===void 0?24:Ie,We=B.useContext(J).direction,je=!Re&&We===A.TextDirection.RightToLeft,Me="".concat(Ne||24,"px");return B.createElement("svg",{"aria-hidden":"true",className:K({"rpv-core__icon":!0,"rpv-core__icon--rtl":je}),focusable:"false",height:Me,viewBox:"0 0 24 24",width:Me},he)},V=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M23.5,0.499l-16.5,23l-6.5-6.5"}))},q=function(te){var he=te.children,Ae=te.testId,Re=te.onClick,Ie=B.useContext(J).direction===A.TextDirection.RightToLeft,Ne=Ae?{"data-testid":Ae}:{};return B.createElement("button",ne({className:K({"rpv-core__primary-button":!0,"rpv-core__primary-button--rtl":Ie}),type:"button",onClick:Re},Ne),he)},Q=function(te){var he=te.size,Ae=he===void 0?"4rem":he,Re=te.testId,Ie=B.useState(!1),Ne=Ie[0],We=Ie[1],je=Re?{"data-testid":Re}:{},Me=G({onVisibilityChanged:function(qe){We(qe.isVisible)}});return B.createElement("div",ne({},je,{className:K({"rpv-core__spinner":!0,"rpv-core__spinner--animating":Ne}),ref:Me,style:{height:Ae,width:Ae}}))},Z=function(te){var he=te.ariaLabel,Ae=he===void 0?"":he,Re=te.autoFocus,Ie=Re!==void 0&&Re,Ne=te.placeholder,We=Ne===void 0?"":Ne,je=te.testId,Me=te.type,qe=Me===void 0?"text":Me,Qe=te.value,dt=Qe===void 0?"":Qe,ot=te.onChange,mt=te.onKeyDown,ut=mt===void 0?function(){}:mt,It=B.useContext(J).direction,_t=B.useRef(),Zt=It===A.TextDirection.RightToLeft,xt={ref:_t,"data-testid":"","aria-label":Ae,className:K({"rpv-core__textbox":!0,"rpv-core__textbox--rtl":Zt}),placeholder:We,value:dt,onChange:function(Tt){return ot(Tt.target.value)},onKeyDown:ut};return je&&(xt["data-testid"]=je),Y(function(){if(Ie){var Tt=_t.current;if(Tt){var At=window.scrollX,Ft=window.scrollY;Tt.focus(),window.scrollTo(At,Ft)}}},[]),qe==="text"?B.createElement("input",ne({type:"text"},xt)):B.createElement("input",ne({type:"password"},xt))},W=function(){var te=B.useRef(!1);return B.useEffect(function(){return te.current=!0,function(){te.current=!1}},[]),te},X=function(te){var he=B.useRef(te);return B.useEffect(function(){he.current=te},[te]),he.current};(function(te){te.NotRenderedYet="NotRenderedYet",te.Rendering="Rendering",te.Rendered="Rendered"})(pe||(pe={}));var ue,_e=-9999,be=function(te){var he=te.doc,Ae=he.numPages,Re=he.loadingTask.docId,Ie=B.useMemo(function(){return Array(Ae).fill(null).map(function(je,Me){return{pageIndex:Me,renderStatus:pe.NotRenderedYet,visibility:_e}})},[Re]),Ne=B.useRef({currentRenderingPage:-1,startRange:0,endRange:Ae-1,visibilities:Ie}),We=function(je,Me){Ne.current.visibilities[je].visibility=Me};return{getHighestPriorityPage:function(){var je=Ne.current.visibilities.slice(Ne.current.startRange,Ne.current.endRange+1).filter(function(ot){return ot.visibility>_e});if(!je.length)return-1;for(var Me=je[0].pageIndex,qe=je[je.length-1].pageIndex,Qe=je.length,dt=0;dt<Qe;dt++){if(je[dt].renderStatus===pe.Rendering)return-1;if(je[dt].renderStatus===pe.NotRenderedYet)return je[dt].pageIndex}return qe+1<Ae&&Ne.current.visibilities[qe+1].renderStatus!==pe.Rendered?qe+1:Me-1>=0&&Ne.current.visibilities[Me-1].renderStatus!==pe.Rendered?Me-1:-1},isInRange:function(je){return je>=Ne.current.startRange&&je<=Ne.current.endRange},markNotRendered:function(){for(var je=0;je<Ae;je++)Ne.current.visibilities[je].renderStatus=pe.NotRenderedYet},markRendered:function(je){Ne.current.visibilities[je].renderStatus=pe.Rendered},markRendering:function(je){Ne.current.currentRenderingPage!==-1&&Ne.current.currentRenderingPage!==je&&Ne.current.visibilities[Ne.current.currentRenderingPage].renderStatus===pe.Rendering&&(Ne.current.visibilities[Ne.current.currentRenderingPage].renderStatus=pe.NotRenderedYet),Ne.current.visibilities[je].renderStatus=pe.Rendering,Ne.current.currentRenderingPage=je},setOutOfRange:function(je){We(je,_e)},setRange:function(je,Me){Ne.current.startRange=je,Ne.current.endRange=Me;for(var qe=0;qe<Ae;qe++)(qe<je||qe>Me)&&(Ne.current.visibilities[qe].visibility=_e,Ne.current.visibilities[qe].renderStatus=pe.NotRenderedYet)},setVisibility:We}},we={core:{askingPassword:{requirePasswordToOpen:"This document requires a password to open",submit:"Submit"},wrongPassword:{tryAgain:"The password is wrong. Please try again"},pageLabel:"Page {{pageIndex}}"}},ce=B.createContext({l10n:we,setL10n:function(){}}),$e=0,Xe=function(){return $e++},De=function(te,he,Ae){var Re=function(Ie){var Ne=he.current;if(Ne){var We=Ie.target;if(We instanceof Element&&We.shadowRoot){var je=Ie.composedPath();je.length>0&&!Ne.contains(je[0])&&Ae()}else Ne.contains(We)||Ae()}};B.useEffect(function(){if(te){var Ie={capture:!0};return document.addEventListener("click",Re,Ie),function(){document.removeEventListener("click",Re,Ie)}}},[])},Ge=function(te){var he=function(Ae){Ae.key==="Escape"&&te()};B.useEffect(function(){return document.addEventListener("keyup",he),function(){document.removeEventListener("keyup",he)}},[])},Fe=function(te){var he=te.ariaControlsSuffix,Ae=te.children,Re=te.closeOnClickOutside,Ie=te.closeOnEscape,Ne=te.onToggle,We=B.useRef(),je=B.useContext(J).direction===A.TextDirection.RightToLeft;return B.useEffect(function(){var Me=window.getComputedStyle(document.body).overflow;return document.body.style.overflow="hidden",function(){document.body.style.overflow=Me}},[]),Ge(function(){We.current&&Ie&&Ne()}),De(Re,We,Ne),Y(function(){var Me=We.current;if(Me){var qe=.75*document.body.clientHeight;Me.getBoundingClientRect().height>=qe&&(Me.style.overflow="auto",Me.style.maxHeight="".concat(qe,"px"))}},[]),B.createElement("div",{"aria-modal":"true",className:K({"rpv-core__modal-body":!0,"rpv-core__modal-body--rtl":je}),id:"rpv-core__modal-body-".concat(he),ref:We,role:"dialog",tabIndex:-1},Ae)},xe=function(te){var he=te.children;return B.createElement("div",{className:"rpv-core__modal-overlay"},he)};A.ToggleStatus=void 0,(ue=A.ToggleStatus||(A.ToggleStatus={})).Close="Close",ue.Open="Open",ue.Toggle="Toggle";var Te,et=function(te){var he=B.useState(te),Ae=he[0],Re=he[1];return{opened:Ae,toggle:function(Ie){switch(Ie){case A.ToggleStatus.Close:Re(!1);break;case A.ToggleStatus.Open:Re(!0);break;case A.ToggleStatus.Toggle:default:Re(function(Ne){return!Ne})}}}},Ke=function(te){var he=te.content,Ae=te.isOpened,Re=Ae!==void 0&&Ae,Ie=te.target,Ne=et(Re),We=Ne.opened,je=Ne.toggle;return B.createElement(B.Fragment,null,Ie&&Ie(je,We),We&&he(je))};A.Position=void 0,(Te=A.Position||(A.Position={})).TopLeft="TOP_LEFT",Te.TopCenter="TOP_CENTER",Te.TopRight="TOP_RIGHT",Te.RightTop="RIGHT_TOP",Te.RightCenter="RIGHT_CENTER",Te.RightBottom="RIGHT_BOTTOM",Te.BottomLeft="BOTTOM_LEFT",Te.BottomCenter="BOTTOM_CENTER",Te.BottomRight="BOTTOM_RIGHT",Te.LeftTop="LEFT_TOP",Te.LeftCenter="LEFT_CENTER",Te.LeftBottom="LEFT_BOTTOM";var ye,oe,re,fe,Se,Ee,Pe,Oe=function(te,he,Ae,Re,Ie){Y(function(){var Ne=he.current,We=te.current,je=Ae.current;if(We&&Ne&&je){var Me=je.getBoundingClientRect(),qe=function(ot,mt,ut,It){var _t=mt.getBoundingClientRect(),Zt=ot.getBoundingClientRect(),xt=Zt.height,Tt=Zt.width,At=0,Ft=0;switch(ut){case A.Position.TopLeft:At=_t.top-xt,Ft=_t.left;break;case A.Position.TopCenter:At=_t.top-xt,Ft=_t.left+_t.width/2-Tt/2;break;case A.Position.TopRight:At=_t.top-xt,Ft=_t.left+_t.width-Tt;break;case A.Position.RightTop:At=_t.top,Ft=_t.left+_t.width;break;case A.Position.RightCenter:At=_t.top+_t.height/2-xt/2,Ft=_t.left+_t.width;break;case A.Position.RightBottom:At=_t.top+_t.height-xt,Ft=_t.left+_t.width;break;case A.Position.BottomLeft:At=_t.top+_t.height,Ft=_t.left;break;case A.Position.BottomCenter:At=_t.top+_t.height,Ft=_t.left+_t.width/2-Tt/2;break;case A.Position.BottomRight:At=_t.top+_t.height,Ft=_t.left+_t.width-Tt;break;case A.Position.LeftTop:At=_t.top,Ft=_t.left-Tt;break;case A.Position.LeftCenter:At=_t.top+_t.height/2-xt/2,Ft=_t.left-Tt;break;case A.Position.LeftBottom:At=_t.top+_t.height-xt,Ft=_t.left-Tt}return{left:Ft+(It.left||0),top:At+(It.top||0)}}(We,Ne,Re,Ie),Qe=qe.top,dt=qe.left;We.style.top="".concat(Qe-Me.top,"px"),We.style.left="".concat(dt-Me.left,"px")}},[])},He=function(te){var he,Ae=te.customClassName,Re=te.position;return B.createElement("div",{className:K((he={"rpv-core__arrow":!0,"rpv-core__arrow--tl":Re===A.Position.TopLeft,"rpv-core__arrow--tc":Re===A.Position.TopCenter,"rpv-core__arrow--tr":Re===A.Position.TopRight,"rpv-core__arrow--rt":Re===A.Position.RightTop,"rpv-core__arrow--rc":Re===A.Position.RightCenter,"rpv-core__arrow--rb":Re===A.Position.RightBottom,"rpv-core__arrow--bl":Re===A.Position.BottomLeft,"rpv-core__arrow--bc":Re===A.Position.BottomCenter,"rpv-core__arrow--br":Re===A.Position.BottomRight,"rpv-core__arrow--lt":Re===A.Position.LeftTop,"rpv-core__arrow--lc":Re===A.Position.LeftCenter,"rpv-core__arrow--lb":Re===A.Position.LeftBottom},he["".concat(Ae)]=Ae!=="",he))})},rt=function(te){var he=te.ariaControlsSuffix,Ae=te.children,Re=te.closeOnClickOutside,Ie=te.offset,Ne=te.position,We=te.targetRef,je=te.onClose,Me=B.useRef(),qe=B.useRef(),Qe=B.useRef(),dt=B.useContext(J).direction===A.TextDirection.RightToLeft;De(Re,Me,je),Oe(Me,We,Qe,Ne,Ie),Y(function(){var mt=qe.current;if(mt){var ut=.75*document.body.clientHeight;mt.getBoundingClientRect().height>=ut&&(mt.style.overflow="auto",mt.style.maxHeight="".concat(ut,"px"))}},[]);var ot="rpv-core__popover-body-inner-".concat(he);return B.createElement(B.Fragment,null,B.createElement("div",{ref:Qe,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{"aria-describedby":ot,className:K({"rpv-core__popover-body":!0,"rpv-core__popover-body--rtl":dt}),id:"rpv-core__popover-body-".concat(he),ref:Me,role:"dialog",tabIndex:-1},B.createElement(He,{customClassName:"rpv-core__popover-body-arrow",position:Ne}),B.createElement("div",{id:ot,ref:qe},Ae)))},Ze=function(te){var he=te.closeOnEscape,Ae=te.onClose,Re=B.useRef();return Ge(function(){Re.current&&he&&Ae()}),B.createElement("div",{className:"rpv-core__popover-overlay",ref:Re})},tt=function(te){var he=te.ariaControlsSuffix,Ae=te.children,Re=te.contentRef,Ie=te.offset,Ne=te.position,We=te.targetRef,je=B.useRef(),Me=B.useContext(J).direction===A.TextDirection.RightToLeft;return Oe(Re,We,je,Ne,Ie),B.createElement(B.Fragment,null,B.createElement("div",{ref:je,style:{left:0,position:"absolute",top:0}}),B.createElement("div",{className:K({"rpv-core__tooltip-body":!0,"rpv-core__tooltip-body--rtl":Me}),id:"rpv-core__tooltip-body-".concat(he),ref:Re,role:"tooltip"},B.createElement(He,{customClassName:"rpv-core__tooltip-body-arrow",position:Ne}),B.createElement("div",{className:"rpv-core__tooltip-body-content"},Ae)))};A.LayerRenderStatus=void 0,(ye=A.LayerRenderStatus||(A.LayerRenderStatus={}))[ye.PreRender=0]="PreRender",ye[ye.DidRender=1]="DidRender",A.PageMode=void 0,(oe=A.PageMode||(A.PageMode={})).Attachments="UseAttachments",oe.Bookmarks="UseOutlines",oe.ContentGroup="UseOC",oe.Default="UserNone",oe.FullScreen="FullScreen",oe.Thumbnails="UseThumbs",A.PasswordStatus=void 0,(re=A.PasswordStatus||(A.PasswordStatus={})).RequiredPassword="RequiredPassword",re.WrongPassword="WrongPassword",A.RotateDirection=void 0,(fe=A.RotateDirection||(A.RotateDirection={})).Backward="Backward",fe.Forward="Forward",A.ScrollMode=void 0,(Se=A.ScrollMode||(A.ScrollMode={})).Page="Page",Se.Horizontal="Horizontal",Se.Vertical="Vertical",Se.Wrapped="Wrapped",A.SpecialZoomLevel=void 0,(Ee=A.SpecialZoomLevel||(A.SpecialZoomLevel={})).ActualSize="ActualSize",Ee.PageFit="PageFit",Ee.PageWidth="PageWidth",A.ViewMode=void 0,(Pe=A.ViewMode||(A.ViewMode={})).DualPage="DualPage",Pe.DualPageWithCover="DualPageWithCover",Pe.SinglePage="SinglePage";var ze,ae=function(te,he){return te.reduce(function(Ae,Re,Ie){return Ie%he?Ae[Ae.length-1].push(Re):Ae.push([Re]),Ae},[])},le=function(te,he){switch(he[1].name){case"XYZ":return{bottomOffset:function(Ae,Re){return he[3]===null?Re:he[3]},leftOffset:function(Ae,Re){return he[2]===null?0:he[2]},pageIndex:te,scaleTo:he[4]};case"Fit":case"FitB":return{bottomOffset:0,leftOffset:0,pageIndex:te,scaleTo:A.SpecialZoomLevel.PageFit};case"FitH":case"FitBH":return{bottomOffset:he[2],leftOffset:0,pageIndex:te,scaleTo:A.SpecialZoomLevel.PageWidth};default:return{bottomOffset:0,leftOffset:0,pageIndex:te,scaleTo:1}}},ve=new Map,Ce=new Map,ge=function(te,he){return"".concat(te.loadingTask.docId,"___").concat(he.num,"R").concat(he.gen===0?"":he.gen)},ke=function(te,he,Ae){ve.set(ge(te,he),Ae)},Je=function(te,he){if(!te)return Promise.reject("The document is not loaded yet");var Ae="".concat(te.loadingTask.docId,"___").concat(he),Re=Ce.get(Ae);return Re?Promise.resolve(Re):new Promise(function(Ie,Ne){te.getPage(he+1).then(function(We){Ce.set(Ae,We),We.ref&&ke(te,We.ref,he),Ie(We)})})},st=function(te,he){return new Promise(function(Ae){new Promise(function(Re){typeof he=="string"?te.getDestination(he).then(function(Ie){Re(Ie)}):Re(he)}).then(function(Re){if(typeof Re[0]=="object"&&Re[0]!==null){var Ie=Re[0],Ne=function(je,Me){var qe=ge(je,Me);return ve.has(qe)?ve.get(qe):null}(te,Ie);Ne===null?te.getPageIndex(Ie).then(function(je){ke(te,Ie,je),st(te,he).then(function(Me){return Ae(Me)})}):Ae(le(Ne,Re))}else{var We=le(Re[0],Re);Ae(We)}})})};(function(te){te[te.Solid=1]="Solid",te[te.Dashed=2]="Dashed",te[te.Beveled=3]="Beveled",te[te.Inset=4]="Inset",te[te.Underline=5]="Underline"})(ze||(ze={}));var it,Ue=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),ht=function(te,he,Ae,Re){var Ie=parseInt(te,10);return Ie>=he&&Ie<=Ae?Ie:Re},lt=function(te){return te.contentsObj?te.contentsObj.str:te.contents||""},pt=function(te){return te.titleObj?te.titleObj.str:te.title||""},Ct=function(te){var he=te.annotation,Ae=B.useContext(J).direction,Re=pt(he),Ie=lt(he),Ne=Ae===A.TextDirection.RightToLeft,We=B.useRef(),je="";if(he.modificationDate){var Me=function(qe){var Qe=Ue.exec(qe);if(!Qe)return null;var dt=parseInt(Qe[1],10),ot=ht(Qe[2],1,12,1)-1,mt=ht(Qe[3],1,31,1),ut=ht(Qe[4],0,23,0),It=ht(Qe[5],0,59,0),_t=ht(Qe[6],0,59,0),Zt=Qe[7]||"Z",xt=ht(Qe[8],0,23,0),Tt=ht(Qe[9],0,59,0);switch(Zt){case"-":ut+=xt,It+=Tt;break;case"+":ut-=xt,It-=Tt}return new Date(Date.UTC(dt,ot,mt,ut,It,_t))}(he.modificationDate);je=Me?"".concat(Me.toLocaleDateString(),", ").concat(Me.toLocaleTimeString()):""}return B.useLayoutEffect(function(){if(We.current){var qe=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(qe){var Qe=qe;return Qe.style.zIndex+=1,function(){Qe.style.zIndex="".concat(parseInt(Qe.style.zIndex,10)-1)}}}},[]),B.createElement("div",{ref:We,className:K({"rpv-core__annotation-popup-wrapper":!0,"rpv-core__annotation-popup-wrapper--rtl":Ne}),style:{top:he.annotationType===A.AnnotationType.Popup?"":"100%"}},Re&&B.createElement(B.Fragment,null,B.createElement("div",{className:K({"rpv-core__annotation-popup-title":!0,"rpv-core__annotation-popup-title--ltr":!Ne,"rpv-core__annotation-popup-title--rtl":Ne})},Re),B.createElement("div",{className:"rpv-core__annotation-popup-date"},je)),Ie&&B.createElement("div",{className:"rpv-core__annotation-popup-content"},Ie.split(`
`).map(function(qe,Qe){return B.createElement(B.Fragment,{key:Qe},qe,B.createElement("br",null))})))};(function(te){te.Click="Click",te.Hover="Hover"})(it||(it={}));var yt,$t=function(te){var he,Ae=te.annotation,Re=te.children,Ie=te.ignoreBorder,Ne=te.hasPopup,We=te.isRenderable,je=te.page,Me=te.viewport,qe=Ae.rect,Qe=function(){var Kt=et(!1),bn=Kt.opened,_n=Kt.toggle,nn=B.useState(it.Hover),ln=nn[0],pn=nn[1];return{opened:bn,closeOnHover:function(){ln===it.Hover&&_n(A.ToggleStatus.Close)},openOnHover:function(){ln===it.Hover&&_n(A.ToggleStatus.Open)},toggleOnClick:function(){switch(ln){case it.Click:bn&&pn(it.Hover),_n(A.ToggleStatus.Toggle);break;case it.Hover:pn(it.Click),_n(A.ToggleStatus.Open)}}}}(),dt=Qe.closeOnHover,ot=Qe.opened,mt=Qe.openOnHover,ut=Qe.toggleOnClick,It=(he=[qe[0],je.view[3]+je.view[1]-qe[1],qe[2],je.view[3]+je.view[1]-qe[3]],[Math.min(he[0],he[2]),Math.min(he[1],he[3]),Math.max(he[0],he[2]),Math.max(he[1],he[3])]),_t=qe[2]-qe[0],Zt=qe[3]-qe[1],xt={borderColor:"",borderRadius:"",borderStyle:"",borderWidth:""};if(!Ie&&Ae.borderStyle.width>0){switch(Ae.borderStyle.style){case ze.Dashed:xt.borderStyle="dashed";break;case ze.Solid:xt.borderStyle="solid";break;case ze.Underline:xt=Object.assign({borderBottomStyle:"solid"},xt);case ze.Beveled:case ze.Inset:}var Tt=Ae.borderStyle.width;xt.borderWidth="".concat(Tt,"px"),Ae.borderStyle.style!==ze.Underline&&(_t-=2*Tt,Zt-=2*Tt);var At=Ae.borderStyle,Ft=At.horizontalCornerRadius,Qt=At.verticalCornerRadius;(Ft>0||Qt>0)&&(xt.borderRadius="".concat(Ft,"px / ").concat(Qt,"px")),Ae.color?xt.borderColor="rgb(".concat(0|Ae.color[0],", ").concat(0|Ae.color[1],", ").concat(0|Ae.color[2],")"):xt.borderWidth="0"}return B.createElement(B.Fragment,null,We&&Re({popup:{opened:ot,closeOnHover:dt,openOnHover:mt,toggleOnClick:ut},slot:{attrs:{style:Object.assign({height:"".concat(Zt,"px"),left:"".concat(It[0],"px"),top:"".concat(It[1],"px"),transform:"matrix(".concat(Me.transform.join(","),")"),transformOrigin:"-".concat(It[0],"px -").concat(It[1],"px"),width:"".concat(_t,"px")},xt)},children:B.createElement(B.Fragment,null,Ne&&ot&&B.createElement(Ct,{annotation:Ae}))}}))},jt=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We);return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--caret","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},nt=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We),Me=he.rect,qe=Me[2]-Me[0],Qe=Me[3]-Me[1],dt=he.borderStyle.width;return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(ot){return B.createElement("div",ne({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--circle","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Qe),width:"".concat(qe,"px")},B.createElement("circle",{cy:Qe/2,fill:"none",rx:qe/2-dt/2,ry:Qe/2-dt/2,stroke:"transparent",strokeWidth:dt||1})),ot.slot.children)})},bt=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=pt(he),Ne=lt(he),We=!(he.hasPopup!==!1||!Ie&&!Ne),je=function(){var Me,qe,Qe,dt,ot=he.file;ot&&(Me=ot.filename,qe=ot.content,Qe=typeof qe=="string"?"":URL.createObjectURL(new Blob([qe],{type:""})),(dt=document.createElement("a")).style.display="none",dt.href=Qe||Me,dt.setAttribute("download",function(mt){var ut=mt.split("/").pop();return ut?ut.split("#")[0].split("?")[0]:mt}(Me)),document.body.appendChild(dt),dt.click(),document.body.removeChild(dt),Qe&&URL.revokeObjectURL(Qe))};return B.createElement($t,{annotation:he,hasPopup:We,ignoreBorder:!0,isRenderable:!0,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--file-attachment","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onDoubleClick:je,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},Ye=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We);return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--free-text","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},Le=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=pt(he),Ne=lt(he),We=!(!Ie&&!Ne),je=!he.parentType||["Circle","Ink","Line","Polygon","PolyLine","Square"].indexOf(he.parentType)!==-1;return Y(function(){if(he.parentId){var Me=document.querySelector('[data-annotation-id="'.concat(he.parentId,'"]')),qe=document.querySelector('[data-annotation-id="'.concat(he.id,'"]'));if(Me&&qe){var Qe=parseFloat(Me.style.left),dt=parseFloat(Me.style.top)+parseFloat(Me.style.height);qe.style.left="".concat(Qe,"px"),qe.style.top="".concat(dt,"px"),qe.style.transformOrigin="-".concat(Qe,"px -").concat(dt,"px")}}},[]),B.createElement($t,{annotation:he,hasPopup:je,ignoreBorder:!1,isRenderable:We,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--popup","data-annotation-id":he.id}),B.createElement(Ct,{annotation:he}))})},Ve=function(te){var he=te.annotation,Ae=te.childAnnotation,Re=te.page,Ie=te.viewport,Ne=he.hasPopup===!1,We=pt(he),je=lt(he),Me=!!(he.hasPopup||We||je);if(he.quadPoints&&he.quadPoints.length>0){var qe=he.quadPoints.map(function(Qe){return Object.assign({},he,{rect:[Qe[2].x,Qe[2].y,Qe[1].x,Qe[1].y],quadPoints:[]})});return B.createElement(B.Fragment,null,qe.map(function(Qe,dt){return B.createElement(Ve,{key:dt,annotation:Qe,childAnnotation:Ae,page:Re,viewport:Ie})}))}return B.createElement($t,{annotation:he,hasPopup:Ne,ignoreBorder:!0,isRenderable:Me,page:Re,viewport:Ie},function(Qe){return B.createElement(B.Fragment,null,B.createElement("div",ne({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--highlight","data-annotation-id":he.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),Qe.slot.children),Ae&&Ae.annotationType===A.AnnotationType.Popup&&Qe.popup.opened&&B.createElement(Le,{annotation:Ae,page:Re,viewport:Ie}))})},wt=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We),Me=he.rect,qe=Me[2]-Me[0],Qe=Me[3]-Me[1],dt=he.borderStyle.width;return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(ot){return B.createElement("div",ne({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--ink","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),he.inkLists&&he.inkLists.length&&B.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Qe),width:"".concat(qe,"px")},he.inkLists.map(function(mt,ut){return B.createElement("polyline",{key:ut,fill:"none",stroke:"transparent",strokeWidth:dt||1,points:mt.map(function(It){return"".concat(It.x-Me[0],",").concat(Me[3]-It.y)}).join(" ")})})),ot.slot.children)})},Be=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We),Me=he.rect,qe=Me[2]-Me[0],Qe=Me[3]-Me[1],dt=he.borderStyle.width;return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(ot){return B.createElement("div",ne({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--line","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Qe),width:"".concat(qe,"px")},B.createElement("line",{stroke:"transparent",strokeWidth:dt||1,x1:Me[2]-he.lineCoordinates[0],x2:Me[2]-he.lineCoordinates[2],y1:Me[3]-he.lineCoordinates[1],y2:Me[3]-he.lineCoordinates[3]})),ot.slot.children)})},ct=/^([^\w]*)(javascript|data|vbscript)/im,Et=/&#(\w+)(^\w|;)?/g,Pt=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,Xt=/^([^:]+):/gm,en=function(te,he){he===void 0&&(he="about:blank");var Ae,Re=(Ae=te||"",Ae.replace(Et,function(je,Me){return String.fromCharCode(Me)})).replace(Pt,"").trim();if(!Re)return he;var Ie=Re[0];if(Ie==="."||Ie==="/")return Re;var Ne=Re.match(Xt);if(!Ne)return Re;var We=Ne[0];return ct.test(We)?he:Re},zt=function(te){var he,Ae=te.annotation,Re=te.doc,Ie=te.outlines,Ne=te.page,We=te.viewport,je=te.onExecuteNamedAction,Me=te.onJumpToDest,qe=!!(Ae.url||Ae.dest||Ae.action||Ae.unsafeUrl),Qe={};if(Ae.url||Ae.unsafeUrl){var dt=en(Ae.url||Ae.unsafeUrl,"");dt?Qe={"data-target":"external",href:dt,rel:"noopener noreferrer nofollow",target:Ae.newWindow?"_blank":"",title:dt}:qe=!1}else Qe={href:"","data-annotation-link":Ae.id,onClick:function(mt){mt.preventDefault(),Ae.action?je(Ae.action):st(Re,Ae.dest).then(function(ut){var It=ut.pageIndex,_t=ut.bottomOffset,Zt=ut.leftOffset,xt=ut.scaleTo;Me(It,_t,Zt,xt)})}};var ot=Ie&&Ie.length&&Ae.dest&&typeof Ae.dest=="string"?(he=Ie.find(function(mt){return mt.dest===Ae.dest}))===null||he===void 0?void 0:he.title:"";return ot&&(Qe=Object.assign({},Qe,{title:ot,"aria-label":ot})),B.createElement($t,{annotation:Ae,hasPopup:!1,ignoreBorder:!1,isRenderable:qe,page:Ne,viewport:We},function(mt){return B.createElement("div",ne({},mt.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--link","data-annotation-id":Ae.id,"data-testid":"core__annotation--link-".concat(Ae.id)}),B.createElement("a",ne({},Qe)))})},Ut=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We),Me=he.rect,qe=Me[2]-Me[0],Qe=Me[3]-Me[1],dt=he.borderStyle.width;return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(ot){return B.createElement("div",ne({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polygon","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),he.vertices&&he.vertices.length&&B.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Qe),width:"".concat(qe,"px")},B.createElement("polygon",{fill:"none",stroke:"transparent",strokeWidth:dt||1,points:he.vertices.map(function(mt){return"".concat(mt.x-Me[0],",").concat(Me[3]-mt.y)}).join(" ")})),ot.slot.children)})},tn=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We),Me=he.rect,qe=Me[2]-Me[0],Qe=Me[3]-Me[1],dt=he.borderStyle.width;return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(ot){return B.createElement("div",ne({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--polyline","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),he.vertices&&he.vertices.length&&B.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Qe),width:"".concat(qe,"px")},B.createElement("polyline",{fill:"none",stroke:"transparent",strokeWidth:dt||1,points:he.vertices.map(function(mt){return"".concat(mt.x-Me[0],",").concat(Me[3]-mt.y)}).join(" ")})),ot.slot.children)})},Yt=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We),Me=he.rect,qe=Me[2]-Me[0],Qe=Me[3]-Me[1],dt=he.borderStyle.width;return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(ot){return B.createElement("div",ne({},ot.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--square","data-annotation-id":he.id,onClick:ot.popup.toggleOnClick,onMouseEnter:ot.popup.openOnHover,onMouseLeave:ot.popup.closeOnHover}),B.createElement("svg",{height:"".concat(Qe,"px"),preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 ".concat(qe," ").concat(Qe),width:"".concat(qe,"px")},B.createElement("rect",{height:Qe-dt,fill:"none",stroke:"transparent",strokeWidth:dt||1,x:dt/2,y:dt/2,width:qe-dt})),ot.slot.children)})},Jt=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We);return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--squiggly","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},dn=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We);return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--stamp","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},hn=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We);return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--strike-out","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},vn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M.5,16.5a1,1,0,0,0,1,1h2v4l4-4h15a1,1,0,0,0,1-1V3.5a1,1,0,0,0-1-1H1.5a1,1,0,0,0-1,1Z"}),B.createElement("path",{d:"M7.25,9.75A.25.25,0,1,1,7,10a.25.25,0,0,1,.25-.25"}),B.createElement("path",{d:"M12,9.75a.25.25,0,1,1-.25.25A.25.25,0,0,1,12,9.75"}),B.createElement("path",{d:"M16.75,9.75a.25.25,0,1,1-.25.25.25.25,0,0,1,.25-.25"}))},$n=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M0.500 12.001 A11.500 11.500 0 1 0 23.500 12.001 A11.500 11.500 0 1 0 0.500 12.001 Z"}),B.createElement("path",{d:"M6.000 12.001 A6.000 6.000 0 1 0 18.000 12.001 A6.000 6.000 0 1 0 6.000 12.001 Z"}),B.createElement("path",{d:"M21.423 5.406L17.415 9.414"}),B.createElement("path",{d:"M14.587 6.585L18.607 2.565"}),B.createElement("path",{d:"M5.405 21.424L9.413 17.416"}),B.createElement("path",{d:"M6.585 14.588L2.577 18.596"}),B.createElement("path",{d:"M18.602 21.419L14.595 17.412"}),B.createElement("path",{d:"M17.419 14.58L21.428 18.589"}),B.createElement("path",{d:"M2.582 5.399L6.588 9.406"}),B.createElement("path",{d:"M9.421 6.581L5.412 2.572"}))},xn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M4.000 18.500 A1.500 1.500 0 1 0 7.000 18.500 A1.500 1.500 0 1 0 4.000 18.500 Z"}),B.createElement("path",{d:"M20.5.5l-9.782,9.783a7,7,0,1,0,3,3L17,10h1.5V8.5L19,8h1.5V6.5L21,6h1.5V4.5l1-1V.5Z"}))},fn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M2.000 2.500 L22.000 2.500 L22.000 23.500 L2.000 23.500 Z"}),B.createElement("path",{d:"M6 4.5L6 0.5"}),B.createElement("path",{d:"M18 4.5L18 0.5"}),B.createElement("path",{d:"M10 4.5L10 0.5"}),B.createElement("path",{d:"M14 4.5L14 0.5"}))},In=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M17.5 0.498L17.5 23.498"}),B.createElement("path",{d:"M10.5 0.498L10.5 23.498"}),B.createElement("path",{d:"M23.5.5H6.5a6,6,0,0,0,0,12h4"}))},kn=function(){return B.createElement(U,{size:16},B.createElement("path",{d:"M2.5 22.995L12 6.005 21.5 22.995 2.5 22.995z"}))},Zn=function(te){var he=te.annotation,Ae=te.childAnnotation,Re=te.page,Ie=te.viewport,Ne=he.hasPopup===!1,We=pt(he),je=lt(he),Me=!!(he.hasPopup||We||je),qe=he.name?he.name.toLowerCase():"";return B.createElement($t,{annotation:he,hasPopup:Ne,ignoreBorder:!1,isRenderable:Me,page:Re,viewport:Ie},function(Qe){return B.createElement(B.Fragment,null,B.createElement("div",ne({},Qe.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--text","data-annotation-id":he.id,onClick:Qe.popup.toggleOnClick,onMouseEnter:Qe.popup.openOnHover,onMouseLeave:Qe.popup.closeOnHover}),qe&&B.createElement("div",{className:"rpv-core__annotation-text-icon"},qe==="check"&&B.createElement(V,null),qe==="comment"&&B.createElement(vn,null),qe==="help"&&B.createElement($n,null),qe==="insert"&&B.createElement(kn,null),qe==="key"&&B.createElement(xn,null),qe==="note"&&B.createElement(fn,null),(qe==="newparagraph"||qe==="paragraph")&&B.createElement(In,null)),Qe.slot.children),Ae&&Ae.annotationType===A.AnnotationType.Popup&&Qe.popup.opened&&B.createElement(Le,{annotation:Ae,page:Re,viewport:Ie}))})},Jn=function(te){var he=te.annotation,Ae=te.page,Re=te.viewport,Ie=he.hasPopup===!1,Ne=pt(he),We=lt(he),je=!!(he.hasPopup||Ne||We);return B.createElement($t,{annotation:he,hasPopup:Ie,ignoreBorder:!0,isRenderable:je,page:Ae,viewport:Re},function(Me){return B.createElement("div",ne({},Me.slot.attrs,{className:"rpv-core__annotation rpv-core__annotation--underline","data-annotation-id":he.id,onClick:Me.popup.toggleOnClick,onMouseEnter:Me.popup.openOnHover,onMouseLeave:Me.popup.closeOnHover}),Me.slot.children)})},Qn=function(te){var he=te.annotations,Ae=te.doc,Re=te.outlines,Ie=te.page,Ne=te.pageIndex,We=te.plugins,je=te.rotation,Me=te.scale,qe=te.onExecuteNamedAction,Qe=te.onJumpToDest,dt=B.useRef(),ot=Ie.getViewport({rotation:je,scale:Me}).clone({dontFlip:!0}),mt=he.filter(function(ut){return!ut.parentId});return Y(function(){var ut=dt.current;ut&&We.forEach(function(It){It.onAnnotationLayerRender&&It.onAnnotationLayerRender({annotations:mt,container:ut,pageIndex:Ne,rotation:je,scale:Me})})},[]),B.createElement("div",{ref:dt,className:"rpv-core__annotation-layer","data-testid":"core__annotation-layer-".concat(Ne)},mt.map(function(ut){var It=he.find(function(_t){return _t.parentId===ut.id});switch(ut.annotationType){case A.AnnotationType.Caret:return B.createElement(jt,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Circle:return B.createElement(nt,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.FileAttachment:return B.createElement(bt,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.FreeText:return B.createElement(Ye,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Highlight:return B.createElement(Ve,{key:ut.id,annotation:ut,childAnnotation:It,page:Ie,viewport:ot});case A.AnnotationType.Ink:return B.createElement(wt,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Line:return B.createElement(Be,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Link:return B.createElement(zt,{key:ut.id,annotation:ut,doc:Ae,outlines:Re,page:Ie,viewport:ot,onExecuteNamedAction:qe,onJumpToDest:Qe});case A.AnnotationType.Polygon:return B.createElement(Ut,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Polyline:return B.createElement(tn,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Popup:return B.createElement(Le,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Square:return B.createElement(Yt,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Squiggly:return B.createElement(Jt,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Stamp:return B.createElement(dn,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.StrikeOut:return B.createElement(hn,{key:ut.id,annotation:ut,page:Ie,viewport:ot});case A.AnnotationType.Text:return B.createElement(Zn,{key:ut.id,annotation:ut,childAnnotation:It,page:Ie,viewport:ot});case A.AnnotationType.Underline:return B.createElement(Jn,{key:ut.id,annotation:ut,page:Ie,viewport:ot});default:return B.createElement(B.Fragment,{key:ut.id})}}))},er=function(te){var he=te.page,Ae=te.renderAnnotations,Re=W(),Ie=B.useState({loading:!0,annotations:[]}),Ne=Ie[0],We=Ie[1];return B.useEffect(function(){he.getAnnotations({intent:"display"}).then(function(je){Re.current&&We({loading:!1,annotations:je})})},[]),Ne.loading?B.createElement(B.Fragment,null):Ae(Ne.annotations)},tr=function(te){var he=te.doc,Ae=te.outlines,Re=te.page,Ie=te.pageIndex,Ne=te.plugins,We=te.rotation,je=te.scale,Me=te.onExecuteNamedAction,qe=te.onJumpToDest;return B.createElement(er,{page:Re,renderAnnotations:function(Qe){return B.createElement(Qn,{annotations:Qe,doc:he,outlines:Ae,page:Re,pageIndex:Ie,plugins:Ne,rotation:We,scale:je,onExecuteNamedAction:Me,onJumpToDest:qe})}})},Wn=function(te,he){var Ae=te%he;return Ae===0?te:Math.floor(te-Ae)},mr=function(te){var he=te.canvasLayerRef,Ae=te.height,Re=te.page,Ie=te.pageIndex,Ne=te.plugins,We=te.rotation,je=te.scale,Me=te.width,qe=te.onRenderCanvasCompleted,Qe=B.useRef();return Y(function(){var dt=Qe.current;dt&&dt.cancel();var ot=he.current;ot.removeAttribute("data-testid"),Ne.forEach(function(Kt){Kt.onCanvasLayerRender&&Kt.onCanvasLayerRender({ele:ot,pageIndex:Ie,rotation:We,scale:je,status:A.LayerRenderStatus.PreRender})});var mt=Re.getViewport({rotation:We,scale:je}),ut=window.devicePixelRatio||1,It=Math.sqrt(16777216/(mt.width*mt.height)),_t=ut>It;_t?ot.style.transform="scale(1, 1)":ot.style.removeProperty("transform");var Zt=Math.min(It,ut),xt=function(Kt,bn){var _n,nn;if(Math.floor(Kt)===Kt)return[Kt,1];var ln=1/Kt;if(ln>bn)return[1,bn];if(Math.floor(ln)===ln)return[1,ln];for(var pn=Kt>1?ln:Kt,Sn=0,Cn=1,Rn=1,rn=1;;){var En=Sn+Rn,sn=Cn+rn;if(sn>bn)break;pn<=En/sn?(Rn=(_n=[En,sn])[0],rn=_n[1]):(Sn=(nn=[En,sn])[0],Cn=nn[1])}return pn<(Sn/Cn+Rn/rn)/2?pn===Kt?[Sn,Cn]:[Cn,Sn]:pn===Kt?[Rn,rn]:[rn,Rn]}(Zt,8),Tt=xt[0],At=xt[1];ot.width=Wn(mt.width*Zt,Tt),ot.height=Wn(mt.height*Zt,Tt),ot.style.width="".concat(Wn(mt.width,At),"px"),ot.style.height="".concat(Wn(mt.height,At),"px"),ot.hidden=!0;var Ft=ot.getContext("2d",{alpha:!1}),Qt=_t||ut!==1?[Zt,0,0,Zt,0,0]:null;return Qe.current=Re.render({canvasContext:Ft,transform:Qt,viewport:mt}),Qe.current.promise.then(function(){ot.hidden=!1,ot.setAttribute("data-testid","core__canvas-layer-".concat(Ie)),Ne.forEach(function(Kt){Kt.onCanvasLayerRender&&Kt.onCanvasLayerRender({ele:ot,pageIndex:Ie,rotation:We,scale:je,status:A.LayerRenderStatus.DidRender})}),qe()},function(){qe()}),function(){ot&&(ot.width=0,ot.height=0)}},[]),B.createElement("div",{className:"rpv-core__canvas-layer",style:{height:"".concat(Ae,"px"),width:"".concat(Me,"px")}},B.createElement("canvas",{ref:he}))},Oi=function(te){var he=te.height,Ae=te.page,Re=te.rotation,Ie=te.scale,Ne=te.width,We=B.useRef();return Y(function(){var je=We.current,Me=Ae.getViewport({rotation:Re,scale:Ie});Ae.getOperatorList().then(function(qe){(function(){var Qe=We.current;Qe&&(Qe.innerHTML="")})(),new ee.SVGGraphics(Ae.commonObjs,Ae.objs).getSVG(qe,Me).then(function(Qe){Qe.style.height="".concat(he,"px"),Qe.style.width="".concat(Ne,"px"),je.appendChild(Qe)})})},[]),B.createElement("div",{className:"rpv-core__svg-layer",ref:We})},Ii=function(te){var he=te.containerRef,Ae=te.page,Re=te.pageIndex,Ie=te.plugins,Ne=te.rotation,We=te.scale,je=te.onRenderTextCompleted,Me=B.useRef(),qe=function(){var Qe=he.current;Qe&&([].slice.call(Qe.querySelectorAll(".rpv-core__text-layer-text")).forEach(function(dt){return Qe.removeChild(dt)}),[].slice.call(Qe.querySelectorAll('br[role="presentation"]')).forEach(function(dt){return Qe.removeChild(dt)}))};return Y(function(){var Qe=Me.current;Qe&&Qe.cancel();var dt=he.current;if(dt){dt.removeAttribute("data-testid");var ot=Ae.getViewport({rotation:Ne,scale:We});return Ie.forEach(function(mt){mt.onTextLayerRender&&mt.onTextLayerRender({ele:dt,pageIndex:Re,scale:We,status:A.LayerRenderStatus.PreRender})}),Ae.getTextContent().then(function(mt){qe(),Me.current=ee.renderTextLayer({container:dt,textContent:mt,textContentSource:mt,viewport:ot}),Me.current.promise.then(function(){dt.setAttribute("data-testid","core__text-layer-".concat(Re)),[].slice.call(dt.children).forEach(function(ut){ut.classList.contains("rpv-core__text-layer-text--not")||ut.classList.add("rpv-core__text-layer-text")}),Ie.forEach(function(ut){ut.onTextLayerRender&&ut.onTextLayerRender({ele:dt,pageIndex:Re,scale:We,status:A.LayerRenderStatus.DidRender})}),je()},function(){dt.removeAttribute("data-testid"),je()})}),function(){var mt;qe(),(mt=Me.current)===null||mt===void 0||mt.cancel()}}},[]),B.createElement("div",{className:"rpv-core__text-layer",ref:he})},Fi=function(te){var he=te.doc,Ae=te.measureRef,Re=te.outlines,Ie=te.pageIndex,Ne=te.pageRotation,We=te.pageSize,je=te.plugins,Me=te.renderPage,qe=te.renderQueueKey,Qe=te.rotation,dt=te.scale,ot=te.shouldRender,mt=te.viewMode,ut=te.onExecuteNamedAction,It=te.onJumpToDest,_t=te.onRenderCompleted,Zt=te.onRotatePage,xt=W(),Tt=B.useState(null),At=Tt[0],Ft=Tt[1],Qt=B.useState(!1),Kt=Qt[0],bn=Qt[1],_n=B.useState(!1),nn=_n[0],ln=_n[1],pn=B.useRef(),Sn=B.useRef(),Cn=Math.abs(Qe+Ne)%180==0,Rn=We.pageWidth*dt,rn=We.pageHeight*dt,En=Cn?Rn:rn,sn=Cn?rn:Rn,mn=(We.rotation+Qe+Ne)%360,Fn=B.useRef(0),Tn=Me||function(Pn){return B.createElement(B.Fragment,null,Pn.canvasLayer.children,Pn.textLayer.children,Pn.annotationLayer.children)};return B.useEffect(function(){Ft(null),bn(!1),ln(!1)},[Ne,Qe,dt]),B.useEffect(function(){ot&&xt.current&&!At&&Je(he,Ie).then(function(Pn){xt.current&&(Fn.current=qe,Ft(Pn))})},[ot,At]),B.useEffect(function(){Kt&&nn&&(qe!==Fn.current?(Ft(null),bn(!1),ln(!1)):_t(Ie))},[Kt,nn]),B.createElement("div",{className:K({"rpv-core__page-layer":!0,"rpv-core__page-layer--dual":mt===A.ViewMode.DualPage,"rpv-core__page-layer--dual-cover":mt===A.ViewMode.DualPageWithCover,"rpv-core__page-layer--single":mt===A.ViewMode.SinglePage}),"data-testid":"core__page-layer-".concat(Ie),ref:Ae,style:{height:"".concat(sn,"px"),width:"".concat(En,"px")}},At?B.createElement(B.Fragment,null,Tn({annotationLayer:{attrs:{},children:B.createElement(tr,{doc:he,outlines:Re,page:At,pageIndex:Ie,plugins:je,rotation:mn,scale:dt,onExecuteNamedAction:ut,onJumpToDest:It})},canvasLayer:{attrs:{},children:B.createElement(mr,{canvasLayerRef:pn,height:sn,page:At,pageIndex:Ie,plugins:je,rotation:mn,scale:dt,width:En,onRenderCanvasCompleted:function(){xt.current&&bn(!0)}})},canvasLayerRendered:Kt,doc:he,height:sn,pageIndex:Ie,rotation:mn,scale:dt,svgLayer:{attrs:{},children:B.createElement(Oi,{height:sn,page:At,rotation:mn,scale:dt,width:En})},textLayer:{attrs:{},children:B.createElement(Ii,{containerRef:Sn,page:At,pageIndex:Ie,plugins:je,rotation:mn,scale:dt,onRenderTextCompleted:function(){xt.current&&ln(!0)}})},textLayerRendered:nn,width:En,markRendered:_t,onRotatePage:function(Pn){return Zt(Ie,Pn)}}),je.map(function(Pn,Dn){return Pn.renderPageLayer?B.createElement(B.Fragment,{key:Dn},Pn.renderPageLayer({canvasLayerRef:pn,canvasLayerRendered:Kt,doc:he,height:sn,pageIndex:Ie,rotation:mn,scale:dt,textLayerRef:Sn,textLayerRendered:nn,width:En})):B.createElement(B.Fragment,{key:Dn})})):B.createElement(Q,{testId:"core__page-layer-loading-".concat(Ie)}))},Li=function(te,he){var Ae=he.rect;return te.height!==Ae.height||te.width!==Ae.width?Ae:te};(function(te){te.Horizontal="Horizontal",te.Vertical="Vertical",te.Both="Both"})(yt||(yt={}));var Di=function(te){return 1-Math.pow(1-te,4)},Kr=1e-4,Ni={left:0,top:0},Yr={capture:!1,passive:!0},ji=function(te){var he=te.elementRef,Ae=te.isRtl,Re=te.scrollDirection,Ie=te.onSmoothScroll,Ne=function(_t){var Zt=W(),xt=B.useRef(0),Tt=B.useState(_t),At=Tt[0],Ft=Tt[1],Qt=B.useCallback(function(Kt){cancelAnimationFrame(xt.current),xt.current=requestAnimationFrame(function(){Zt.current&&Ft(Kt)})},[]);return B.useEffect(function(){return function(){cancelAnimationFrame(xt.current)}},[]),[At,Qt]}(Ni),We=Ne[0],je=Ne[1],Me=B.useState(he.current),qe=Me[0],Qe=Me[1],dt=Ae?-1:1,ot=B.useRef(Re);ot.current=Re;var mt=B.useCallback(function(){return Ie(!1)},[]),ut=B.useCallback(function(){if(qe)switch(ot.current){case yt.Horizontal:je({left:dt*qe.scrollLeft,top:0});break;case yt.Both:je({left:dt*qe.scrollLeft,top:qe.scrollTop});break;case yt.Vertical:default:je({left:0,top:qe.scrollTop})}},[qe]);Y(function(){Qe(he.current)}),Y(function(){if(qe)return qe.addEventListener("scroll",ut,Yr),function(){qe.removeEventListener("scroll",ut,Yr)}},[qe]);var It=B.useCallback(function(_t,Zt){var xt=he.current;if(xt){var Tt={left:0,top:0};switch(ot.current){case yt.Horizontal:Tt.left=dt*_t.left;break;case yt.Both:Tt.left=dt*_t.left,Tt.top=_t.top;break;case yt.Vertical:default:Tt.top=_t.top}if(Zt)Ie(!0),function(At,Ft,Qt,Kt,bn,_n){bn===void 0&&(bn=function(En){return En}),_n===void 0&&(_n=function(){});var nn=0,ln=0;switch(Ft){case yt.Horizontal:ln=At.scrollLeft,nn=0;case yt.Both:ln=At.scrollLeft,nn=At.scrollTop;break;case yt.Vertical:default:ln=0,nn=At.scrollTop}if(!(nn===Qt.top&&Ft===yt.Vertical||ln===Qt.left&&Ft===yt.Horizontal)){var pn,Sn=-1,Cn=ln-Qt.left,Rn=nn-Qt.top,rn=function(En){Sn===-1&&(Sn=En);var sn=En-Sn,mn=Math.min(sn/Kt,1),Fn=bn(mn),Tn={left:ln-Cn*Fn,top:nn-Rn*Fn};switch(Ft){case yt.Horizontal:At.scrollLeft=Tn.left;break;case yt.Both:At.scrollLeft=Tn.left,At.scrollTop=Tn.top;break;case yt.Vertical:default:At.scrollTop=Tn.top}Math.abs(Tn.top-Qt.top)<=Kr&&Math.abs(Tn.left-Qt.left)<=Kr&&_n(),sn<Kt?pn=window.requestAnimationFrame(rn):window.cancelAnimationFrame(pn)};pn=window.requestAnimationFrame(rn)}}(xt,ot.current,Tt,400,Di,mt);else switch(ot.current){case yt.Horizontal:xt.scrollLeft=Tt.left;break;case yt.Both:xt.scrollLeft=Tt.left,xt.scrollTop=Tt.top;break;case yt.Vertical:default:xt.scrollTop=Tt.top}}},[he]);return{scrollOffset:We,scrollTo:It}},ur=function(te,he,Ae){return Math.max(te,Math.min(Ae,he))},Bi=function(te,he){if(he!==A.ViewMode.DualPageWithCover)return 0;if(!function(Ie){var Ne=Ie.length;if(Ne===1)return!1;for(var We=1;We<Ne;We++)if(Ie[We].height!==Ie[0].height||Ie[We].width!==Ie[0].width)return!0;return!1}(te))return 2*te[0].width;var Ae=ae(te.slice(1),2).map(function(Ie){return Ie.length===2?Ie[0].width+Ie[1].width:Ie[0].width}),Re=[te[0].width].concat(Ae);return Math.max.apply(Math,Re)},zi={left:0,top:0},Hi={left:0,top:0},Cr={left:0,top:0},Vi={left:0,top:0},Ar={height:0,width:0},Zr={left:0,top:0},Jr="data-virtual-index",Ui=[0,.1,.2,.3,.4,.5,.6,.7,.8,.9,1],Wi=function(te){var he=te.isRtl,Ae=te.numberOfItems,Re=te.parentRef,Ie=te.setStartRange,Ne=te.setEndRange,We=te.sizes,je=te.scrollMode,Me=te.viewMode,qe=B.useState(!1),Qe=qe[0],dt=qe[1],ot=B.useCallback(function(kt){return dt(kt)},[]),mt=B.useRef(je);mt.current=je;var ut=B.useRef(Me);ut.current=Me;var It=je===A.ScrollMode.Wrapped||Me===A.ViewMode.DualPageWithCover||Me===A.ViewMode.DualPage?yt.Both:je===A.ScrollMode.Horizontal?yt.Horizontal:yt.Vertical,_t=ji({elementRef:Re,isRtl:he,scrollDirection:It,onSmoothScroll:ot}),Zt=_t.scrollOffset,xt=_t.scrollTo,Tt=function(kt){var Mt=kt.elementRef,Rt=B.useState(Mt.current),Dt=Rt[0],Ot=Rt[1],Lt=B.useRef(!1),Bt=B.useReducer(Li,{height:0,width:0}),Wt=Bt[0],vt=Bt[1];return Y(function(){Mt.current!==Dt&&Ot(Mt.current)}),Y(function(){if(Dt&&!Lt.current){Lt.current=!0;var Nt=Dt.getBoundingClientRect(),Vt=Nt.height,an=Nt.width;vt({rect:{height:Vt,width:an}})}},[Dt]),B.useEffect(function(){if(Dt){var Nt=new ResizeObserver(function(Vt,an){Vt.forEach(function(yn){if(yn.target===Dt){var Mn=yn.contentRect,zn=Mn.height,jn=Mn.width;vt({rect:{height:zn,width:jn}})}})});return Nt.observe(Dt),function(){Nt.unobserve(Dt)}}},[Dt]),Wt}({elementRef:Re}),At=B.useRef({scrollOffset:Zr,measurements:[],parentRect:Ar,totalSize:Ar});At.current.scrollOffset=Zt,At.current.parentRect=Tt;var Ft=B.useMemo(function(){return Array(Ae).fill(-1)},[]),Qt=B.useState(Ft),Kt=Qt[0],bn=Qt[1],_n=B.useMemo(function(){var kt=new IntersectionObserver(function(Mt){Mt.forEach(function(Rt){var Dt=Rt.isIntersecting?Rt.intersectionRatio:-1,Ot=Rt.target.getAttribute(Jr);if(Ot){var Lt=parseInt(Ot,10);0<=Lt&&Lt<Ae&&bn(function(Bt){return Bt[Lt]=Dt,function(Wt,vt,Nt){if(Nt||arguments.length===2)for(var Vt,an=0,yn=vt.length;an<yn;an++)!Vt&&an in vt||(Vt||(Vt=Array.prototype.slice.call(vt,0,an)),Vt[an]=vt[an]);return Wt.concat(Vt||Array.prototype.slice.call(vt))}([],Bt,!0)})}})},{threshold:Ui});return kt},[]),nn=B.useMemo(function(){return je===A.ScrollMode.Page&&Me===A.ViewMode.SinglePage?function(kt,Mt,Rt){for(var Dt=[],Ot=0;Ot<kt;Ot++){var Lt={height:Math.max(Mt.height,Rt[Ot].height),width:Math.max(Mt.width,Rt[Ot].width)},Bt=Ot===0?Vi:Dt[Ot-1].end,Wt={left:Bt.left+Lt.width,top:Bt.top+Lt.height};Dt[Ot]={index:Ot,start:Bt,size:Lt,end:Wt,visibility:-1}}return Dt}(Ae,Tt,We):Me===A.ViewMode.DualPageWithCover?function(kt,Mt,Rt,Dt){for(var Ot=[],Lt=0,Bt=0,Wt=Cr,vt=0;vt<kt;vt++){var Nt=vt===0?{height:Dt===A.ScrollMode.Page?Math.max(Mt.height,Rt[vt].height):Rt[vt].height,width:Dt===A.ScrollMode.Page?Math.max(Mt.width,Rt[vt].width):Rt[vt].width}:{height:Dt===A.ScrollMode.Page?Math.max(Mt.height,Rt[vt].height):Rt[vt].height,width:Math.max(Mt.width/2,Rt[vt].width)};Dt===A.ScrollMode.Page?Wt=vt===0?Cr:{left:vt%2==0?Nt.width:0,top:Math.floor((vt-1)/2)*Nt.height+Ot[0].end.top}:vt===0?(Wt=Cr,Lt=Rt[0].height,Bt=0):vt%2==1?(Wt={left:0,top:Lt+=Bt},Bt=vt===kt-1?Rt[vt].height:Math.max(Rt[vt].height,Rt[vt+1].height)):Wt={left:Ot[vt-1].end.left,top:Lt};var Vt={left:Wt.left+Nt.width,top:Wt.top+Nt.height};Ot[vt]={index:vt,start:Wt,size:Nt,end:Vt,visibility:-1}}return Ot}(Ae,Tt,We,je):Me===A.ViewMode.DualPage?function(kt,Mt,Rt,Dt){for(var Ot=[],Lt=0,Bt=0,Wt=Hi,vt=0;vt<kt;vt++){var Nt={height:Dt===A.ScrollMode.Page?Math.max(Mt.height,Rt[vt].height):Rt[vt].height,width:Math.max(Mt.width/2,Rt[vt].width)};Dt===A.ScrollMode.Page?Wt={left:vt%2==0?0:Nt.width,top:Math.floor(vt/2)*Nt.height}:vt%2==0?(Wt={left:0,top:Lt+=Bt},Bt=vt===kt-1?Rt[vt].height:Math.max(Rt[vt].height,Rt[vt+1].height)):Wt={left:Ot[vt-1].end.left,top:Lt};var Vt={left:Wt.left+Nt.width,top:Wt.top+Nt.height};Ot[vt]={index:vt,start:Wt,size:Nt,end:Vt,visibility:-1}}return Ot}(Ae,Tt,We,je):function(kt,Mt,Rt,Dt){for(var Ot=[],Lt=0,Bt={left:0,top:0},Wt=0,vt=zi,Nt=0;Nt<kt;Nt++){var Vt=Rt[Nt];if(Nt===0)Lt=Vt.width,Bt={left:0,top:0},Wt=Vt.height;else switch(Dt){case A.ScrollMode.Wrapped:(Lt+=Vt.width)<Mt.width?(vt={left:Ot[Nt-1].end.left,top:Bt.top},Wt=Math.max(Wt,Vt.height)):(Lt=Vt.width,Bt={left:(vt={left:Bt.left,top:Bt.top+Wt}).left,top:vt.top},Wt=Vt.height);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:vt=Ot[Nt-1].end}var an={left:vt.left+Vt.width,top:vt.top+Vt.height};Ot[Nt]={index:Nt,start:vt,size:Vt,end:an,visibility:-1}}return Ot}(Ae,Tt,We,je)},[je,We,Me,Tt]),ln=nn[Ae-1]?{height:nn[Ae-1].end.top,width:nn[Ae-1].end.left}:Ar;At.current.measurements=nn,At.current.totalSize=ln;var pn=function(kt,Mt,Rt,Dt){var Ot=0;switch(kt){case yt.Horizontal:Ot=Dt.left;break;case yt.Vertical:default:Ot=Dt.top}var Lt=Mt.length-1,Bt=function(an,yn,Mn,zn){for(;an<=yn;){var jn=(an+yn)/2|0,An=zn(jn);if(An<Mn)an=jn+1;else{if(!(An>Mn))return jn;yn=jn-1}}return an>0?an-1:0}(0,Lt,Ot,function(an){switch(kt){case yt.Horizontal:return Mt[an].start.left;case yt.Both:case yt.Vertical:default:return Mt[an].start.top}});if(kt===yt.Both)for(var Wt=Mt[Bt].start.top;Bt-1>=0&&Mt[Bt-1].start.top===Wt&&Mt[Bt-1].start.left>=Dt.left;)Bt--;for(var vt=Bt;vt<=Lt;){var Nt={top:Mt[vt].start.top-Dt.top,left:Mt[vt].start.left-Dt.left},Vt={height:Rt.height-Nt.top,width:Rt.width-Nt.left};if(kt===yt.Horizontal&&Vt.width<0||kt===yt.Vertical&&Vt.height<0||kt===yt.Both&&(Vt.width<0||Vt.height<0))break;vt++}return{start:Bt,end:vt}}(It,At.current.measurements,At.current.parentRect,At.current.scrollOffset),Sn=pn.start,Cn=pn.end,Rn=Kt.slice(ur(0,Ae,Sn),ur(0,Ae,Cn)),rn=Sn+Rn.reduce(function(kt,Mt,Rt,Dt){return Mt>Dt[kt]?Rt:kt},0),En=rn=ur(0,Ae-1,rn),sn=Ie(Sn),mn=Ne(Cn);switch(Me){case A.ViewMode.DualPageWithCover:rn>0&&(En=rn%2==1?rn:rn-1),sn=sn===0?0:sn%2==1?sn:sn-1,Ae-(mn=mn%2==1?mn-1:mn)<=2&&(mn=Ae-1);break;case A.ViewMode.DualPage:En=rn%2==0?rn:rn-1,sn=sn%2==0?sn:sn-1,mn=mn%2==1?mn:mn-1;break;case A.ViewMode.SinglePage:default:En=rn}var Fn=B.useMemo(function(){for(var kt=[],Mt=function(Dt){var Ot=nn[Dt],Lt=ne(ne({},Ot),{visibility:Kt[Dt]!==void 0?Kt[Dt]:-1,measureRef:function(Bt){Bt&&(Bt.setAttribute(Jr,"".concat(Dt)),_n.observe(Bt))}});kt.push(Lt)},Rt=sn;Rt<=mn;Rt++)Mt(Rt);return kt},[sn,mn,Kt,nn]),Tn=B.useCallback(function(kt,Mt){var Rt=At.current.measurements[ur(0,Ae-1,kt)],Dt=mt.current===A.ScrollMode.Page?Zr:Mt;Rt&&xt({left:Dt.left+Rt.start.left,top:Dt.top+Rt.start.top},!0)},[xt]),Pn=B.useCallback(function(kt,Mt){var Rt=At.current.measurements,Dt=Rt[kt].start,Ot=Rt.find(function(Bt){return Bt.start.top-Dt.top>1e-12});if(Ot){var Lt=Ot.index;switch(ut.current){case A.ViewMode.DualPage:Lt=Lt%2==0?Lt:Lt+1;break;case A.ViewMode.DualPageWithCover:Lt=Lt%2==1?Lt:Lt+1}Tn(Lt,Mt)}},[]),Dn=B.useCallback(function(kt,Mt){for(var Rt=At.current.measurements,Dt=Rt[kt].start,Ot=kt,Lt=!1,Bt=Ae-1;Bt>=0;Bt--)if(Dt.top-Rt[Bt].start.top>1e-12){Lt=!0,Ot=Rt[Bt].index;break}if(Lt){switch(ut.current){case A.ViewMode.DualPage:Ot=Ot%2==0?Ot:Ot-1;break;case A.ViewMode.DualPageWithCover:Ot=Ot%2==0?Ot-1:Ot}Ot===kt&&(Ot=kt-1),Tn(Ot,Mt)}},[]),rr=B.useCallback(function(kt,Mt){if(ut.current!==A.ViewMode.DualPageWithCover&&ut.current!==A.ViewMode.DualPage)switch(mt.current){case A.ScrollMode.Wrapped:Pn(kt,Mt);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Tn(kt+1,Mt)}else Pn(kt,Mt)},[]),Nn=B.useCallback(function(kt,Mt){if(ut.current!==A.ViewMode.DualPageWithCover&&ut.current!==A.ViewMode.DualPage)switch(mt.current){case A.ScrollMode.Wrapped:Dn(kt,Mt);break;case A.ScrollMode.Horizontal:case A.ScrollMode.Vertical:default:Tn(kt-1,Mt)}else Dn(kt,Mt)},[]),On=B.useCallback(function(){return function(kt,Mt){switch(Mt){case A.ScrollMode.Horizontal:return{position:"relative",height:"100%",width:"".concat(kt.width,"px")};case A.ScrollMode.Vertical:default:return{position:"relative",height:"".concat(kt.height,"px"),width:"100%"}}}(ln,mt.current)},[ln]),dr=B.useCallback(function(kt){return function(Mt,Rt,Dt){return Dt!==A.ScrollMode.Page?{}:{height:"".concat(Rt.height,"px"),width:"100%",position:"absolute",top:0,transform:"translateY(".concat(Mt.start.top,"px)")}}(kt,Tt,mt.current)},[Tt]),ir=B.useCallback(function(kt){return function(Mt,Rt,Dt,Ot,Lt){var Bt,Wt,vt,Nt,Vt,an,yn,Mn=Rt?"right":"left",zn=Rt?-1:1,jn=Dt.length,An=Mt.start.left*zn,ar=Mt.size,Hn=ar.height,Vn=ar.width;if(Ot===A.ViewMode.DualPageWithCover){var or=Lt===A.ScrollMode.Page?0:Mt.start.top;return Mt.index===0||jn%2==0&&Mt.index===jn-1?((Bt={height:"".concat(Hn,"px"),minWidth:"".concat(Bi(Dt,Ot),"px"),width:"100%"})[Mn]=0,Bt.position="absolute",Bt.top=0,Bt.transform="translate(".concat(An,"px, ").concat(or,"px)"),Bt):((Wt={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,Wt.position="absolute",Wt.top=0,Wt.transform="translate(".concat(An,"px, ").concat(or,"px)"),Wt)}if(Ot===A.ViewMode.DualPage)return(vt={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,vt.position="absolute",vt.top=0,vt.transform="translate(".concat(An,"px, ").concat(Lt===A.ScrollMode.Page?0:Mt.start.top,"px)"),vt;switch(Lt){case A.ScrollMode.Horizontal:return(Nt={height:"100%",width:"".concat(Vn,"px")})[Mn]=0,Nt.position="absolute",Nt.top=0,Nt.transform="translateX(".concat(An,"px)"),Nt;case A.ScrollMode.Page:return(Vt={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,Vt.position="absolute",Vt.top=0,Vt;case A.ScrollMode.Wrapped:return(an={height:"".concat(Hn,"px"),width:"".concat(Vn,"px")})[Mn]=0,an.position="absolute",an.top=0,an.transform="translate(".concat(An,"px, ").concat(Mt.start.top,"px)"),an;case A.ScrollMode.Vertical:default:return(yn={height:"".concat(Hn,"px"),width:"100%"})[Mn]=0,yn.position="absolute",yn.top=0,yn.transform="translateY(".concat(Mt.start.top,"px)"),yn}}(kt,he,We,ut.current,mt.current)},[he,We]),qn=B.useCallback(function(kt,Mt){var Rt=At.current,Dt=Rt.measurements,Ot=Rt.scrollOffset,Lt=Dt[ur(0,Ae-1,Mt)];if(Lt){var Bt=mt.current===A.ScrollMode.Page?{left:Lt.start.left,top:Lt.start.top}:{left:Ot.left*kt,top:Ot.top*kt};xt(Bt,!1)}},[]);return B.useEffect(function(){return function(){_n.disconnect()}},[]),{boundingClientRect:Tt,isSmoothScrolling:Qe,startIndex:Sn,startRange:sn,endIndex:Cn,endRange:mn,maxVisbilityIndex:En,virtualItems:Fn,getContainerStyles:On,getItemContainerStyles:dr,getItemStyles:ir,scrollToItem:Tn,scrollToNextItem:rr,scrollToPreviousItem:Nn,zoom:qn}},wr=function(te,he,Ae,Re,Ie,Ne){var We=Ae;switch(!0){case(Ie===A.ViewMode.DualPageWithCover&&Ne>=3):case(Ie===A.ViewMode.DualPage&&Ne>=3):We=2*Ae;break;default:We=Ae}switch(Re){case A.SpecialZoomLevel.ActualSize:return 1;case A.SpecialZoomLevel.PageFit:return Math.min((te.clientWidth-17)/We,(te.clientHeight-16)/he);case A.SpecialZoomLevel.PageWidth:return(te.clientWidth-17)/We}},Qr=function(te){var he=[];return te.map(function(Ae){he=he.concat(Ae).concat(function(Re){var Ie=[];return Re.items&&Re.items.length>0&&(Ie=Ie.concat(Qr(Re.items))),Ie}(Ae))}),he},qi={buildPageStyles:function(){return{}},transformSize:function(te){return te.size}},nr={left:0,top:0},Gi=function(te){var he=te.currentFile,Ae=te.defaultScale,Re=te.doc,Ie=te.initialPage,Ne=te.initialRotation,We=te.initialScale,je=te.pageLayout,Me=te.pageSizes,qe=te.plugins,Qe=te.renderPage,dt=te.scrollMode,ot=te.viewMode,mt=te.viewerState,ut=te.onDocumentLoad,It=te.onOpenFile,_t=te.onPageChange,Zt=te.onRotate,xt=te.onRotatePage,Tt=te.onZoom,At=Re.numPages,Ft=Re.loadingTask.docId,Qt=B.useContext(ce).l10n,Kt=B.useContext(J),bn=Kt.direction===A.TextDirection.RightToLeft,_n=B.useRef(),nn=B.useRef(),ln=B.useState(Ie),pn=ln[0],Sn=ln[1],Cn=B.useRef(null),Rn=B.useState(Ne),rn=Rn[0],En=Rn[1],sn=X(rn),mn=B.useState(!1),Fn=mn[0],Tn=mn[1],Pn=B.useState(new Map),Dn=Pn[0],rr=Pn[1],Nn=B.useState(dt),On=Nn[0],dr=Nn[1],ir=X(On),qn=B.useState(ot),kt=qn[0],Mt=qn[1],Rt=X(kt),Dt=function(gt){var Ht=W(),qt=B.useState([]),cn=qt[0],on=qt[1];return B.useEffect(function(){gt.getOutline().then(function(Gt){if(Ht.current&&Gt!==null){var wn=Qr(Gt);on(wn)}})},[]),cn}(Re),Ot=B.useState(We),Lt=Ot[0],Bt=Ot[1],Wt=X(Lt),vt=B.useRef(mt),Nt=B.useRef(typeof Ae=="string"?Ae:null),Vt=B.useState(-1),an=Vt[0],yn=Vt[1],Mn=B.useState(0),zn=Mn[0],jn=Mn[1],An=be({doc:Re});B.useEffect(function(){return function(){ve.clear(),Ce.clear()}},[Ft]);var ar,Hn,Vn,or,ri=B.useMemo(function(){return Object.assign({},qi,je)},[]),Ji=B.useMemo(function(){return Array(At).fill(0).map(function(gt,Ht){var qt=[Me[Ht].pageHeight,Me[Ht].pageWidth],cn=Math.abs(rn)%180==0?{height:qt[0],width:qt[1]}:{height:qt[1],width:qt[0]},on={height:cn.height*Lt,width:cn.width*Lt};return ri.transformSize({numPages:At,pageIndex:Ht,size:on})})},[rn,Lt]),Qi=B.useCallback(function(gt){return Math.max(gt-3,0)},[]),ea=B.useCallback(function(gt){return Math.min(gt+3,At-1)},[At]),un=Wi({isRtl:bn,numberOfItems:At,parentRef:nn,scrollMode:On,setStartRange:Qi,setEndRange:ea,sizes:Ji,viewMode:kt}),ta=(ar=function(gt){Nt.current&&(yn(-1),hr(Nt.current))},Hn=200,Vn=B.useRef(),or=function(){Vn.current&&clearTimeout(Vn.current)},B.useEffect(function(){return function(){return or()}},[]),B.useCallback(function(){for(var gt=[],Ht=0;Ht<arguments.length;Ht++)gt[Ht]=arguments[Ht];or(),Vn.current=setTimeout(function(){ar.apply(void 0,gt)},Hn)},[ar,Hn]));(function(gt){var Ht=gt.targetRef,qt=gt.onResize;Y(function(){var cn=new ResizeObserver(function(Gt){Gt.forEach(function(wn){qt(wn.target)})}),on=Ht.current;if(on)return cn.observe(on),function(){cn.unobserve(on)}},[])})({targetRef:nn,onResize:ta});var Gn=function(gt){var Ht=gt;qe.forEach(function(qt){qt.onViewerStateChange&&(Ht=qt.onViewerStateChange(Ht))}),vt.current=Ht},na=function(){return nn.current},ra=function(){return vt.current},ii=B.useCallback(function(gt,Ht,qt,cn){var on=nn.current,Gt=vt.current;on&&Gt&&Je(Re,gt).then(function(wn){var Bn=wn.getViewport({scale:1}),Kn=0,vr=(typeof Ht=="function"?Ht(Bn.width,Bn.height):Ht)||0,br=(typeof qt=="function"?qt(Bn.width,Bn.height):qt)||0,sr=Gt.scale;switch(cn){case A.SpecialZoomLevel.PageFit:Kn=0,br=0,hr(A.SpecialZoomLevel.PageFit);break;case A.SpecialZoomLevel.PageWidth:sr=wr(on,Me[gt].pageHeight,Me[gt].pageWidth,A.SpecialZoomLevel.PageWidth,ot,At),Kn=(Bn.height-vr)*sr,br*=sr,hr(sr);break;default:Kn=(Bn.height-vr)*sr,br*=sr}switch(Gt.scrollMode){case A.ScrollMode.Horizontal:un.scrollToItem(gt,{left:br,top:0});break;case A.ScrollMode.Vertical:default:un.scrollToItem(gt,{left:0,top:Kn})}})},[]),ia=B.useCallback(function(){un.scrollToNextItem(vt.current.pageIndex,nr)},[]),Xn=B.useCallback(function(gt){0<=gt&&gt<At&&un.scrollToItem(gt,nr)},[]),aa=B.useCallback(function(){un.scrollToPreviousItem(vt.current.pageIndex,nr)},[]),ai=B.useCallback(function(gt){var Ht,qt;(Ht=gt.name,qt=Ht.split(/\./).pop(),qt?qt.toLowerCase():"").toLowerCase()==="pdf"&&new Promise(function(cn){var on=new FileReader;on.readAsArrayBuffer(gt),on.onload=function(){var Gt=new Uint8Array(on.result);cn(Gt)}}).then(function(cn){It(gt.name,cn)})},[It]),oi=B.useCallback(function(gt){var Ht=gt===A.RotateDirection.Backward?-90:90,qt=vt.current.rotation,cn=qt===360||qt===-360?Ht:qt+Ht;An.markNotRendered(),En(cn),Gn(ne(ne({},vt.current),{rotation:cn})),Zt({direction:gt,doc:Re,rotation:cn})},[]),$r=B.useCallback(function(gt,Ht){var qt=Ht===A.RotateDirection.Backward?-90:90,cn=vt.current.pagesRotation,on=(cn.has(gt)?cn.get(gt):Ne)+qt,Gt=cn.set(gt,on);rr(Gt),Tn(function(wn){return!wn}),Gn(ne(ne({},vt.current),{pagesRotation:Gt,rotatedPage:gt})),xt({direction:Ht,doc:Re,pageIndex:gt,rotation:on}),An.markRendering(gt),yn(gt)},[]),si=B.useCallback(function(gt){Gn(ne(ne({},vt.current),{scrollMode:gt})),dr(gt)},[]),ci=B.useCallback(function(gt){Gn(ne(ne({},vt.current),{viewMode:gt})),Mt(gt)},[]),hr=B.useCallback(function(gt){var Ht=nn.current,qt=vt.current.pageIndex;if(!(qt<0||qt>=At)){var cn=Me[qt].pageHeight,on=Me[qt].pageWidth,Gt=Ht?typeof gt=="string"?wr(Ht,cn,on,gt,vt.current.viewMode,At):gt:1;Nt.current=typeof gt=="string"?gt:null,Gt!==vt.current.scale&&(jn(function(wn){return wn+1}),An.markNotRendered(),Bt(Gt),Tt({doc:Re,scale:Gt}),Gn(ne(ne({},vt.current),{scale:Gt})))}},[]);B.useEffect(function(){var gt={getPagesContainer:na,getViewerState:ra,jumpToDestination:ii,jumpToNextPage:ia,jumpToPreviousPage:aa,jumpToPage:Xn,openFile:ai,rotate:oi,rotatePage:$r,setViewerState:Gn,switchScrollMode:si,switchViewMode:ci,zoom:hr};return qe.forEach(function(Ht){Ht.install&&Ht.install(gt)}),function(){qe.forEach(function(Ht){Ht.uninstall&&Ht.uninstall(gt)})}},[Ft]),B.useEffect(function(){ut({doc:Re,file:he}),qe.forEach(function(gt){gt.onDocumentLoad&&gt.onDocumentLoad({doc:Re,file:he})})},[Ft]),Y(function(){var gt=un.boundingClientRect;gt.height>0&&gt.width>0&&Ie&&Xn(Ie)},[Ft,un.boundingClientRect]),Y(function(){var gt=vt.current.pageIndex;gt>-1&&ir!==On&&un.scrollToItem(gt,nr)},[On]),Y(function(){var gt=vt.current.pageIndex;gt>-1&&sn!==rn&&un.scrollToItem(gt,nr)},[rn]),Y(function(){Wt!=0&&Wt!=vt.current.scale&&un.zoom(vt.current.scale/Wt,vt.current.pageIndex)},[Lt]),Y(function(){if(Rt!==vt.current.viewMode){var gt=un.startRange,Ht=un.endRange,qt=un.virtualItems;An.markNotRendered(),An.setRange(gt,Ht);for(var cn=function(Gt){var wn=qt.find(function(Bn){return Bn.index===Gt});wn&&An.setVisibility(Gt,wn.visibility)},on=gt;on<=Ht;on++)cn(on);xr()}},[kt]),Y(function(){var gt=vt.current.pageIndex;gt>-1&&Rt!==kt&&un.scrollToItem(gt,nr)},[kt]),B.useEffect(function(){un.isSmoothScrolling||Cn.current!==null&&Cn.current===pn||(Cn.current=pn,_t({currentPage:pn,doc:Re}))},[pn,un.isSmoothScrolling]),B.useEffect(function(){var gt=un.startRange,Ht=un.endRange,qt=un.maxVisbilityIndex,cn=un.virtualItems,on=qt;Sn(on),Gn(ne(ne({},vt.current),{pageIndex:on})),An.setRange(gt,Ht);for(var Gt=function(Bn){var Kn=cn.find(function(vr){return vr.index===Bn});Kn&&An.setVisibility(Bn,Kn.visibility)},wn=gt;wn<=Ht;wn++)Gt(wn);xr()},[un.startRange,un.endRange,un.maxVisbilityIndex,Fn,rn,Lt]);var oa=B.useCallback(function(gt){An.markRendered(gt),xr()},[zn]),xr=function(){var gt=An.getHighestPriorityPage();gt>-1&&An.isInRange(gt)&&(An.markRendering(gt),yn(gt))},sa=function(gt){var Ht=pn-1,qt=pn+1;switch(gt){case"FirstPage":Xn(0);break;case"LastPage":Xn(At-1);break;case"NextPage":qt<At&&Xn(qt);break;case"PrevPage":Ht>=0&&Xn(Ht)}},ca=B.useCallback(function(){var gt=un.virtualItems,Ht=[];switch(kt){case A.ViewMode.DualPage:Ht=ae(gt,2);break;case A.ViewMode.DualPageWithCover:gt.length&&(Ht=gt[0].index===0?[[gt[0]]].concat(ae(gt.slice(1),2)):ae(gt,2));break;case A.ViewMode.SinglePage:default:Ht=ae(gt,1)}var qt=Qt&&Qt.core?Qt.core.pageLabel:"Page {{pageIndex}}",cn={attrs:{"data-testid":"core__inner-container",ref:_n,style:{height:"100%"}},children:B.createElement(B.Fragment,null),subSlot:{attrs:{"data-testid":"core__inner-pages",className:K({"rpv-core__inner-pages":!0,"rpv-core__inner-pages--horizontal":On===A.ScrollMode.Horizontal,"rpv-core__inner-pages--rtl":bn,"rpv-core__inner-pages--single":On===A.ScrollMode.Page,"rpv-core__inner-pages--vertical":On===A.ScrollMode.Vertical,"rpv-core__inner-pages--wrapped":On===A.ScrollMode.Wrapped}),ref:nn,style:{height:"100%",position:"relative"}},children:B.createElement("div",{style:Object.assign({"--scale-factor":Lt},un.getContainerStyles())},Ht.map(function(on){return B.createElement("div",{className:K({"rpv-core__inner-page-container":!0,"rpv-core__inner-page-container--single":On===A.ScrollMode.Page}),style:un.getItemContainerStyles(on[0]),key:"".concat(on[0].index,"-").concat(kt)},on.map(function(Gt){var wn=kt===A.ViewMode.DualPageWithCover&&(Gt.index===0||At%2==0&&Gt.index===At-1);return B.createElement("div",{"aria-label":qt.replace("{{pageIndex}}","".concat(Gt.index+1)),className:K({"rpv-core__inner-page":!0,"rpv-core__inner-page--dual-even":kt===A.ViewMode.DualPage&&Gt.index%2==0,"rpv-core__inner-page--dual-odd":kt===A.ViewMode.DualPage&&Gt.index%2==1,"rpv-core__inner-page--dual-cover":wn,"rpv-core__inner-page--dual-cover-even":kt===A.ViewMode.DualPageWithCover&&!wn&&Gt.index%2==0,"rpv-core__inner-page--dual-cover-odd":kt===A.ViewMode.DualPageWithCover&&!wn&&Gt.index%2==1,"rpv-core__inner-page--single":kt===A.ViewMode.SinglePage&&On===A.ScrollMode.Page}),role:"region",key:"".concat(Gt.index,"-").concat(kt),style:Object.assign({},un.getItemStyles(Gt),ri.buildPageStyles({numPages:At,pageIndex:Gt.index,scrollMode:On,viewMode:kt}))},B.createElement(Fi,{doc:Re,measureRef:Gt.measureRef,outlines:Dt,pageIndex:Gt.index,pageRotation:Dn.has(Gt.index)?Dn.get(Gt.index):0,pageSize:Me[Gt.index],plugins:qe,renderPage:Qe,renderQueueKey:zn,rotation:rn,scale:Lt,shouldRender:an===Gt.index,viewMode:kt,onExecuteNamedAction:sa,onJumpToDest:ii,onRenderCompleted:oa,onRotatePage:$r}))}))}))}};return qe.forEach(function(on){on.renderViewer&&(cn=on.renderViewer({containerRef:_n,doc:Re,pagesContainerRef:nn,pagesRotation:Dn,pageSizes:Me,rotation:rn,slot:cn,themeContext:Kt,jumpToPage:Xn,openFile:ai,rotate:oi,rotatePage:$r,switchScrollMode:si,switchViewMode:ci,zoom:hr}))}),cn},[qe,un]),li=B.useCallback(function(gt){return B.createElement("div",ne({},gt.attrs,{style:gt.attrs&&gt.attrs.style?gt.attrs.style:{}}),gt.children,gt.subSlot&&li(gt.subSlot))},[]);return li(ca())},ei=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],Xi=function(te){var he=te.defaultScale,Ae=te.doc,Re=te.render,Ie=te.scrollMode,Ne=te.viewMode,We=B.useRef(),je=B.useState({pageSizes:[],scale:0}),Me=je[0],qe=je[1];return B.useLayoutEffect(function(){var Qe=Array(Ae.numPages).fill(0).map(function(dt,ot){return new Promise(function(mt,ut){Je(Ae,ot).then(function(It){var _t=It.getViewport({scale:1});mt({pageHeight:_t.height,pageWidth:_t.width,rotation:_t.rotation})})})});Promise.all(Qe).then(function(dt){var ot=We.current;if(ot&&dt.length!==0){var mt=dt[0].pageWidth,ut=dt[0].pageHeight,It=ot.parentElement,_t=(It.clientWidth-45)/mt,Zt=(It.clientHeight-45)/ut,xt=_t;switch(Ie){case A.ScrollMode.Horizontal:xt=Math.min(_t,Zt);break;case A.ScrollMode.Vertical:default:xt=_t}var Tt,At,Ft=he?typeof he=="string"?wr(It,ut,mt,he,Ne,Ae.numPages):he:(Tt=xt,(At=ei.findIndex(function(Qt){return Qt>=Tt}))===-1||At===0?Tt:ei[At-1]);qe({pageSizes:dt,scale:Ft})}})},[Ae.loadingTask.docId]),Me.pageSizes.length===0||Me.scale===0?B.createElement("div",{className:"rpv-core__page-size-calculator","data-testid":"core__page-size-calculating",ref:We},B.createElement(Q,null)):Re(Me.pageSizes,Me.scale)},gr=function(){},kr=function(te){function he(Ae,Re){var Ie=te.call(this)||this;return Ie.verifyPassword=Ae,Ie.passwordStatus=Re,Ie}return de(he,te),he}(gr),Ki=function(te){var he=te.passwordStatus,Ae=te.renderProtectedView,Re=te.verifyPassword,Ie=te.onDocumentAskPassword,Ne=B.useContext(ce).l10n,We=B.useState(""),je=We[0],Me=We[1],qe=B.useContext(J).direction===A.TextDirection.RightToLeft,Qe=function(){return Re(je)};return B.useEffect(function(){Ie&&Ie({verifyPassword:Re})},[]),Ae?Ae({passwordStatus:he,verifyPassword:Re}):B.createElement("div",{className:"rpv-core__asking-password-wrapper"},B.createElement("div",{className:K({"rpv-core__asking-password":!0,"rpv-core__asking-password--rtl":qe})},B.createElement("div",{className:"rpv-core__asking-password-message"},he===A.PasswordStatus.RequiredPassword&&Ne.core.askingPassword.requirePasswordToOpen,he===A.PasswordStatus.WrongPassword&&Ne.core.wrongPassword.tryAgain),B.createElement("div",{className:"rpv-core__asking-password-body"},B.createElement("div",{className:K({"rpv-core__asking-password-input":!0,"rpv-core__asking-password-input--ltr":!qe,"rpv-core__asking-password-input--rtl":qe})},B.createElement(Z,{testId:"core__asking-password-input",type:"password",value:je,onChange:Me,onKeyDown:function(dt){dt.key==="Enter"&&Qe()}})),B.createElement(q,{onClick:Qe},Ne.core.askingPassword.submit))))},ti=function(te){function he(Ae){var Re=te.call(this)||this;return Re.doc=Ae,Re}return de(he,te),he}(gr),ni=function(te){function he(Ae){var Re=te.call(this)||this;return Re.error=Ae,Re}return de(he,te),he}(gr),Pr=function(te){function he(Ae){var Re=te.call(this)||this;return Re.percentages=Ae,Re}return de(he,te),he}(gr),Yi=function(te){var he=te.characterMap,Ae=te.file,Re=te.httpHeaders,Ie=te.render,Ne=te.renderError,We=te.renderLoader,je=te.renderProtectedView,Me=te.transformGetDocumentParams,qe=te.withCredentials,Qe=te.onDocumentAskPassword,dt=B.useContext(J).direction===A.TextDirection.RightToLeft,ot=B.useState(new Pr(0)),mt=ot[0],ut=ot[1],It=B.useRef(""),_t=W();return B.useEffect(function(){It.current="",ut(new Pr(0));var Zt=new ee.PDFWorker({name:"PDFWorker_".concat(Date.now())}),xt=Object.assign({httpHeaders:Re,withCredentials:qe,worker:Zt},typeof Ae=="string"?{url:Ae}:{data:Ae},he?{cMapUrl:he.url,cMapPacked:he.isCompressed}:{}),Tt=Me?Me(xt):xt,At=ee.getDocument(Tt);return At.onPassword=function(Ft,Qt){switch(Qt){case ee.PasswordResponses.NEED_PASSWORD:_t.current&&ut(new kr(Ft,A.PasswordStatus.RequiredPassword));break;case ee.PasswordResponses.INCORRECT_PASSWORD:_t.current&&ut(new kr(Ft,A.PasswordStatus.WrongPassword))}},At.onProgress=function(Ft){var Qt=Ft.total>0?Math.min(100,100*Ft.loaded/Ft.total):100;_t.current&&It.current===""&&ut(new Pr(Qt))},At.promise.then(function(Ft){It.current=Ft.loadingTask.docId,_t.current&&ut(new ti(Ft))},function(Ft){return _t.current&&!Zt.destroyed&&ut(new ni({message:Ft.message||"Cannot load document",name:Ft.name}))}),function(){At.destroy(),Zt.destroy()}},[Ae]),mt instanceof kr?B.createElement(Ki,{passwordStatus:mt.passwordStatus,renderProtectedView:je,verifyPassword:mt.verifyPassword,onDocumentAskPassword:Qe}):mt instanceof ti?Ie(mt.doc):mt instanceof ni?Ne?Ne(mt.error):B.createElement("div",{className:K({"rpv-core__doc-error":!0,"rpv-core__doc-error--rtl":dt})},B.createElement("div",{className:"rpv-core__doc-error-text"},mt.error.message)):B.createElement("div",{"data-testid":"core__doc-loading",className:K({"rpv-core__doc-loading":!0,"rpv-core__doc-loading--rtl":dt})},We?We(mt.percentages):B.createElement(Q,null))},Zi=function(te,he){var Ae=B.useMemo(function(){return te==="auto"?typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":te},[]),Re=B.useState(Ae),Ie=Re[0],Ne=Re[1],We=X(Ie);return B.useEffect(function(){if(te==="auto"){var je=window.matchMedia("(prefers-color-scheme: dark)"),Me=function(qe){Ne(qe.matches?"dark":"light")};return je.addEventListener("change",Me),function(){return je.removeEventListener("change",Me)}}},[]),B.useEffect(function(){Ie!==We&&he&&he(Ie)},[Ie]),B.useEffect(function(){te!==Ie&&Ne(te)},[te]),{currentTheme:Ie,setCurrentTheme:Ne}};A.Button=function(te){var he=te.children,Ae=te.testId,Re=te.onClick,Ie=B.useContext(J).direction===A.TextDirection.RightToLeft,Ne=Ae?{"data-testid":Ae}:{};return B.createElement("button",ne({className:K({"rpv-core__button":!0,"rpv-core__button--rtl":Ie}),type:"button",onClick:Re},Ne),he)},A.Icon=U,A.LazyRender=function(te){var he=te.attrs,Ae=te.children,Re=te.testId,Ie=B.useState(!1),Ne=Ie[0],We=Ie[1],je=Re?ne(ne({},he),{"data-testid":Re}):he,Me=G({once:!0,onVisibilityChanged:function(qe){qe.isVisible&&We(!0)}});return B.createElement("div",ne({ref:Me},je),Ne&&Ae)},A.LocalizationContext=ce,A.Menu=function(te){var he=te.children,Ae=B.useRef(),Re=B.useRef([]),Ie=B.useContext(J).direction===A.TextDirection.RightToLeft,Ne=function(je){if(Ae.current)switch(je.key){case"Tab":je.preventDefault();break;case"ArrowDown":je.preventDefault(),We(function(Me,qe){return qe+1});break;case"ArrowUp":je.preventDefault(),We(function(Me,qe){return qe-1});break;case"End":je.preventDefault(),We(function(Me,qe){return Me.length-1});break;case"Home":je.preventDefault(),We(function(Me,qe){return 0})}},We=function(je){if(Ae.current){var Me=Re.current,qe=Me.findIndex(function(dt){return dt.getAttribute("tabindex")==="0"}),Qe=Math.min(Me.length-1,Math.max(0,je(Me,qe)));qe>=0&&qe<=Me.length-1&&Me[qe].setAttribute("tabindex","-1"),Me[Qe].setAttribute("tabindex","0"),Me[Qe].focus()}};return Y(function(){var je=Ae.current;if(je){var Me=function(qe){var Qe=[];return qe.querySelectorAll('.rpv-core__menu-item[role="menuitem"]').forEach(function(dt){if(dt instanceof HTMLElement){var ot=dt.parentElement;(ot===qe||window.getComputedStyle(ot).display!=="none")&&Qe.push(dt)}}),Qe}(je);Re.current=Me}},[]),Y(function(){return document.addEventListener("keydown",Ne),function(){document.removeEventListener("keydown",Ne)}},[]),B.createElement("div",{ref:Ae,"aria-orientation":"vertical",className:K({"rpv-core__menu":!0,"rpv-core__menu--rtl":Ie}),role:"menu",tabIndex:0},he)},A.MenuDivider=function(){return B.createElement("div",{"aria-orientation":"horizontal",className:"rpv-core__menu-divider",role:"separator"})},A.MenuItem=function(te){var he=te.checked,Ae=he!==void 0&&he,Re=te.children,Ie=te.icon,Ne=Ie===void 0?null:Ie,We=te.isDisabled,je=We!==void 0&&We,Me=te.testId,qe=te.onClick,Qe=B.useContext(J).direction===A.TextDirection.RightToLeft,dt=Me?{"data-testid":Me}:{};return B.createElement("button",ne({className:K({"rpv-core__menu-item":!0,"rpv-core__menu-item--disabled":je,"rpv-core__menu-item--ltr":!Qe,"rpv-core__menu-item--rtl":Qe}),role:"menuitem",tabIndex:-1,type:"button",onClick:qe},dt),B.createElement("div",{className:K({"rpv-core__menu-item-icon":!0,"rpv-core__menu-item-icon--ltr":!Qe,"rpv-core__menu-item-icon--rtl":Qe})},Ne),B.createElement("div",{className:K({"rpv-core__menu-item-label":!0,"rpv-core__menu-item-label--ltr":!Qe,"rpv-core__menu-item-label--rtl":Qe})},Re),B.createElement("div",{className:K({"rpv-core__menu-item-check":!0,"rpv-core__menu-item-check--ltr":!Qe,"rpv-core__menu-item-check--rtl":Qe})},Ae&&B.createElement(V,null)))},A.MinimalButton=function(te){var he=te.ariaLabel,Ae=he===void 0?"":he,Re=te.ariaKeyShortcuts,Ie=Re===void 0?"":Re,Ne=te.children,We=te.isDisabled,je=We!==void 0&&We,Me=te.isSelected,qe=Me!==void 0&&Me,Qe=te.testId,dt=te.onClick,ot=B.useContext(J).direction===A.TextDirection.RightToLeft,mt=Qe?{"data-testid":Qe}:{};return B.createElement("button",ne({"aria-label":Ae},Ie&&{"aria-keyshortcuts":Ie},je&&{"aria-disabled":!0},{className:K({"rpv-core__minimal-button":!0,"rpv-core__minimal-button--disabled":je,"rpv-core__minimal-button--rtl":ot,"rpv-core__minimal-button--selected":qe}),type:"button",onClick:dt},mt),Ne)},A.Modal=function(te){var he=te.ariaControlsSuffix,Ae=te.closeOnClickOutside,Re=te.closeOnEscape,Ie=te.content,Ne=te.isOpened,We=Ne!==void 0&&Ne,je=te.target,Me=he||"".concat(Xe());return B.createElement(Ke,{target:je?function(qe,Qe){return B.createElement("div",{"aria-expanded":Qe?"true":"false","aria-haspopup":"dialog","aria-controls":"rpv-core__modal-body-".concat(Me)},je(qe,Qe))}:null,content:function(qe){return B.createElement(xe,null,B.createElement(Fe,{ariaControlsSuffix:Me,closeOnClickOutside:Ae,closeOnEscape:Re,onToggle:qe},Ie(qe)))},isOpened:We})},A.Popover=function(te){var he=te.ariaHasPopup,Ae=he===void 0?"dialog":he,Re=te.ariaControlsSuffix,Ie=te.closeOnClickOutside,Ne=te.closeOnEscape,We=te.content,je=te.lockScroll,Me=je===void 0||je,qe=te.offset,Qe=te.position,dt=te.target,ot=et(!1),mt=ot.opened,ut=ot.toggle,It=B.useRef(),_t=B.useMemo(function(){return Re||"".concat(Xe())},[]);return B.createElement("div",{ref:It,"aria-expanded":mt?"true":"false","aria-haspopup":Ae,"aria-controls":"rpv-core__popver-body-".concat(_t)},dt(ut,mt),mt&&B.createElement(B.Fragment,null,Me&&B.createElement(Ze,{closeOnEscape:Ne,onClose:ut}),B.createElement(rt,{ariaControlsSuffix:_t,closeOnClickOutside:Ie,offset:qe,position:Qe,targetRef:It,onClose:ut},We(ut))))},A.PrimaryButton=q,A.ProgressBar=function(te){var he=te.progress,Ae=B.useContext(J).direction===A.TextDirection.RightToLeft;return B.createElement("div",{className:K({"rpv-core__progress-bar":!0,"rpv-core__progress-bar--rtl":Ae})},B.createElement("div",{className:"rpv-core__progress-bar-progress",style:{width:"".concat(he,"%")}},he,"%"))},A.Separator=function(){return B.createElement("div",{className:"rpv-core__separator"})},A.Spinner=Q,A.Splitter=function(te){var he=te.constrain,Ae=B.useContext(J).direction===A.TextDirection.RightToLeft,Re=B.useRef(),Ie=B.useRef(),Ne=B.useRef(),We=B.useRef(0),je=B.useRef(0),Me=B.useRef(0),qe=B.useRef(0),Qe={capture:!0},dt=function(mt){var ut=Re.current,It=Ie.current,_t=Ne.current;if(ut&&It&&_t){var Zt=qe.current,xt=mt.clientX-We.current,Tt=Me.current+(Ae?-xt:xt),At=ut.parentElement.getBoundingClientRect().width,Ft=100*Tt/At;if(ut.classList.add("rpv-core__splitter--resizing"),he){var Qt=At-Tt-Zt;if(!he({firstHalfPercentage:Ft,firstHalfSize:Tt,secondHalfPercentage:100*Qt/At,secondHalfSize:Qt}))return}It.style.width="".concat(Ft,"%"),document.body.classList.add("rpv-core__splitter-body--resizing"),It.classList.add("rpv-core__splitter-sibling--resizing"),_t.classList.add("rpv-core__splitter-sibling--resizing")}},ot=function(mt){var ut=Re.current,It=Ie.current,_t=Ne.current;ut&&It&&_t&&(document.body.classList.remove("rpv-core__splitter-body--resizing"),ut.classList.remove("rpv-core__splitter--resizing"),It.classList.remove("rpv-core__splitter-sibling--resizing"),_t.classList.remove("rpv-core__splitter-sibling--resizing"),document.removeEventListener("mousemove",dt,Qe),document.removeEventListener("mouseup",ot,Qe))};return B.useEffect(function(){var mt=Re.current;mt&&(qe.current=mt.getBoundingClientRect().width,Ie.current=mt.previousElementSibling,Ne.current=mt.nextElementSibling)},[]),B.createElement("div",{ref:Re,className:"rpv-core__splitter",onMouseDown:function(mt){var ut=Ie.current;ut&&(We.current=mt.clientX,je.current=mt.clientY,Me.current=ut.getBoundingClientRect().width,document.addEventListener("mousemove",dt,Qe),document.addEventListener("mouseup",ot,Qe))}})},A.TextBox=Z,A.ThemeContext=J,A.Tooltip=function(te){var he=te.ariaControlsSuffix,Ae=te.content,Re=te.offset,Ie=te.position,Ne=te.target,We=et(!1),je=We.opened,Me=We.toggle,qe=B.useRef(),Qe=B.useRef(),dt=B.useMemo(function(){return he||"".concat(Xe())},[]);Ge(function(){qe.current&&document.activeElement&&qe.current.contains(document.activeElement)&&mt()});var ot=function(){Me(A.ToggleStatus.Open)},mt=function(){Me(A.ToggleStatus.Close)};return B.createElement(B.Fragment,null,B.createElement("div",{ref:qe,"aria-describedby":"rpv-core__tooltip-body-".concat(dt),onBlur:function(ut){ut.relatedTarget instanceof HTMLElement&&ut.currentTarget.parentElement&&ut.currentTarget.parentElement.contains(ut.relatedTarget)?Qe.current&&(Qe.current.style.display="none"):mt()},onFocus:ot,onMouseEnter:ot,onMouseLeave:mt},Ne),je&&B.createElement(tt,{ariaControlsSuffix:dt,contentRef:Qe,offset:Re,position:Ie,targetRef:qe},Ae()))},A.Viewer=function(te){var he=te.characterMap,Ae=te.defaultScale,Re=te.fileUrl,Ie=te.httpHeaders,Ne=Ie===void 0?{}:Ie,We=te.initialPage,je=We===void 0?0:We,Me=te.pageLayout,qe=te.initialRotation,Qe=qe===void 0?0:qe,dt=te.localization,ot=te.plugins,mt=ot===void 0?[]:ot,ut=te.renderError,It=te.renderLoader,_t=te.renderPage,Zt=te.renderProtectedView,xt=te.scrollMode,Tt=xt===void 0?A.ScrollMode.Vertical:xt,At=te.transformGetDocumentParams,Ft=te.theme,Qt=Ft===void 0?{direction:A.TextDirection.LeftToRight,theme:"light"}:Ft,Kt=te.viewMode,bn=Kt===void 0?A.ViewMode.SinglePage:Kt,_n=te.withCredentials,nn=_n!==void 0&&_n,ln=te.onDocumentAskPassword,pn=te.onDocumentLoad,Sn=pn===void 0?function(){}:pn,Cn=te.onPageChange,Rn=Cn===void 0?function(){}:Cn,rn=te.onRotate,En=rn===void 0?function(){}:rn,sn=te.onRotatePage,mn=sn===void 0?function(){}:sn,Fn=te.onSwitchTheme,Tn=Fn===void 0?function(){}:Fn,Pn=te.onZoom,Dn=Pn===void 0?function(){}:Pn,rr=B.useState({data:Re,name:typeof Re=="string"?Re:"",shouldLoad:!1}),Nn=rr[0],On=rr[1],dr=function(Nt,Vt){On({data:Vt,name:Nt,shouldLoad:!0})},ir=B.useState(!1),qn=ir[0],kt=ir[1],Mt=X(Nn);B.useEffect(function(){var Nt,Vt,an,yn;Nt=Mt.data,yn=typeof(Vt=Re),(an=typeof Nt)=="string"&&yn==="string"&&Nt===Vt||an==="object"&&yn==="object"&&Nt.length===Vt.length&&Nt.every(function(Mn,zn){return Mn===Vt[zn]})||On({data:Re,name:typeof Re=="string"?Re:"",shouldLoad:qn})},[Re,qn]);var Rt=G({onVisibilityChanged:function(Nt){kt(Nt.isVisible),Nt.isVisible&&On(function(Vt){return Object.assign({},Vt,{shouldLoad:!0})})}}),Dt=typeof Qt=="string"?{direction:A.TextDirection.LeftToRight,theme:Qt}:Qt,Ot=B.useState(dt||we),Lt=Ot[0],Bt=Ot[1],Wt={l10n:Lt,setL10n:Bt},vt=Object.assign({},{direction:Dt.direction},Zi(Dt.theme||"light",Tn));return B.useEffect(function(){dt&&Bt(dt)},[dt]),B.createElement(ce.Provider,{value:Wt},B.createElement(J.Provider,{value:vt},B.createElement("div",{ref:Rt,className:"rpv-core__viewer rpv-core__viewer--".concat(vt.currentTheme),"data-testid":"core__viewer",style:{height:"100%",width:"100%"}},Nn.shouldLoad&&B.createElement(Yi,{characterMap:he,file:Nn.data,httpHeaders:Ne,render:function(Nt){return B.createElement(Xi,{defaultScale:Ae,doc:Nt,render:function(Vt,an){return B.createElement(Gi,{currentFile:{data:Nn.data,name:Nn.name},defaultScale:Ae,doc:Nt,initialPage:je,initialRotation:Qe,initialScale:an,pageLayout:Me,pageSizes:Vt,plugins:mt,renderPage:_t,scrollMode:Tt,viewMode:bn,viewerState:{file:Nn,pageIndex:-1,pageHeight:Vt[0].pageHeight,pageWidth:Vt[0].pageWidth,pagesRotation:new Map,rotation:Qe,scale:an,scrollMode:Tt,viewMode:bn},onDocumentLoad:Sn,onOpenFile:dr,onPageChange:Rn,onRotate:En,onRotatePage:mn,onZoom:Dn})},scrollMode:Tt,viewMode:bn})},renderError:ut,renderLoader:It,renderProtectedView:Zt,transformGetDocumentParams:At,withCredentials:nn,onDocumentAskPassword:ln}))))},A.Worker=function(te){var he=te.children,Ae=te.workerUrl;return ee.GlobalWorkerOptions.workerSrc=Ae,B.createElement(B.Fragment,null,he)},A.chunk=ae,A.classNames=K,A.createStore=function(te){var he=te||{},Ae={},Re=function(Ne,We){var je;he=ne(ne({},he),((je={})[Ne]=We,je)),(Ae[Ne]||[]).forEach(function(Me){return Me(he[Ne])})},Ie=function(Ne){return he[Ne]};return{subscribe:function(Ne,We){Ae[Ne]=(Ae[Ne]||[]).concat(We)},unsubscribe:function(Ne,We){Ae[Ne]=(Ae[Ne]||[]).filter(function(je){return je!==We})},update:function(Ne,We){Re(Ne,We)},updateCurrentValue:function(Ne,We){var je=Ie(Ne);je!==void 0&&Re(Ne,We(je))},get:function(Ne){return Ie(Ne)}}},A.getDestination=st,A.getPage=Je,A.isMac=function(){return typeof window<"u"&&/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)},A.useIntersectionObserver=G,A.useIsMounted=W,A.useIsomorphicLayoutEffect=Y,A.usePrevious=X,A.useRenderQueue=be})(core_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=core_min})(lib$h);var libExports$g={},lib$g={get exports(){return libExports$g},set exports(A){libExports$g=A}},defaultLayout_min={},libExports$f={},lib$f={get exports(){return libExports$f},set exports(A){libExports$f=A}},attachment_min={},e$e=libExports$h;function t$e(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$e=t$e(reactExports),a$e=function(A){var $=A.files,H=n$e.useRef(),O=n$e.useContext(e$e.LocalizationContext).l10n,R=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,B=n$e.useRef([]),ee=O&&O.attachment?O.attachment.clickToDownload:"Click to download",se=function(de){var ie=H.current,ne=[].slice.call(ie.getElementsByClassName("rpv-attachment__item"));if(ne.length!==0){ne.forEach(function(K){return K.setAttribute("tabindex","-1")});var pe=document.activeElement,J=ne[Math.min(ne.length-1,Math.max(0,de(ne,pe)))];J.setAttribute("tabindex","0"),J.focus()}};return e$e.useIsomorphicLayoutEffect(function(){var de=H.current;if(de){var ie=[].slice.call(de.getElementsByClassName("rpv-attachment__item"));if(B.current=ie,ie.length>0){var ne=ie[0];ne.focus(),ne.setAttribute("tabindex","0")}}},[]),n$e.createElement("div",{"data-testid":"attachment__list",className:e$e.classNames({"rpv-attachment__list":!0,"rpv-attachment__list--rtl":R}),ref:H,tabIndex:-1,onKeyDown:function(de){switch(de.key){case"ArrowDown":de.preventDefault(),se(function(ie,ne){return ie.indexOf(ne)+1});break;case"ArrowUp":de.preventDefault(),se(function(ie,ne){return ie.indexOf(ne)-1});break;case"End":de.preventDefault(),se(function(ie,ne){return ie.length-1});break;case"Home":de.preventDefault(),se(function(ie,ne){return 0})}}},$.map(function(de){return n$e.createElement("button",{className:"rpv-attachment__item",key:de.fileName,tabIndex:-1,title:ee,type:"button",onClick:function(){return ie=de.fileName,ne=de.data,pe=typeof ne=="string"?"":URL.createObjectURL(new Blob([ne],{type:""})),(J=document.createElement("a")).style.display="none",J.href=pe||ie,J.setAttribute("download",function(K){var Y=K.split("/").pop();return Y?Y.split("#")[0].split("?")[0]:K}(ie)),document.body.appendChild(J),J.click(),document.body.removeChild(J),void(pe&&URL.revokeObjectURL(pe));var ie,ne,pe,J}},de.fileName)}))},r$e=function(A){var $=A.doc,H=n$e.useContext(e$e.LocalizationContext).l10n,O=n$e.useContext(e$e.ThemeContext).direction===e$e.TextDirection.RightToLeft,R=H&&H.attachment?H.attachment.noAttachment:"There is no attachment",B=n$e.useState({files:[],isLoaded:!1}),ee=B[0],se=B[1];return n$e.useEffect(function(){$.getAttachments().then(function(de){var ie=de?Object.keys(de).map(function(ne){return{data:de[ne].content,fileName:de[ne].filename}}):[];se({files:ie,isLoaded:!0})})},[$]),ee.isLoaded?ee.files.length===0?n$e.createElement("div",{"data-testid":"attachment__empty",className:e$e.classNames({"rpv-attachment__empty":!0,"rpv-attachment__empty--rtl":O})},R):n$e.createElement(a$e,{files:ee.files}):n$e.createElement(e$e.Spinner,null)},c$e=function(A){var $=A.store,H=n$e.useState($.get("doc")),O=H[0],R=H[1],B=function(ee){R(ee)};return n$e.useEffect(function(){return $.subscribe("doc",B),function(){$.unsubscribe("doc",B)}},[]),O?n$e.createElement(r$e,{doc:O}):n$e.createElement("div",{className:"rpv-attachment__loader"},n$e.createElement(e$e.Spinner,null))};attachment_min.attachmentPlugin=function(){var A=n$e.useMemo(function(){return e$e.createStore({})},[]);return{onDocumentLoad:function($){A.update("doc",$.doc)},Attachments:function(){return n$e.createElement(c$e,{store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=attachment_min})(lib$f);var libExports$e={},lib$e={get exports(){return libExports$e},set exports(A){libExports$e=A}},bookmark_min={},e$d=libExports$h;function t$d(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$d,r$d=t$d(reactExports),n$d=function(){return r$d.createElement(e$d.Icon,{size:16},r$d.createElement("path",{d:"M6.427,8.245A.5.5,0,0,1,6.862,7.5H17.138a.5.5,0,0,1,.435.749l-5.139,9a.5.5,0,0,1-.868,0Z"}))},a$d=function(){return r$d.createElement(e$d.Icon,{size:16},r$d.createElement("path",{d:"M9.248,17.572a.5.5,0,0,1-.748-.434V6.862a.5.5,0,0,1,.748-.434l8.992,5.138a.5.5,0,0,1,0,.868Z"}))},i$d=function(A){var $=A.bookmark,H=A.depth,O=A.doc,R=A.index,B=A.isBookmarkExpanded,ee=A.numberOfSiblings,se=A.pathFromRoot,de=A.renderBookmarkItem,ie=A.store,ne=A.onJumpToDest,pe=se?"".concat(se,".").concat(R):"".concat(R),J=r$d.useMemo(function(){return function(be){var we=be.count,ce=be.items;if(we>=0)return!1;var $e=ce.length;if($e===0)return!1;for(var Xe=ce.concat([]);Xe.length>0;){var De=Xe.shift(),Ge=De.items;De.count&&Ge&&De.count>0&&Ge.length>0&&($e+=Ge.length,Xe=Xe.concat(Ge))}return Math.abs(we)===$e}($)},[$]),K=ie.get("bookmarkExpandedMap"),Y=B?B({bookmark:$,doc:O,depth:H,index:R}):K.has(pe)?K.get(pe):!J,G=r$d.useState(Y),U=G[0],V=G[1],q=$.items&&$.items.length>0,Q=function(){var be=!U;ie.updateCurrentValue("bookmarkExpandedMap",function(we){return we.set(pe,be)}),V(be)},Z=function(){q&&$.dest&&ne($.dest)},W=function(){!q&&$.dest&&ne($.dest)},X=function(be,we){return r$d.createElement("div",{className:"rpv-bookmark__item",style:{paddingLeft:"".concat(1.25*H,"rem")},onClick:be},we)},ue=function(be,we){return q?r$d.createElement("span",{className:"rpv-bookmark__toggle","data-testid":"bookmark__toggle-".concat(H,"-").concat(R),onClick:Q},U?be:we):r$d.createElement("span",{className:"rpv-bookmark__toggle"})},_e=function(be){return $.url?r$d.createElement("a",{className:"rpv-bookmark__title",href:$.url,rel:"noopener noreferrer nofollow",target:$.newWindow?"_blank":""},$.title):r$d.createElement("div",{className:"rpv-bookmark__title","aria-label":$.title,onClick:be},$.title)};return r$d.createElement("li",{"aria-expanded":U?"true":"false","aria-label":$.title,"aria-level":H+1,"aria-posinset":R+1,"aria-setsize":ee,role:"treeitem",tabIndex:-1},de?de({bookmark:$,depth:H,hasSubItems:q,index:R,isExpanded:U,path:pe,defaultRenderItem:X,defaultRenderTitle:_e,defaultRenderToggle:ue,onClickItem:W,onClickTitle:Z,onToggleSubItems:Q}):X(W,r$d.createElement(r$d.Fragment,null,ue(r$d.createElement(n$d,null),r$d.createElement(a$d,null)),_e(Z))),q&&U&&r$d.createElement(c$d,{bookmarks:$.items,depth:H+1,doc:O,isBookmarkExpanded:B,isRoot:!1,pathFromRoot:pe,renderBookmarkItem:de,store:ie,onJumpToDest:ne}))},c$d=function(A){var $=A.bookmarks,H=A.depth,O=H===void 0?0:H,R=A.doc,B=A.isBookmarkExpanded,ee=A.isRoot,se=A.pathFromRoot,de=A.renderBookmarkItem,ie=A.store,ne=A.onJumpToDest;return r$d.createElement("ul",{className:"rpv-bookmark__list",role:ee?"tree":"group",tabIndex:-1},$.map(function(pe,J){return r$d.createElement(i$d,{bookmark:pe,depth:O,doc:R,index:J,isBookmarkExpanded:B,key:J,numberOfSiblings:$.length,pathFromRoot:se,renderBookmarkItem:de,store:ie,onJumpToDest:ne})}))};(function(A){A[A.Collapse=0]="Collapse",A[A.Expand=1]="Expand"})(o$d||(o$d={}));var m$9=function(A){var $=A.bookmarks,H=A.doc,O=A.isBookmarkExpanded,R=A.renderBookmarkItem,B=A.store,ee=A.onJumpToDest,se=r$d.useRef(),de=function(J){var K=se.current;if(K&&J.target instanceof HTMLElement&&K.contains(J.target))switch(J.key){case"ArrowDown":J.preventDefault(),ne(function(Y,G){return Y.indexOf(G)+1});break;case"ArrowLeft":J.preventDefault(),pe(o$d.Collapse);break;case"ArrowRight":J.preventDefault(),pe(o$d.Expand);break;case"ArrowUp":J.preventDefault,ne(function(Y,G){return Y.indexOf(G)-1});break;case"End":J.preventDefault(),ne(function(Y,G){return Y.length-1});break;case" ":case"Enter":case"Space":J.preventDefault(),ie();break;case"Home":J.preventDefault(),ne(function(Y,G){return 0})}},ie=function(){var J=document.activeElement.closest(".rpv-bookmark__item").querySelector(".rpv-bookmark__title");J&&J.click()},ne=function(J){var K=se.current,Y=[].slice.call(K.getElementsByClassName("rpv-bookmark__item"));if(Y.length!==0){var G=document.activeElement,U=Y[Math.min(Y.length-1,Math.max(0,J(Y,G)))];G.setAttribute("tabindex","-1"),U.setAttribute("tabindex","0"),U.focus()}},pe=function(J){var K=se.current;if([].slice.call(K.getElementsByClassName("rpv-bookmark__item")).length!==0){var Y=document.activeElement.closest(".rpv-bookmark__item"),G=J===o$d.Collapse?"true":"false";if(Y&&Y.parentElement.getAttribute("aria-expanded")===G){var U=Y.querySelector(".rpv-bookmark__toggle");U&&U.click()}}};return r$d.useEffect(function(){return document.addEventListener("keydown",de),function(){document.removeEventListener("keydown",de)}},[]),r$d.useEffect(function(){var J=se.current;if(J){var K=[].slice.call(J.getElementsByClassName("rpv-bookmark__item"));K.length>0&&(K[0].focus(),K[0].setAttribute("tabindex","0"))}},[]),r$d.createElement("div",{ref:se},r$d.createElement(c$d,{bookmarks:$,depth:0,doc:H,isBookmarkExpanded:O,isRoot:!0,pathFromRoot:"",renderBookmarkItem:R,store:B,onJumpToDest:function(J){e$d.getDestination(H,J).then(function(K){var Y=K.pageIndex,G=K.bottomOffset,U=K.leftOffset,V=K.scaleTo;ee(Y,G,U,V)})}}))},s$9=function(A){var $=A.doc,H=A.isBookmarkExpanded,O=A.renderBookmarkItem,R=A.store,B=A.onJumpToDest,ee=r$d.useContext(e$d.LocalizationContext).l10n,se=r$d.useContext(e$d.ThemeContext).direction===e$d.TextDirection.RightToLeft,de=r$d.useState({isLoaded:!1,items:[]}),ie=de[0],ne=de[1];return r$d.useEffect(function(){ne({isLoaded:!1,items:[]}),$.getOutline().then(function(pe){ne({isLoaded:!0,items:pe||[]})})},[$]),ie.isLoaded?ie.items.length===0?r$d.createElement("div",{"data-testid":"bookmark__empty",className:e$d.classNames({"rpv-bookmark__empty":!0,"rpv-bookmark__empty--rtl":se})},ee&&ee.bookmark?ee.bookmark.noBookmark:"There is no bookmark"):r$d.createElement("div",{"data-testid":"bookmark__container",className:e$d.classNames({"rpv-bookmark__container":!0,"rpv-bookmark__container--rtl":se})},r$d.createElement(m$9,{bookmarks:ie.items,doc:$,isBookmarkExpanded:H,renderBookmarkItem:O,store:R,onJumpToDest:B})):r$d.createElement("div",{className:"rpv-bookmark__loader"},r$d.createElement(e$d.Spinner,null))},l$d=function(A){var $=A.isBookmarkExpanded,H=A.renderBookmarkItem,O=A.store,R=r$d.useState(O.get("doc")),B=R[0],ee=R[1],se=function(de){ee(de)};return r$d.useEffect(function(){return O.subscribe("doc",se),function(){O.unsubscribe("doc",se)}},[]),B?r$d.createElement(s$9,{doc:B,isBookmarkExpanded:$,renderBookmarkItem:H,store:O,onJumpToDest:function(de,ie,ne,pe){var J=O.get("jumpToDestination");J&&J(de,ie,ne,pe)}}):r$d.createElement("div",{className:"rpv-bookmark__loader"},r$d.createElement(e$d.Spinner,null))};bookmark_min.DownArrowIcon=n$d,bookmark_min.RightArrowIcon=a$d,bookmark_min.bookmarkPlugin=function(){var A=r$d.useMemo(function(){return e$d.createStore({bookmarkExpandedMap:new Map})},[]);return{install:function($){A.update("jumpToDestination",$.jumpToDestination)},onDocumentLoad:function($){A.update("doc",$.doc)},Bookmarks:function($){return r$d.createElement(l$d,{isBookmarkExpanded:$==null?void 0:$.isBookmarkExpanded,renderBookmarkItem:$==null?void 0:$.renderBookmarkItem,store:A})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=bookmark_min})(lib$e);var libExports$d={},lib$d={get exports(){return libExports$d},set exports(A){libExports$d=A}},thumbnail_min={};(function(A){var $=libExports$h;function H(G){var U=Object.create(null);return G&&Object.keys(G).forEach(function(V){if(V!=="default"){var q=Object.getOwnPropertyDescriptor(G,V);Object.defineProperty(U,V,q.get?q:{enumerable:!0,get:function(){return G[V]}})}}),U.default=G,Object.freeze(U)}var O,R=H(reactExports);A.ThumbnailDirection=void 0,(O=A.ThumbnailDirection||(A.ThumbnailDirection={})).Horizontal="Horizontal",O.Vertical="Vertical";var B=function(){return B=Object.assign||function(G){for(var U,V=1,q=arguments.length;V<q;V++)for(var Q in U=arguments[V])Object.prototype.hasOwnProperty.call(U,Q)&&(G[Q]=U[Q]);return G},B.apply(this,arguments)},ee=function(G){var U=G.doc,V=G.getPageIndex,q=G.renderSpinner,Q=G.store,Z=U.numPages,W=V?V({numPages:Z}):0,X=Math.max(0,Math.min(W,Z-1)),ue=Q.get("pagesRotation")||new Map,_e=ue.has(X)?ue.get(X):0,be=R.useState(""),we=be[0],ce=be[1],$e=$.useIsMounted(),Xe=R.useRef(),De=R.useState(Q.get("rotation")||0),Ge=De[0],Fe=De[1],xe=R.useState(_e),Te=xe[0],et=xe[1],Ke=R.useState(!1),ye=Ke[0],oe=Ke[1],re=function(Ee){var Pe=Ee.has(X)?Ee.get(X):0;et(Pe)},fe=function(Ee){Fe(Ee)},Se=$.useIntersectionObserver({onVisibilityChanged:function(Ee){oe(Ee.isVisible)}});return R.useEffect(function(){if(ye){var Ee=Se.current;Ee&&(ce(""),$.getPage(U,X).then(function(Pe){var Oe=Pe.getViewport({scale:1}),He=(Oe.rotation+Ge+Te)%360,rt=Math.abs(Ge+Te)%180==0,Ze=rt?Oe.width:Oe.height,tt=rt?Oe.height:Oe.width,ze=document.createElement("canvas"),ae=ze.getContext("2d",{alpha:!1}),le=Ee.clientWidth,ve=Ee.clientHeight,Ce=Math.min(le/Ze,ve/tt),ge=Ce*Ze,ke=Ce*tt;ze.height=ke,ze.width=ge,ze.style.opacity="0";var Je=Pe.getViewport({rotation:He,scale:Ce});Xe.current=Pe.render({canvasContext:ae,viewport:Je}),Xe.current.promise.then(function(){$e.current&&ce(ze.toDataURL()),ze.width=0,ze.height=0},function(){})}))}},[Te,ye]),R.useEffect(function(){return Q.subscribe("pagesRotation",re),Q.subscribe("rotation",fe),function(){Q.unsubscribe("pagesRotation",re),Q.unsubscribe("rotation",fe)}},[]),R.useEffect(function(){return function(){var Ee;(Ee=Xe.current)===null||Ee===void 0||Ee.cancel()}},[]),R.createElement("div",{ref:Se,className:"rpv-thumbnail__cover-inner","data-testid":"thumbnail__cover-inner"},we?R.createElement("img",{className:"rpv-thumbnail__cover-image","data-testid":"thumbnail__cover-image",src:we}):R.createElement("div",{className:"rpv-thumbnail__cover-loader","data-testid":"thumbnail__cover-loader"},q?q():R.createElement($.Spinner,null)))},se=function(G){var U=G.getPageIndex,V=G.renderSpinner,q=G.store,Q=R.useState(q.get("doc")),Z=Q[0],W=Q[1],X=function(ue){W(ue)};return R.useEffect(function(){return q.subscribe("doc",X),function(){q.unsubscribe("doc",X)}},[]),R.createElement("div",{className:"rpv-thumbnail__cover"},Z?R.createElement(ee,{doc:Z,getPageIndex:U,renderSpinner:V,store:q}):R.createElement("div",{className:"rpv-thumbnail__cover-loader"},V?V():R.createElement($.Spinner,null)))},de=function(){return R.createElement($.Spinner,null)},ie=R.createContext({renderSpinner:de}),ne=function(G){var U=G.children,V=G.doc,q=$.useIsMounted(),Q=R.useState({loading:!0,labels:[]}),Z=Q[0],W=Q[1];return R.useEffect(function(){V.getPageLabels().then(function(X){q.current&&W({loading:!1,labels:X||[]})})},[V.loadingTask.docId]),Z.loading?R.createElement(R.Fragment,null):U(Z.labels)},pe=function(G){var U=G.page,V=G.pageHeight,q=G.pageIndex,Q=G.pageWidth,Z=G.rotation,W=G.thumbnailHeight,X=G.thumbnailWidth,ue=G.onRenderCompleted,_e=R.useContext($.LocalizationContext).l10n,be=R.useRef(),we=R.useState(""),ce=we[0],$e=we[1],Xe=_e&&_e.thumbnail?_e.thumbnail.thumbnailLabel:"Thumbnail of page {{pageIndex}}";return R.useEffect(function(){var De=be.current;De&&De.cancel();var Ge=document.createElement("canvas"),Fe=Ge.getContext("2d",{alpha:!1}),xe=X,Te=xe/(Q/V),et=xe/Q;Ge.height=Te,Ge.width=xe,Ge.style.height="".concat(Te,"px"),Ge.style.width="".concat(xe,"px");var Ke=U.getViewport({rotation:Z,scale:et});return be.current=U.render({canvasContext:Fe,viewport:Ke}),be.current.promise.then(function(){$e(Ge.toDataURL()),ue(q)},function(){ue(q)}),function(){var ye;(ye=be.current)===null||ye===void 0||ye.cancel()}},[Z]),ce?R.createElement("img",{"aria-label":Xe.replace("{{pageIndex}}","".concat(q+1)),src:ce,height:"".concat(W,"px"),width:"".concat(X,"px")}):R.useContext(ie).renderSpinner()},J=function(G){var U=G.doc,V=G.pageHeight,q=G.pageIndex,Q=G.pageRotation,Z=G.pageWidth,W=G.rotation,X=G.shouldRender,ue=G.thumbnailWidth,_e=G.onRenderCompleted,be=G.onVisibilityChanged,we=$.useIsMounted(),ce=R.useState({height:V,page:null,viewportRotation:0,width:Z}),$e=ce[0],Xe=ce[1],De=$e.page,Ge=$e.height,Fe=$e.width,xe=Fe/Ge,Te=Math.abs(W+Q)%180==0,et=Te?ue:ue/xe,Ke=Te?ue/xe:ue;R.useEffect(function(){X&&$.getPage(U,q).then(function(re){var fe=re.getViewport({scale:1});we.current&&Xe({height:fe.height,page:re,viewportRotation:fe.rotation,width:fe.width})})},[X]);var ye=($e.viewportRotation+W+Q)%360,oe=$.useIntersectionObserver({onVisibilityChanged:function(re){be(q,re)}});return R.createElement("div",{className:"rpv-thumbnail__container","data-testid":"thumbnail__container-".concat(q),ref:oe,style:{height:"".concat(Ke,"px"),width:"".concat(et,"px")}},De?R.createElement(pe,{page:De,pageHeight:Te?Ge:Fe,pageIndex:q,pageWidth:Te?Fe:Ge,rotation:ye,thumbnailHeight:Ke,thumbnailWidth:et,onRenderCompleted:_e}):R.useContext(ie).renderSpinner())},K=function(G){var U=G.currentPage,V=G.doc,q=G.labels,Q=G.pagesRotation,Z=G.pageHeight,W=G.pageWidth,X=G.renderCurrentPageLabel,ue=G.renderThumbnailItem,_e=G.rotatedPage,be=G.rotation,we=G.thumbnailDirection,ce=G.thumbnailWidth,$e=G.viewMode,Xe=G.onJumpToPage,De=G.onRotatePage,Ge=V.numPages,Fe=V.loadingTask.docId,xe=R.useRef(null),Te=R.useRef([]),et=R.useState(U),Ke=et[0],ye=et[1],oe=R.useContext($.ThemeContext).direction===$.TextDirection.RightToLeft,re=R.useState(-1),fe=re[0],Se=re[1],Ee=$.useIsMounted(),Pe=$.usePrevious($e),Oe=R.useRef(!1),He=$.useRenderQueue({doc:V}),rt=R.useMemo(function(){return Array(Ge).fill(0).map(function(ge,ke){return ke})},[Fe]),Ze=R.useMemo(function(){switch($e){case $.ViewMode.DualPage:return $.chunk(rt,2);case $.ViewMode.DualPageWithCover:return[[rt[0]]].concat($.chunk(rt.slice(1),2));case $.ViewMode.SinglePage:default:return $.chunk(rt,1)}},[Fe,$e]),tt=function(){if(xe.current){var ge=Te.current,ke=Ke+1;ke<ge.length&&(Ke>=0&&ge[Ke].setAttribute("tabindex","-1"),ye(ke))}},ze=function(){if(xe.current){var ge=Te.current,ke=Ke-1;ke>=0&&(Ke>=0&&ge[Ke].setAttribute("tabindex","-1"),ye(ke))}},ae=function(){Ke>=0&&Ke<Ge&&Xe(Ke)};$.useIsomorphicLayoutEffect(function(){var ge=xe.current;ge&&(Te.current=Array.from(ge.querySelectorAll(".rpv-thumbnail__item")))},[$e]),R.useEffect(function(){var ge=Te.current;if(!(ge.length===0||Ke<0||Ke>ge.length)){var ke=ge[Ke];ke.setAttribute("tabindex","0"),ke.focus()}},[Ke]),$.useIsomorphicLayoutEffect(function(){var ge=xe.current,ke=Te.current;if(!(!ge||ke.length===0||U<0||U>ke.length)){var Je=ke[U].closest(".rpv-thumbnail__items");Je&&(we===A.ThumbnailDirection.Vertical?function(st,it){var Ue=st.getBoundingClientRect().top-it.getBoundingClientRect().top,ht=st.clientHeight,lt=it.clientHeight;Ue<0?it.scrollTop+=Ue:Ue+ht<=lt||(it.scrollTop+=Ue+ht-lt)}(Je,ge):function(st,it){var Ue=st.getBoundingClientRect().left-it.getBoundingClientRect().left,ht=st.clientWidth,lt=it.clientWidth;Ue<0?it.scrollLeft+=Ue:Ue+ht<=lt||(it.scrollLeft+=Ue+ht-lt)}(Je,ge))}},[U,we]);var le=R.useCallback(function(ge){Ee.current&&(He.markRendered(ge),Oe.current=!1,Ce())},[Fe]),ve=R.useCallback(function(ge,ke){ke.isVisible?He.setVisibility(ge,ke.ratio):He.setOutOfRange(ge),Ce()},[Fe]),Ce=R.useCallback(function(){if(!Oe.current){var ge=He.getHighestPriorityPage();ge>-1&&(He.markRendering(ge),Oe.current=!0,Se(ge))}},[Fe]);return R.useEffect(function(){_e>=0&&(He.markRendering(_e),Oe.current=!0,Se(_e))},[Fe,_e]),$.useIsomorphicLayoutEffect(function(){Pe!==$e&&(He.markNotRendered(),Ce())},[$e]),R.createElement("div",{ref:xe,"data-testid":"thumbnail__list",className:$.classNames({"rpv-thumbnail__list":!0,"rpv-thumbnail__list--horizontal":we===A.ThumbnailDirection.Horizontal,"rpv-thumbnail__list--rtl":oe,"rpv-thumbnail__list--vertical":we===A.ThumbnailDirection.Vertical}),onKeyDown:function(ge){switch(ge.key){case"ArrowDown":tt();break;case"ArrowUp":ze();break;case"Enter":ae()}}},Ze.map(function(ge,ke){var Je=!1;switch($e){case $.ViewMode.DualPage:Je=U===2*ke||U===2*ke+1;break;case $.ViewMode.DualPageWithCover:Je=U===0&&ke===0||ke>0&&U===2*ke-1||ke>0&&U===2*ke;break;case $.ViewMode.SinglePage:default:Je=U===ke}return R.createElement("div",{className:$.classNames({"rpv-thumbnail__items":!0,"rpv-thumbnail__items--dual":$e===$.ViewMode.DualPage,"rpv-thumbnail__items--dual-cover":$e===$.ViewMode.DualPageWithCover,"rpv-thumbnail__items--single":$e===$.ViewMode.SinglePage,"rpv-thumbnail__items--selected":Je}),key:"".concat(ke,"___").concat($e)},ge.map(function(st){return function(it){var Ue=$e===$.ViewMode.DualPageWithCover&&(it===0||Ge%2==0&&it===Ge-1),ht="".concat(V.loadingTask.docId,"___").concat(it),lt=q.length===Ge?q[it]:"".concat(it+1),pt=X?X({currentPage:U,pageIndex:it,numPages:Ge,pageLabel:lt}):lt,Ct=Q.has(it)?Q.get(it):0,yt=R.createElement(J,{doc:V,pageHeight:Z,pageIndex:it,pageRotation:Ct,pageWidth:W,rotation:be,shouldRender:fe===it,thumbnailWidth:ce,onRenderCompleted:le,onVisibilityChanged:ve});return ue?ue({currentPage:U,key:ht,numPages:Ge,pageIndex:it,renderPageLabel:R.createElement(R.Fragment,null,pt),renderPageThumbnail:yt,onJumpToPage:function(){return Xe(it)},onRotatePage:function($t){return De(it,$t)}}):R.createElement("div",{key:ht},R.createElement("div",{className:$.classNames({"rpv-thumbnail__item":!0,"rpv-thumbnail__item--dual-even":$e===$.ViewMode.DualPage&&it%2==0,"rpv-thumbnail__item--dual-odd":$e===$.ViewMode.DualPage&&it%2==1,"rpv-thumbnail__item--dual-cover":Ue,"rpv-thumbnail__item--dual-cover-even":$e===$.ViewMode.DualPageWithCover&&!Ue&&it%2==0,"rpv-thumbnail__item--dual-cover-odd":$e===$.ViewMode.DualPageWithCover&&!Ue&&it%2==1,"rpv-thumbnail__item--single":$e===$.ViewMode.SinglePage,"rpv-thumbnail__item--selected":U===it}),role:"button",tabIndex:U===it?0:-1,onClick:function(){return Xe(it)}},yt),R.createElement("div",{"data-testid":"thumbnail__label-".concat(it),className:"rpv-thumbnail__label"},pt))}(st)}))}))},Y=function(G){var U=G.renderCurrentPageLabel,V=G.renderThumbnailItem,q=G.store,Q=G.thumbnailDirection,Z=G.thumbnailWidth,W=R.useState(q.get("doc")),X=W[0],ue=W[1],_e=R.useState(q.get("currentPage")||0),be=_e[0],we=_e[1],ce=R.useState(q.get("pageHeight")||0),$e=ce[0],Xe=ce[1],De=R.useState(q.get("pageWidth")||0),Ge=De[0],Fe=De[1],xe=R.useState(q.get("rotation")||0),Te=xe[0],et=xe[1],Ke=R.useState(q.get("pagesRotation")||new Map),ye=Ke[0],oe=Ke[1],re=R.useState(q.get("rotatedPage")||-1),fe=re[0],Se=re[1],Ee=R.useState(q.get("viewMode")),Pe=Ee[0],Oe=Ee[1],He=function(ke){we(ke)},rt=function(ke){ue(ke)},Ze=function(ke){Xe(ke)},tt=function(ke){Fe(ke)},ze=function(ke){et(ke)},ae=function(ke){oe(ke)},le=function(ke){Se(ke)},ve=function(ke){Oe(ke)},Ce=function(ke){var Je=q.get("jumpToPage");Je&&Je(ke)},ge=function(ke,Je){q.get("rotatePage")(ke,Je)};return R.useEffect(function(){return q.subscribe("doc",rt),q.subscribe("pageHeight",Ze),q.subscribe("pageWidth",tt),q.subscribe("rotatedPage",le),q.subscribe("rotation",ze),q.subscribe("pagesRotation",ae),q.subscribe("viewMode",ve),function(){q.unsubscribe("doc",rt),q.unsubscribe("pageHeight",Ze),q.unsubscribe("pageWidth",tt),q.unsubscribe("rotatedPage",le),q.unsubscribe("rotation",ze),q.unsubscribe("pagesRotation",ae),q.unsubscribe("viewMode",ve)}},[]),$.useIsomorphicLayoutEffect(function(){return q.subscribe("currentPage",He),function(){q.unsubscribe("currentPage",He)}},[]),X?R.createElement($.LazyRender,{testId:"thumbnail__list-container",attrs:{className:"rpv-thumbnail__list-container"}},R.createElement(ne,{doc:X},function(ke){return R.createElement(K,{currentPage:be,doc:X,labels:ke,pagesRotation:ye,pageHeight:$e,pageWidth:Ge,renderCurrentPageLabel:U,renderThumbnailItem:V,rotatedPage:fe,rotation:Te,thumbnailDirection:Q,thumbnailWidth:Z,viewMode:Pe,onJumpToPage:Ce,onRotatePage:ge})})):R.createElement("div",{"data-testid":"thumbnail-list__loader",className:"rpv-thumbnail__loader"},R.useContext(ie).renderSpinner())};A.thumbnailPlugin=function(G){var U=R.useMemo(function(){return $.createStore({rotatePage:function(){},viewMode:$.ViewMode.SinglePage})},[]),V=R.useState(""),q=V[0],Q=V[1];return{install:function(Z){U.update("jumpToPage",Z.jumpToPage),U.update("rotatePage",Z.rotatePage)},onDocumentLoad:function(Z){Q(Z.doc.loadingTask.docId),U.update("doc",Z.doc)},onViewerStateChange:function(Z){return U.update("currentPage",Z.pageIndex),U.update("pagesRotation",Z.pagesRotation),U.update("pageHeight",Z.pageHeight),U.update("pageWidth",Z.pageWidth),U.update("rotation",Z.rotation),U.update("rotatedPage",Z.rotatedPage),U.update("viewMode",Z.viewMode),Z},Cover:function(Z){return R.createElement(se,B({},Z,{renderSpinner:G==null?void 0:G.renderSpinner,store:U}))},Thumbnails:R.useCallback(function(Z){return R.createElement(ie.Provider,{value:{renderSpinner:(G==null?void 0:G.renderSpinner)||de}},R.createElement(Y,{renderCurrentPageLabel:G==null?void 0:G.renderCurrentPageLabel,renderThumbnailItem:Z==null?void 0:Z.renderThumbnailItem,store:U,thumbnailDirection:(Z==null?void 0:Z.thumbnailDirection)||A.ThumbnailDirection.Vertical,thumbnailWidth:(G==null?void 0:G.thumbnailWidth)||100}))},[q])}}})(thumbnail_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=thumbnail_min})(lib$d);var libExports$c={},lib$c={get exports(){return libExports$c},set exports(A){libExports$c=A}},toolbar_min={},libExports$b={},lib$b={get exports(){return libExports$b},set exports(A){libExports$b=A}},selectionMode_min={};(function(A){var $=libExports$h;function H(Y){var G=Object.create(null);return Y&&Object.keys(Y).forEach(function(U){if(U!=="default"){var V=Object.getOwnPropertyDescriptor(Y,U);Object.defineProperty(G,U,V.get?V:{enumerable:!0,get:function(){return Y[U]}})}}),G.default=Y,Object.freeze(G)}var O,R=H(reactExports),B=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M11.5,5.5v-2C11.5,2.672,12.172,2,13,2s1.5,0.672,1.5,1.5v2 M14.5,11.5v-6C14.5,4.672,15.172,4,16,4
            c0.828,0,1.5,0.672,1.5,1.5v3 M17.5,13V8.5C17.5,7.672,18.172,7,19,7s1.5,0.672,1.5,1.5v10c0,2.761-2.239,5-5,5h-3.335
            c-1.712-0.001-3.305-0.876-4.223-2.321C6.22,18.467,4.083,14,4.083,14c-0.378-0.545-0.242-1.292,0.303-1.67
            c0.446-0.309,1.044-0.281,1.458,0.07L8.5,15.5v-10C8.5,4.672,9.172,4,10,4s1.5,0.672,1.5,1.5v6`}))},ee=function(){return ee=Object.assign||function(Y){for(var G,U=1,V=arguments.length;U<V;U++)for(var q in G=arguments[U])Object.prototype.hasOwnProperty.call(G,q)&&(Y[q]=G[q]);return Y},ee.apply(this,arguments)};A.SelectionMode=void 0,(O=A.SelectionMode||(A.SelectionMode={})).Hand="Hand",O.Text="Text";var se=function(){return R.createElement($.Icon,{size:16},R.createElement("path",{d:`M13.675,11.671l2.941-2.941c0.195-0.196,0.195-0.512-0.001-0.707C16.563,7.971,16.5,7.931,16.43,7.906
            L4.168,3.527C3.908,3.434,3.622,3.57,3.529,3.83c-0.039,0.109-0.039,0.228,0,0.336l4.379,12.262
            c0.093,0.26,0.379,0.396,0.639,0.303c0.07-0.025,0.133-0.065,0.185-0.117l2.943-2.943l6.146,6.146c0.195,0.195,0.512,0.195,0.707,0
            l1.293-1.293c0.195-0.195,0.195-0.512,0-0.707L13.675,11.671z`}))},de=function(Y){var G=Y.children,U=Y.mode,V=Y.onClick,q=R.useContext($.LocalizationContext).l10n,Q="",Z=R.createElement(se,null);switch(U){case A.SelectionMode.Hand:Q=q&&q.selectionMode?q.selectionMode.handTool:"Hand tool",Z=R.createElement(B,null);break;case A.SelectionMode.Text:default:Q=q&&q.selectionMode?q.selectionMode.textSelectionTool:"Text selection tool",Z=R.createElement(se,null)}return G({icon:Z,label:Q,onClick:V})},ie={left:0,top:8},ne=function(Y){var G=Y.isSelected,U=Y.mode,V=Y.onClick,q="";switch(U){case A.SelectionMode.Hand:q="selection-mode__hand-button";break;case A.SelectionMode.Text:default:q="selection-mode__text-button"}return R.createElement(de,{mode:U,onClick:V},function(Q){return R.createElement($.Tooltip,{ariaControlsSuffix:"selection-mode-switch",position:$.Position.BottomCenter,target:R.createElement($.MinimalButton,{ariaLabel:Q.label,isSelected:G,testId:q,onClick:Q.onClick},Q.icon),content:function(){return Q.label},offset:ie})})},pe=function(Y){var G=Y.children,U=Y.mode,V=Y.store,q=U===V.get("selectionMode");return(G||function(Q){return R.createElement(ne,{isSelected:q,mode:Q.mode,onClick:Q.onClick})})({isSelected:q,mode:U,onClick:function(){return V.update("selectionMode",U)}})},J=function(Y){var G=Y.isSelected,U=Y.mode,V=Y.onClick,q="";switch(U){case A.SelectionMode.Hand:q="selection-mode__hand-menu";break;case A.SelectionMode.Text:default:q="selection-mode__text-menu"}return R.createElement(de,{mode:U,onClick:V},function(Q){return R.createElement($.MenuItem,{checked:G,icon:Q.icon,testId:q,onClick:Q.onClick},Q.label)})},K=function(Y){var G=Y.store,U=R.useRef(null),V=R.useState(A.SelectionMode.Text),q=V[0],Q=V[1],Z=R.useRef({top:0,left:0,x:0,y:0}),W=function(we){var ce=U.current;ce&&(ce.scrollTop=Z.current.top-(we.clientY-Z.current.y),ce.scrollLeft=Z.current.left-(we.clientX-Z.current.x))},X=function(){var we=U.current;we&&(we.classList.add("rpv-selection-mode__grab"),we.classList.remove("rpv-selection-mode__grabbing"),document.removeEventListener("mousemove",W),document.removeEventListener("mouseup",X))},ue=function(we){var ce=U.current;ce&&q!==A.SelectionMode.Text&&(ce.classList.remove("rpv-selection-mode__grab"),ce.classList.add("rpv-selection-mode__grabbing"),we.preventDefault(),we.stopPropagation(),Z.current={left:ce.scrollLeft,top:ce.scrollTop,x:we.clientX,y:we.clientY},document.addEventListener("mousemove",W),document.addEventListener("mouseup",X))},_e=function(we){U.current=we()},be=function(we){Q(we)};return R.useEffect(function(){var we=U.current;if(we)return q===A.SelectionMode.Hand?we.classList.add("rpv-selection-mode__grab"):we.classList.remove("rpv-selection-mode__grab"),we.addEventListener("mousedown",ue),function(){we.removeEventListener("mousedown",ue)}},[q]),R.useEffect(function(){return G.subscribe("getPagesContainer",_e),G.subscribe("selectionMode",be),function(){G.unsubscribe("getPagesContainer",_e),G.unsubscribe("selectionMode",be)}},[]),R.createElement(R.Fragment,null)};A.HandToolIcon=B,A.TextSelectionIcon=se,A.selectionModePlugin=function(Y){var G=R.useMemo(function(){return $.createStore()},[]),U=function(V){return R.createElement(pe,ee({},V,{store:G}))};return{install:function(V){G.update("selectionMode",Y&&Y.selectionMode?Y.selectionMode:A.SelectionMode.Text),G.update("getPagesContainer",V.getPagesContainer)},renderViewer:function(V){var q=V.slot;return q.subSlot&&q.subSlot.children&&(q.subSlot.children=R.createElement(R.Fragment,null,R.createElement(K,{store:G}),q.subSlot.children)),q},SwitchSelectionMode:U,SwitchSelectionModeButton:function(V){return R.createElement(U,{mode:V.mode},function(q){return R.createElement(ne,{isSelected:q.isSelected,mode:q.mode,onClick:function(){q.onClick()}})})},SwitchSelectionModeMenuItem:function(V){return R.createElement(U,{mode:V.mode},function(q){return R.createElement(J,{isSelected:q.isSelected,mode:q.mode,onClick:function(){q.onClick(),V.onClick()}})})}}}})(selectionMode_min);/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=selectionMode_min})(lib$b);var libExports$a={},lib$a={get exports(){return libExports$a},set exports(A){libExports$a=A}},fullScreen_min={},e$c=libExports$h;function n$c(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$c,l$c=n$c(reactExports),r$c=function(){return l$c.createElement(e$c.Icon,{size:16},l$c.createElement("path",{d:"M11.5 23.499L11.5 14.499"}),l$c.createElement("path",{d:"M7.5 18.499L11.5 14.499 15.5 18.499"}),l$c.createElement("path",{d:"M11.5 1.499L11.5 10.499"}),l$c.createElement("path",{d:"M7.5 6.499L11.5 10.499 15.5 6.499"}),l$c.createElement("path",{d:"M20.5 12.499L1.5 12.499"}))},c$c=function(){return l$c.createElement(e$c.Icon,{size:16},l$c.createElement("path",{d:"M0.5 12L23.5 12"}),l$c.createElement("path",{d:"M11.5 1L11.5 23"}),l$c.createElement("path",{d:"M8.5 4L11.5 1 14.5 4"}),l$c.createElement("path",{d:"M20.5 9L23.5 12 20.5 15"}),l$c.createElement("path",{d:"M3.5 15L0.5 12 3.5 9"}),l$c.createElement("path",{d:"M14.5 20L11.5 23 8.5 20"}))},u$c=function(){return u$c=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},u$c.apply(this,arguments)};(function(A){A[A.ExitFullScreen=0]="ExitFullScreen",A[A.FullScreenChange=1]="FullScreenChange",A[A.FullScreenElement=2]="FullScreenElement",A[A.FullScreenEnabled=3]="FullScreenEnabled",A[A.RequestFullScreen=4]="RequestFullScreen"})(t$c||(t$c={}));var o$c={ExitFullScreen:"exitFullscreen",FullScreenChange:"fullscreenchange",FullScreenElement:"fullscreenElement",FullScreenEnabled:"fullscreenEnabled",RequestFullScreen:"requestFullscreen"},i$c={ExitFullScreen:"webkitExitFullscreen",FullScreenChange:"webkitfullscreenchange",FullScreenElement:"webkitFullscreenElement",FullScreenEnabled:"webkitFullscreenEnabled",RequestFullScreen:"webkitRequestFullscreen"},a$c={ExitFullScreen:"msExitFullscreen",FullScreenChange:"msFullscreenChange",FullScreenElement:"msFullscreenElement",FullScreenEnabled:"msFullscreenEnabled",RequestFullScreen:"msRequestFullscreen"},s$8=typeof window<"u",f$9=s$8&&(t$c.FullScreenEnabled in document&&o$c||i$c.FullScreenEnabled in document&&i$c||a$c.FullScreenEnabled in document&&a$c)||o$c,S$4=function(){return s$8&&f$9.FullScreenEnabled in document&&document[f$9.FullScreenEnabled]===!0},E$5=function(A){return s$8?A[f$9.ExitFullScreen]():Promise.resolve({})},F=function(){return s$8?document[f$9.FullScreenElement]:null},m$8={left:0,top:8},d$9=function(A){var $=A.enableShortcuts,H=A.onClick,O=l$c.useContext(e$c.LocalizationContext).l10n,R=O&&O.fullScreen?O.fullScreen.enterFullScreen:"Full screen",B=$?e$c.isMac()?"Meta+Ctrl+F":"F11":"";return l$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-enter",position:e$c.Position.BottomCenter,target:l$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,isDisabled:!S$4(),testId:"full-screen__enter-button",onClick:H},l$c.createElement(c$c,null)),content:function(){return R},offset:m$8})},b$5={left:0,top:8},g$6=function(A){var $=A.onClick,H=l$c.useContext(e$c.LocalizationContext).l10n,O=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return l$c.createElement(e$c.Tooltip,{ariaControlsSuffix:"full-screen-exit",position:e$c.Position.BottomCenter,target:l$c.createElement(e$c.MinimalButton,{ariaKeyShortcuts:"Esc",ariaLabel:O,testId:"full-screen__exit-button-with-tooltip",onClick:$},l$c.createElement(r$c,null)),content:function(){return O},offset:b$5})},x$2=function(A,$,H,O){var R=l$c.useState(!1),B=R[0],ee=R[1],se=l$c.useRef($.get("getPagesContainer")?$.get("getPagesContainer")():null),de=function(){var pe=F(),J=se.current,K=pe===A(J);$.update("isFullScreen",K),K?J.classList.add("rpv-full-screen__pages"):J.classList.remove("rpv-full-screen__pages");var Y=$.get("zoom");Y&&(K?H(Y):O(Y))},ie=function(pe){var J;se.current=pe(),J=de,s$8&&document.addEventListener(f$9.FullScreenChange,J)},ne=function(pe){ee(pe)};return l$c.useEffect(function(){return $.subscribe("isFullScreen",ne),$.subscribe("getPagesContainer",ie),function(){$.unsubscribe("getPagesContainer",ie),$.unsubscribe("isFullScreen",ne)}},[]),{enterFullScreen:function(){if(S$4()){var pe=se.current;pe&&function(){var J=se.current;if(!J)return Promise.resolve();var K=F();return K&&K!==A(J)?E$5(K):Promise.resolve()}().then(function(){var J;J=A(pe),s$8&&J[f$9.RequestFullScreen]()})}},exitFullScreen:function(){ee(!1);var pe=$.get("getPagesContainer");if(pe){var J=pe();if(J){var K=F();K&&K===A(J)&&E$5(document)}}},isFullScreen:B}},v$6=function(A){var $=A.children,H=A.enableShortcuts,O=A.getFullScreenTarget,R=A.store,B=A.onEnterFullScreen,ee=A.onExitFullScreen,se=x$2(O,R,B,ee),de=se.enterFullScreen,ie=se.exitFullScreen,ne=se.isFullScreen;return($||function(pe){return ne?l$c.createElement(g$6,{onClick:pe.onClick}):l$c.createElement(d$9,{enableShortcuts:H,onClick:pe.onClick})})({onClick:ne?ie:de})},C$4=function(A){var $=A.onClick,H=l$c.useContext(e$c.LocalizationContext).l10n,O=H&&H.fullScreen?H.fullScreen.enterFullScreen:"Full screen";return l$c.createElement(e$c.MenuItem,{icon:l$c.createElement(c$c,null),isDisabled:!S$4(),testId:"full-screen__enter-menu",onClick:$},O)},h$6=function(A){var $=A.onClick,H=l$c.useContext(e$c.LocalizationContext).l10n,O=l$c.useContext(e$c.ThemeContext).direction===e$c.TextDirection.RightToLeft,R=H&&H.fullScreen?H.fullScreen.exitFullScreen:"Exit full screen";return l$c.createElement("div",{className:e$c.classNames({"rpv-full-screen__exit-button":!0,"rpv-full-screen__exit-button--ltr":!O,"rpv-full-screen__exit-button--rtl":O})},l$c.createElement(e$c.MinimalButton,{ariaLabel:R,testId:"full-screen__exit-button",onClick:$},l$c.createElement(r$c,null)))},p$8=function(A){var $=A.children,H=A.getFullScreenTarget,O=A.store,R=A.onEnterFullScreen,B=A.onExitFullScreen,ee=x$2(H,O,R,B),se=ee.enterFullScreen,de=ee.exitFullScreen,ie=ee.isFullScreen;return ie&&($||function(ne){return l$c.createElement(h$6,{onClick:ne.onClick})})({onClick:ie?de:se})},k$4=function(A){var $=A.containerRef,H=A.getFullScreenTarget,O=A.store,R=A.onEnterFullScreen,B=A.onExitFullScreen,ee=x$2(H,O,R,B).enterFullScreen,se=function(de){if(!de.shiftKey&&!de.altKey&&(e$c.isMac()?de.metaKey&&de.ctrlKey&&de.key==="f":de.key==="F11")){var ie=$.current;ie&&document.activeElement&&ie.contains(document.activeElement)&&(de.preventDefault(),ee())}};return l$c.useEffect(function(){if($.current)return document.addEventListener("keydown",se),function(){document.removeEventListener("keydown",se)}},[$.current]),l$c.createElement(l$c.Fragment,null)};fullScreen_min.ExitFullScreenIcon=r$c,fullScreen_min.FullScreenIcon=c$c,fullScreen_min.fullScreenPlugin=function(A){var $=(A==null?void 0:A.getFullScreenTarget)||function(ee){return ee},H=l$c.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onEnterFullScreen:function(){},onExitFullScreen:function(){}},A)},[]),O=l$c.useMemo(function(){return e$c.createStore({})},[]),R=function(ee){return l$c.createElement(v$6,u$c({},ee,{enableShortcuts:H.enableShortcuts,getFullScreenTarget:$,store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}))},B=function(){return l$c.createElement(p$8,{getFullScreenTarget:$,store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen},A==null?void 0:A.renderExitFullScreenButton)};return{install:function(ee){O.update("getPagesContainer",ee.getPagesContainer),O.update("zoom",ee.zoom)},renderViewer:function(ee){var se=ee.slot;return se.subSlot&&(se.subSlot.children=l$c.createElement(l$c.Fragment,null,H.enableShortcuts&&l$c.createElement(k$4,{containerRef:ee.containerRef,getFullScreenTarget:$,store:O,onEnterFullScreen:H.onEnterFullScreen,onExitFullScreen:H.onExitFullScreen}),l$c.createElement(B,null),se.subSlot.children)),se},EnterFullScreen:R,EnterFullScreenButton:function(){return l$c.createElement(R,null,function(ee){return l$c.createElement(d$9,u$c({enableShortcuts:H.enableShortcuts},ee))})},EnterFullScreenMenuItem:function(ee){return l$c.createElement(R,null,function(se){return l$c.createElement(C$4,{onClick:function(){se.onClick(),ee.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=fullScreen_min})(lib$a);var libExports$9={},lib$9={get exports(){return libExports$9},set exports(A){libExports$9=A}},getFile_min={},e$b=libExports$h;function t$b(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$b=t$b(reactExports),o$b=function(){return n$b.createElement(e$b.Icon,{size:16},n$b.createElement("path",{d:"M5.5,11.5c-.275,0-.341.159-.146.354l6.292,6.293a.5.5,0,0,0,.709,0l6.311-6.275c.2-.193.13-.353-.145-.355L15.5,11.5V1.5a1,1,0,0,0-1-1h-5a1,1,0,0,0-1,1V11a.5.5,0,0,1-.5.5Z"}),n$b.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},r$b=function(){return r$b=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},r$b.apply(this,arguments)},i$b={left:0,top:8},a$b=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.Tooltip,{ariaControlsSuffix:"get-file",position:e$b.Position.BottomCenter,target:n$b.createElement(e$b.MinimalButton,{ariaLabel:O,testId:"get-file__download-button",onClick:$},n$b.createElement(o$b,null)),content:function(){return O},offset:i$b})},c$b=function(A,$){var H=document.createElement("a");H.style.display="none",H.href=A,H.setAttribute("download",$),document.body.appendChild(H),H.click(),document.body.removeChild(H)},l$b=function(A,$,H){var O=URL.createObjectURL(new Blob([A],{type:H}));c$b(O,$),O&&URL.revokeObjectURL(O)},u$b=function(A,$){A.getData().then(function(H){/iphone|ipod|ipad/i.test(navigator.userAgent)&&!/CriOS/i.test(navigator.userAgent)?l$b(H,$,"application/octet-stream"):/iphone|ipod|ipad/i.test(navigator.userAgent)&&/CriOS/i.test(navigator.userAgent)?c$b("data:application/pdf;base64,".concat(function(O){return btoa(Array(O.length).fill("").map(function(R,B){return String.fromCharCode(O[B])}).join(""))}(H)),$):l$b(H,$,"application/pdf")})},f$8=function(A){var $=A.children,H=A.fileNameGenerator,O=A.store,R=n$b.useState(O.get("file")),B=R[0],ee=R[1],se=n$b.useState(O.get("doc")),de=se[0],ie=se[1],ne=function(J){ie(J)},pe=function(J){ee(J)};return n$b.useEffect(function(){return O.subscribe("doc",ne),O.subscribe("file",pe),function(){O.subscribe("doc",ne),O.unsubscribe("file",pe)}},[]),($||function(J){return n$b.createElement(a$b,{onClick:J.onClick})})({onClick:function(){de&&B&&u$b(de,H(B))}})},d$8=function(A){var $=A.onClick,H=n$b.useContext(e$b.LocalizationContext).l10n,O=H&&H.download?H.download.download:"Download";return n$b.createElement(e$b.MenuItem,{icon:n$b.createElement(o$b,null),testId:"get-file__download-menu",onClick:$},O)};getFile_min.DownloadIcon=o$b,getFile_min.getFilePlugin=function(A){var $=n$b.useMemo(function(){return e$b.createStore({})},[]),H=function(R){return R.name?(B=R.name,(ee=B.split("/").pop())?ee.split("#")[0].split("?")[0]:B):"document.pdf";var B,ee},O=function(R){return n$b.createElement(f$8,r$b({},R,{fileNameGenerator:A&&A.fileNameGenerator||H,store:$}))};return{onDocumentLoad:function(R){$.update("doc",R.doc),$.update("file",R.file)},Download:O,DownloadButton:function(){return n$b.createElement(O,null,function(R){return n$b.createElement(a$b,r$b({},R))})},DownloadMenuItem:function(R){return n$b.createElement(O,null,function(B){return n$b.createElement(d$8,{onClick:function(){B.onClick(),R.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=getFile_min})(lib$9);var libExports$8={},lib$8={get exports(){return libExports$8},set exports(A){libExports$8=A}},open_min={},e$a=libExports$h;function t$a(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$a=t$a(reactExports),r$a=function(){return n$a.createElement(e$a.Icon,{size:16},n$a.createElement("path",{d:"M18.5,7.5c.275,0,.341-.159.146-.354L12.354.854a.5.5,0,0,0-.708,0L5.354,7.147c-.2.195-.129.354.146.354h3v10a1,1,0,0,0,1,1h5a1,1,0,0,0,1-1V7.5Z"}),n$a.createElement("path",{d:"M23.5,18.5v4a1,1,0,0,1-1,1H1.5a1,1,0,0,1-1-1v-4"}))},o$a=function(){return o$a=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$a.apply(this,arguments)},i$a=function(A){var $=n$a.useRef(),H=function(){var R=$.current;R&&(R.click(),A.get("triggerOpenFile")&&A.update("triggerOpenFile",!1))},O=function(R){R&&H()};return n$a.useEffect(function(){return A.subscribe("triggerOpenFile",O),function(){A.unsubscribe("triggerOpenFile",O)}},[]),{inputRef:$,openFile:H}},c$a={left:0,top:8},u$a=function(A){var $=A.enableShortcuts,H=A.store,O=A.onClick,R=n$a.useContext(e$a.LocalizationContext).l10n,B=R&&R.open?R.open.openFile:"Open file",ee=i$a(H),se=ee.inputRef,de=ee.openFile,ie=$?e$a.isMac()?"Meta+O":"Ctrl+O":"";return n$a.createElement(e$a.Tooltip,{ariaControlsSuffix:"open",position:e$a.Position.BottomCenter,target:n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:se,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:O}),n$a.createElement(e$a.MinimalButton,{ariaKeyShortcuts:ie,ariaLabel:B,testId:"open__button",onClick:de},n$a.createElement(r$a,null))),content:function(){return B},offset:c$a})},a$a=function(A){var $=A.children,H=A.enableShortcuts,O=A.store;return($||function(R){return n$a.createElement(u$a,{enableShortcuts:H,store:O,onClick:R.onClick})})({onClick:function(R){var B=R.target.files;if(B&&B.length){var ee=O.get("openFile");ee&&ee(B[0])}}})},l$a=function(A){var $=A.store,H=A.onClick,O=n$a.useContext(e$a.LocalizationContext).l10n,R=O&&O.open?O.open.openFile:"Open file",B=i$a($),ee=B.inputRef,se=B.openFile;return n$a.createElement(e$a.MenuItem,{icon:n$a.createElement(r$a,null),testId:"open__menu",onClick:se},n$a.createElement("div",{className:"rpv-open__input-wrapper"},n$a.createElement("input",{accept:".pdf",ref:ee,className:"rpv-open__input",multiple:!1,tabIndex:-1,title:"",type:"file",onChange:H}),R))},p$7=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="o"&&(e$a.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(R.preventDefault(),H.update("triggerOpenFile",!0))}};return n$a.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$a.createElement(n$a.Fragment,null)};open_min.OpenFileIcon=r$a,open_min.openPlugin=function(A){var $=n$a.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$a.useMemo(function(){return e$a.createStore({})},[]),O=function(R){return n$a.createElement(a$a,o$a({enableShortcuts:$.enableShortcuts},R,{store:H}))};return{install:function(R){H.update("openFile",R.openFile)},renderViewer:function(R){var B=R.slot,ee={children:n$a.createElement(n$a.Fragment,null,$.enableShortcuts&&n$a.createElement(p$7,{containerRef:R.containerRef,store:H}),B.children)};return o$a(o$a({},B),ee)},Open:O,OpenButton:function(){return n$a.createElement(O,null)},OpenMenuItem:function(){return n$a.createElement(O,null,function(R){return n$a.createElement(l$a,{store:H,onClick:R.onClick})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=open_min})(lib$8);var libExports$7={},lib$7={get exports(){return libExports$7},set exports(A){libExports$7=A}},pageNavigation_min={},e$9=libExports$h;function t$9(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$9=t$9(reactExports),r$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M2.32,2.966h19.452c0.552,0.001,1,0.449,0.999,1.001c0,0.182-0.05,0.36-0.144,0.516L12.9,20.552
            c-0.286,0.472-0.901,0.624-1.373,0.338c-0.138-0.084-0.254-0.2-0.338-0.338L1.465,4.483C1.179,4.01,1.331,3.396,1.804,3.11
            C1.96,3.016,2.138,2.966,2.32,2.966z`}))},a$9=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$9=function(){return o$9=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$9.apply(this,arguments)},i$9=function(A){var $=n$9.useState(A.get("currentPage")||0),H=$[0],O=$[1],R=function(B){O(B)};return e$9.useIsomorphicLayoutEffect(function(){return A.subscribe("currentPage",R),function(){A.unsubscribe("currentPage",R)}},[]),{currentPage:H}},u$9=function(A){var $=n$9.useState(A.get("numberOfPages")||0),H=$[0],O=$[1],R=function(B){O(B)};return n$9.useEffect(function(){return A.subscribe("numberOfPages",R),function(){A.unsubscribe("numberOfPages",R)}},[]),{numberOfPages:H}},c$9=function(A){var $=A.store,H=n$9.useContext(e$9.LocalizationContext).l10n,O=n$9.useState("1"),R=O[0],B=O[1],ee=i$9($).currentPage,se=u$9($).numberOfPages;n$9.useEffect(function(){return B("".concat(ee+1))},[ee]);var de=function(ne){var pe=$.get("jumpToPage");pe&&pe(ne)},ie=H&&H.pageNavigation?H.pageNavigation.enterPageNumber:"Enter a page number";return n$9.createElement("span",{className:"rpv-page-navigation__current-page-input"},n$9.createElement(e$9.TextBox,{ariaLabel:ie,testId:"page-navigation__current-page-input",type:"text",value:R,onChange:B,onKeyDown:function(ne){switch(ne.key){case"ArrowUp":(K=ee-1)>=0&&(B("".concat(K+1)),de(K));break;case"ArrowDown":(J=ee+1)<se&&(B("".concat(J+1)),de(J));break;case"Enter":pe=parseInt(R,10),R===""||pe<1||pe>se?B("".concat(ee+1)):de(pe-1)}var pe,J,K}}))},l$9=function(A){var $=A.children,H=A.doc,O=e$9.useIsMounted(),R=n$9.useState({loading:!0,labels:[]}),B=R[0],ee=R[1];return n$9.useEffect(function(){H.getPageLabels().then(function(se){O.current&&ee({loading:!1,labels:se||[]})})},[H.loadingTask.docId]),B.loading?n$9.createElement(n$9.Fragment,null):$(B.labels)},s$7=function(A){var $=A.children,H=A.store,O=function(se){var de=n$9.useState(se.get("doc")),ie=de[0],ne=de[1],pe=function(J){ne(J)};return n$9.useEffect(function(){return se.subscribe("doc",pe),function(){se.unsubscribe("doc",pe)}},[]),ie}(H),R=i$9(H).currentPage,B=u$9(H).numberOfPages,ee=$||function(se){return n$9.createElement(n$9.Fragment,null,se.currentPage+1)};return O?n$9.createElement(l$9,{doc:O},function(se){var de=se.length===B&&B>0?se[R]:"";return ee({currentPage:R,numberOfPages:B,pageLabel:de})}):n$9.createElement(n$9.Fragment,null)},g$5=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M21.783,21.034H2.332c-0.552,0-1-0.448-1-1c0-0.182,0.05-0.361,0.144-0.517L11.2,3.448
            c0.286-0.472,0.901-0.624,1.373-0.338c0.138,0.084,0.254,0.2,0.338,0.338l9.726,16.069c0.286,0.473,0.134,1.087-0.339,1.373
            C22.143,20.984,21.965,21.034,21.783,21.034z`}))},f$7={left:0,top:8},m$7=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-first",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__first-button",onClick:H},n$9.createElement(g$5,null)),content:function(){return R},offset:f$7})},p$6=function(A){var $=A.children,H=A.store;return($||function(O){return n$9.createElement(m$7,{isDisabled:O.isDisabled,onClick:O.onClick})})({isDisabled:i$9(H).currentPage===0,onClick:function(){var O=H.get("jumpToPage");O&&O(0)}})},v$5=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToFirstPage:"First page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(g$5,null),isDisabled:$,testId:"page-navigation__first-menu",onClick:H},R)},d$7={left:0,top:8},b$4=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-last",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__last-button",onClick:H},n$9.createElement(r$9,null)),content:function(){return R},offset:d$7})},P$2=function(A){var $=A.children,H=A.store,O=i$9(H).currentPage,R=u$9(H).numberOfPages;return($||function(B){return n$9.createElement(b$4,{isDisabled:B.isDisabled,onClick:B.onClick})})({isDisabled:O+1>=R,onClick:function(){var B=H.get("jumpToPage");B&&B(R-1)}})},E$4=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToLastPage:"Last page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(r$9,null),isDisabled:$,testId:"page-navigation__last-menu",onClick:H},R)},C$3={left:0,top:8},k$3=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-next",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__next-button",onClick:H},n$9.createElement(a$9,null)),content:function(){return R},offset:C$3})},x$1=function(A){var $=A.children,H=A.store;return($||function(O){return n$9.createElement(k$3,{onClick:O.onClick,isDisabled:O.isDisabled})})({isDisabled:i$9(H).currentPage+1>=u$9(H).numberOfPages,onClick:function(){var O=H.get("jumpToNextPage");O&&O()}})},D=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToNextPage:"Next page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(a$9,null),isDisabled:$,testId:"page-navigation__next-menu",onClick:H},R)},T=function(){return n$9.createElement(e$9.Icon,{size:16},n$9.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},L={left:0,top:8},h$5=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.Tooltip,{ariaControlsSuffix:"page-navigation-previous",position:e$9.Position.BottomCenter,target:n$9.createElement(e$9.MinimalButton,{ariaLabel:R,isDisabled:$,testId:"page-navigation__previous-button",onClick:H},n$9.createElement(T,null)),content:function(){return R},offset:L})},y$1=function(A){var $=A.store;return(A.children||function(H){return n$9.createElement(h$5,{isDisabled:H.isDisabled,onClick:H.onClick})})({isDisabled:i$9($).currentPage<=0,onClick:function(){var H=$.get("jumpToPreviousPage");H&&H()}})},I$1=function(A){var $=A.isDisabled,H=A.onClick,O=n$9.useContext(e$9.LocalizationContext).l10n,R=O&&O.pageNavigation?O.pageNavigation.goToPreviousPage:"Previous page";return n$9.createElement(e$9.MenuItem,{icon:n$9.createElement(T,null),isDisabled:$,testId:"page-navigation__previous-menu",onClick:H},R)},N=function(A){var $=A.children,H=A.store,O=u$9(H).numberOfPages;return $?$({numberOfPages:O}):n$9.createElement(n$9.Fragment,null,O)},j=function(A){var $=A.containerRef,H=A.numPages,O=A.store,R=n$9.useRef(O.get("jumpFromAnnotation")||{bottomOffset:0,dest:"",leftOffset:0,pageIndex:-1}),B=i$9(O).currentPage,ee=n$9.useRef(B);ee.current=B;var se=n$9.useRef(!1),de=function(){se.current=!0},ie=function(){se.current=!1},ne=function(J){var K=$.current,Y=se.current||document.activeElement&&K.contains(document.activeElement);if(K&&Y){var G,U,V,q,Q=J.altKey&&J.key==="ArrowDown"||!J.shiftKey&&!J.altKey&&J.key==="PageDown",Z=J.altKey&&J.key==="ArrowUp"||!J.shiftKey&&!J.altKey&&J.key==="PageUp",W=(e$9.isMac()?J.metaKey&&!J.ctrlKey:J.altKey)&&J.key==="ArrowLeft";Q?(J.preventDefault(),V=O.get("jumpToPage"),q=ee.current+1,V&&q<H&&V(q)):Z?(J.preventDefault(),function(){var X=O.get("jumpToPage"),ue=ee.current-1;X&&ue>=0&&X(ue)}()):W&&R.current&&R.current.dest&&(J.preventDefault(),G=R.current,(U=O.get("jumpToDestination"))&&U(G.pageIndex,G.bottomOffset,G.leftOffset))}},pe=function(J){R.current=J};return n$9.useEffect(function(){return O.subscribe("jumpFromAnnotation",pe),function(){O.unsubscribe("jumpFromAnnotation",pe)}},[]),n$9.useEffect(function(){var J=$.current;if(J)return document.addEventListener("keydown",ne),J.addEventListener("mouseenter",de),J.addEventListener("mouseleave",ie),function(){document.removeEventListener("keydown",ne),J.removeEventListener("mouseenter",de),J.removeEventListener("mouseleave",ie)}},[$.current]),n$9.createElement(n$9.Fragment,null)};pageNavigation_min.DownArrowIcon=r$9,pageNavigation_min.NextIcon=a$9,pageNavigation_min.PreviousIcon=T,pageNavigation_min.UpArrowIcon=g$5,pageNavigation_min.pageNavigationPlugin=function(A){var $=n$9.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$9.useMemo(function(){return e$9.createStore()},[]),O=function(se){return n$9.createElement(p$6,o$9({},se,{store:H}))},R=function(se){return n$9.createElement(P$2,o$9({},se,{store:H}))},B=function(se){return n$9.createElement(x$1,o$9({},se,{store:H}))},ee=function(se){return n$9.createElement(y$1,o$9({},se,{store:H}))};return{install:function(se){H.update("jumpToDestination",se.jumpToDestination),H.update("jumpToNextPage",se.jumpToNextPage),H.update("jumpToPage",se.jumpToPage),H.update("jumpToPreviousPage",se.jumpToPreviousPage)},renderViewer:function(se){var de=se.slot;if(!$.enableShortcuts)return de;var ie={children:n$9.createElement(n$9.Fragment,null,n$9.createElement(j,{containerRef:se.containerRef,numPages:se.doc.numPages,store:H}),de.children)};return o$9(o$9({},de),ie)},onAnnotationLayerRender:function(se){if(se.annotations.length){var de=se.annotations.filter(function(ie){return ie.subtype==="Link"&&!ie.url&&!ie.unsafeUrl&&!ie.action&&ie.dest});de.length&&de.forEach(function(ie){var ne=se.container.querySelector('a[data-annotation-link="'.concat(ie.id,'"]'));ne&&ne.addEventListener("click",function(){se.container.style.setProperty("height","100%"),se.container.style.setProperty("width","100%");var pe=se.container.getBoundingClientRect();se.container.style.removeProperty("height"),se.container.style.removeProperty("width");var J=ne.getBoundingClientRect(),K=J.left-pe.left,Y=pe.bottom-J.bottom+J.height;H.update("jumpFromAnnotation",{bottomOffset:Y/se.scale,dest:ie.dest,leftOffset:K/se.scale,pageIndex:se.pageIndex})})})}},onDocumentLoad:function(se){H.update("doc",se.doc),H.update("numberOfPages",se.doc.numPages)},onViewerStateChange:function(se){return H.update("currentPage",se.pageIndex),se},jumpToNextPage:function(){var se=H.get("jumpToNextPage");se&&se()},jumpToPage:function(se){var de=H.get("jumpToPage");de&&de(se)},jumpToPreviousPage:function(){var se=H.get("jumpToPreviousPage");se&&se()},CurrentPageInput:function(){return n$9.createElement(c$9,{store:H})},CurrentPageLabel:function(se){return n$9.createElement(s$7,o$9({},se,{store:H}))},GoToFirstPage:O,GoToFirstPageButton:function(){return n$9.createElement(O,null,function(se){return n$9.createElement(m$7,o$9({},se))})},GoToFirstPageMenuItem:function(se){return n$9.createElement(O,null,function(de){return n$9.createElement(v$5,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),se.onClick()}})})},GoToLastPage:R,GoToLastPageButton:function(){return n$9.createElement(R,null,function(se){return n$9.createElement(b$4,o$9({},se))})},GoToLastPageMenuItem:function(se){return n$9.createElement(R,null,function(de){return n$9.createElement(E$4,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),se.onClick()}})})},GoToNextPage:B,GoToNextPageButton:function(){return n$9.createElement(B,null,function(se){return n$9.createElement(k$3,o$9({},se))})},GoToNextPageMenuItem:function(se){return n$9.createElement(B,null,function(de){return n$9.createElement(D,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),se.onClick()}})})},GoToPreviousPage:ee,GoToPreviousPageButton:function(){return n$9.createElement(ee,null,function(se){return n$9.createElement(h$5,o$9({},se))})},GoToPreviousPageMenuItem:function(se){return n$9.createElement(ee,null,function(de){return n$9.createElement(I$1,{isDisabled:de.isDisabled,onClick:function(){de.onClick(),se.onClick()}})})},NumberOfPages:function(se){return n$9.createElement(N,o$9({},se,{store:H}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=pageNavigation_min})(lib$7);var libExports$6={},lib$6={get exports(){return libExports$6},set exports(A){libExports$6=A}},print_min={},e$8=libExports$h,t$8=reactExports,n$8=reactDomExports;function r$8(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var o$8,a$8=r$8(t$8),i$8=function(){return a$8.createElement(e$8.Icon,{size:16},a$8.createElement("path",{d:`M7.5,19.499h9 M7.5,16.499h9 M5.5,16.5h-3c-1.103-0.003-1.997-0.897-2-2v-6c0.003-1.103,0.897-1.997,2-2h19
            c1.103,0.003,1.997,0.897,2,2v6c-0.003,1.103-0.897,1.997-2,2h-3
            M5.5,4.5v-4h9.586c0.265,0,0.52,0.105,0.707,0.293l2.414,2.414
            C18.395,3.394,18.5,3.649,18.5,3.914V4.5
            M18.5,22.5c0,0.552-0.448,1-1,1h-11c-0.552,0-1-0.448-1-1v-9h13V22.5z
            M3.5,8.499
            c0.552,0,1,0.448,1,1s-0.448,1-1,1s-1-0.448-1-1S2.948,8.499,3.5,8.499z
            M14.5,0.499v4h4`}))},c$8=function(){return c$8=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$8.apply(this,arguments)},u$8={left:0,top:8},s$6=function(A){var $=A.enableShortcuts,H=A.onClick,O=a$8.useContext(e$8.LocalizationContext).l10n,R=O&&O.print?O.print.print:"Print",B=$?e$8.isMac()?"Meta+P":"Ctrl+P":"";return a$8.createElement(e$8.Tooltip,{ariaControlsSuffix:"print",position:e$8.Position.BottomCenter,target:a$8.createElement(e$8.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"print__button",onClick:H},a$8.createElement(i$8,null)),content:function(){return R},offset:u$8})};(function(A){A.CheckingPermission="CheckingPermission",A.Inactive="Inactive",A.Preparing="Preparing",A.Cancelled="Cancelled",A.Ready="Ready"})(o$8||(o$8={}));var l$8=function(A){var $=A.children,H=A.enableShortcuts,O=A.store;return($||s$6)({enableShortcuts:H,onClick:function(){O.update("printStatus",o$8.CheckingPermission)}})},p$5=function(A){var $=A.doc,H=A.store,O=a$8.useContext(e$8.LocalizationContext).l10n,R=a$8.useState(!0),B=R[0],ee=R[1];return a$8.useEffect(function(){$.getPermissions().then(function(se){se===null||se.includes(4)||se.includes(2048)?H.update("printStatus",o$8.Preparing):ee(!1)})},[]),B?a$8.createElement(a$8.Fragment,null):a$8.createElement(e$8.Modal,{ariaControlsSuffix:"print-permission",closeOnClickOutside:!1,closeOnEscape:!1,content:function(se){return a$8.createElement(a$8.Fragment,null,a$8.createElement("div",{className:"rpv-print__permission-body"},O&&O.print?O.print.disallowPrint:"The document does not allow to print"),a$8.createElement("div",{className:"rpv-print__permission-footer"},a$8.createElement(e$8.Button,{onClick:function(){se(),H.update("printStatus",o$8.Cancelled)}},O&&O.print?O.print.close:"Close")))},isOpened:!0})},m$6=function(A){var $=A.numLoadedPages,H=A.numPages,O=A.onCancel,R=a$8.useContext(e$8.LocalizationContext).l10n,B=a$8.useContext(e$8.ThemeContext).direction===e$8.TextDirection.RightToLeft,ee=Math.floor(100*$/H);return a$8.createElement("div",{className:"rpv-print__progress"},a$8.createElement("div",{className:e$8.classNames({"rpv-print__progress-body":!0,"rpv-print__progress-body--rtl":B})},a$8.createElement("div",{className:"rpv-print__progress-message"},R&&R.print?R.print.preparingDocument:"Preparing document ..."),a$8.createElement("div",{className:"rpv-print__progress-bar"},a$8.createElement(e$8.ProgressBar,{progress:ee})),a$8.createElement(e$8.Button,{onClick:O},R&&R.print?R.print.cancel:"Cancel")))},d$6=function(A){var $=A.canvas,H=A.page,O=A.pageHeight,R=A.pageIndex,B=A.pageWidth,ee=A.rotation,se=A.onLoad,de=e$8.useIsMounted(),ie=a$8.useRef(),ne=a$8.useState(""),pe=ne[0],J=ne[1],K=a$8.useMemo(function(){return typeof process<"u"&&{}.JEST_WORKER_ID!==void 0},[]);return a$8.useEffect(function(){var Y=ie.current;Y&&Y.cancel();var G=150/72;$.height=Math.floor(O*G),$.width=Math.floor(B*G);var U=$.getContext("2d");U.save(),U.fillStyle="rgb(255, 255, 255)",U.fillRect(0,0,$.width,$.height),U.restore();var V=H.getViewport({rotation:ee,scale:1});ie.current=H.render({canvasContext:U,intent:"print",transform:[G,0,0,G,0,0],viewport:V}),ie.current.promise.then(function(){"toBlob"in $&&"createObjectURL"in URL?$.toBlob(function(q){de.current&&J(URL.createObjectURL(q)),K&&se()}):(de.current&&J($.toDataURL()),K&&se())},function(){})},[]),pe&&a$8.createElement("div",{className:"rpv-print__page"},a$8.createElement("img",{"data-testid":"print__thumbnail-".concat(R),src:pe,onLoad:function(){K||se()}}))},f$6=function(A){var $=A.canvas,H=A.doc,O=A.pageIndex,R=A.pageRotation,B=A.pageSize,ee=A.rotation,se=A.shouldRender,de=A.onLoad,ie=e$8.useIsMounted(),ne=a$8.useState(null),pe=ne[0],J=ne[1],K=Math.abs(ee+R)%180==0;a$8.useEffect(function(){se&&e$8.getPage(H,O).then(function(G){ie.current&&J(G)})},[se]);var Y=(B.rotation+ee+R)%360;return pe&&a$8.createElement(d$6,{canvas:$,page:pe,pageHeight:K?B.pageHeight:B.pageWidth,pageIndex:O,pageWidth:K?B.pageWidth:B.pageHeight,rotation:Y,onLoad:de})},g$4=function(A){var $=A.doc,H=A.numLoadedPages,O=A.pagesRotation,R=A.pageSizes,B=A.printPages,ee=A.printStatus,se=A.rotation,de=A.onCancel,ie=A.onLoad,ne=a$8.useMemo(function(){return document.createElement("canvas")},[]),pe=a$8.useMemo(function(){var Y=document.querySelector(".rpv-print__zone");if(Y)return Y;var G=document.createElement("div");return G.classList.add("rpv-print__zone"),G.setAttribute("data-testid","print__zone"),document.body.appendChild(G),G},[]);a$8.useEffect(function(){ee===o$8.Ready&&(document.documentElement.classList.add("rpv-print__html-printing"),document.body.classList.add("rpv-print__body-printing"),window.print());var Y=function(){if(ee===o$8.Ready){document.documentElement.classList.remove("rpv-print__html-printing"),document.body.classList.remove("rpv-print__body-printing");var G=document.querySelectorAll(".rpv-print__zone");G&&G.forEach(function(U){U.parentElement.removeChild(U)}),ne.height=0,ne.width=0,document.removeEventListener("mousemove",Y),de()}};return document.addEventListener("mousemove",Y),function(){return document.removeEventListener("mousemove",Y)}},[ee]);var J=R[0].pageHeight,K=R[0].pageWidth;return n$8.createPortal(a$8.createElement(a$8.Fragment,null,B.map(function(Y,G){return a$8.createElement(f$6,{key:Y,canvas:ne,doc:$,pageIndex:Y,pageRotation:O.has(Y)?O.get(Y):0,pageSize:R[Y],rotation:se,shouldRender:G===H,onLoad:ie})}),a$8.createElement("style",{dangerouslySetInnerHTML:{__html:"@page { size: ".concat(K,"pt ").concat(J,"pt }")}})),pe)},v$4=function(A){var $=A.doc,H=A.pagesRotation,O=A.pageSizes,R=A.renderProgressBar,B=A.rotation,ee=A.setPages,se=A.store,de=a$8.useState(o$8.Inactive),ie=de[0],ne=de[1],pe=a$8.useState(0),J=pe[0],K=pe[1],Y=a$8.useMemo(function(){var q=$.numPages;return ee($).filter(function(Q){return Q>=0&&Q<q})},[$,ee]),G=Y.length,U=function(){K(0),ne(o$8.Inactive)},V=function(q){return ne(q)};return a$8.useEffect(function(){return se.subscribe("printStatus",V),function(){se.unsubscribe("printStatus",V)}},[]),a$8.createElement(a$8.Fragment,null,ie===o$8.CheckingPermission&&a$8.createElement(p$5,{doc:$,store:se}),ie===o$8.Preparing&&(R?R(J,G,U):a$8.createElement(m$6,{numLoadedPages:J,numPages:G,onCancel:U})),(ie===o$8.Preparing||ie===o$8.Ready)&&J<=G&&a$8.createElement(g$4,{doc:$,numLoadedPages:J,pagesRotation:H,pageSizes:O,printPages:Y,printStatus:ie,rotation:B,onCancel:U,onLoad:function(){var q=J+1;q<=G&&(K(q),q===G&&ne(o$8.Ready))}}))},h$4=function(A){var $=A.onClick,H=a$8.useContext(e$8.LocalizationContext).l10n,O=H&&H.print?H.print.print:"Print";return a$8.createElement(e$8.MenuItem,{icon:a$8.createElement(i$8,null),testId:"print__menu",onClick:$},O)},E$3=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&R.key==="p"&&(e$8.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;B&&document.activeElement&&B.contains(document.activeElement)&&(R.preventDefault(),H.update("printStatus",o$8.Preparing))}};return a$8.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),a$8.createElement(a$8.Fragment,null)};print_min.PrintIcon=i$8,print_min.getAllPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H})},print_min.getCustomPagesNumbers=function(A){return function($){var H,O=[];return A.replace(/\s+/g,"").split(",").forEach(function(R){var B,ee,se=R.split("-").map(function(de){return parseInt(de,10)}).filter(function(de){return Number.isInteger(de)});se.length===1?O.push(se[0]-1):se.length===2&&O.push.apply(O,(B=se[0]-1,ee=se[1]-1,Array(ee-B+1).fill(0).map(function(de,ie){return B+ie})))}),(H=O,H.filter(function(R){return H.indexOf(R)===H.lastIndexOf(R)})).filter(function(R){return R>=0&&R<$.numPages})}},print_min.getEvenPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==0})},print_min.getOddPagesNumbers=function(A){return Array(A.numPages).fill(0).map(function($,H){return H}).filter(function($){return($+1)%2==1})},print_min.printPlugin=function(A){var $=a$8.useMemo(function(){return Object.assign({},{enableShortcuts:!0,setPages:function(R){return Array(R.numPages).fill(0).map(function(B,ee){return ee})}},A)},[]),H=a$8.useMemo(function(){return e$8.createStore({printStatus:o$8.Inactive})},[]),O=function(R){return a$8.createElement(l$8,c$8({enableShortcuts:$.enableShortcuts},R,{store:H}))};return{print:function(){H.update("printStatus",o$8.CheckingPermission)},renderViewer:function(R){var B=R.slot,ee={children:a$8.createElement(a$8.Fragment,null,$.enableShortcuts&&a$8.createElement(E$3,{containerRef:R.containerRef,store:H}),a$8.createElement(v$4,{doc:R.doc,pagesRotation:R.pagesRotation,pageSizes:R.pageSizes,renderProgressBar:A==null?void 0:A.renderProgressBar,rotation:R.rotation,setPages:$.setPages,store:H}),B.children)};return c$8(c$8({},B),ee)},Print:O,PrintButton:function(){return a$8.createElement(O,null,function(R){return a$8.createElement(s$6,c$8({},R))})},PrintMenuItem:function(R){return a$8.createElement(O,null,function(B){return a$8.createElement(h$4,{onClick:function(){B.onClick(),R.onClick()}})})},setPages:function(R){$.setPages=R}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=print_min})(lib$6);var libExports$5={},lib$5={get exports(){return libExports$5},set exports(A){libExports$5=A}},properties_min={},e$7=libExports$h;function t$7(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$7=t$7(reactExports),n$7=function(){return r$7.createElement(e$7.Icon,{size:16},r$7.createElement("path",{d:`M12,1.001c6.075,0,11,4.925,11,11s-4.925,11-11,11s-11-4.925-11-11S5.925,1.001,12,1.001z
            M14.5,17.005H13
            c-0.552,0-1-0.448-1-1v-6.5c0-0.276-0.224-0.5-0.5-0.5H10
            M11.745,6.504L11.745,6.504
            M11.745,6.5c-0.138,0-0.25,0.112-0.25,0.25
            S11.607,7,11.745,7s0.25-0.112,0.25-0.25S11.883,6.5,11.745,6.5`}))},o$7=function(){return o$7=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$7.apply(this,arguments)},a$7=function(A){var $=A.doc,H=A.render,O=r$7.useState(),R=O[0],B=O[1];return r$7.useEffect(function(){$.getMetadata().then(function(ee){return Promise.resolve(ee)}).then(function(ee){return $.getDownloadInfo().then(function(se){return Promise.resolve({fileName:ee.contentDispositionFilename||"",info:ee.info,length:se.length})})}).then(function(ee){B(ee)})},[]),R?H(R):r$7.createElement("div",{className:"rpv-properties__loader"},r$7.createElement(e$7.Spinner,null))},i$7=function(A){var $=A.label,H=A.value,O=r$7.useContext(e$7.ThemeContext).direction===e$7.TextDirection.RightToLeft;return r$7.createElement("dl",{className:e$7.classNames({"rpv-properties__item":!0,"rpv-properties__item--rtl":O})},r$7.createElement("dt",{className:"rpv-properties__item-label"},$,":"),r$7.createElement("dd",{className:"rpv-properties__item-value"},H||"-"))},l$7=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"),c$7=function(A,$,H,O){var R=parseInt(A,10);return R>=$&&R<=H?R:O},p$4=function(A){var $=A.doc,H=A.fileName,O=A.onToggle,R=r$7.useContext(e$7.LocalizationContext).l10n,B=function(ee){var se=function(de){var ie=l$7.exec(de);if(!ie)return null;var ne=parseInt(ie[1],10),pe=c$7(ie[2],1,12,1)-1,J=c$7(ie[3],1,31,1),K=c$7(ie[4],0,23,0),Y=c$7(ie[5],0,59,0),G=c$7(ie[6],0,59,0),U=ie[7]||"Z",V=c$7(ie[8],0,23,0),q=c$7(ie[9],0,59,0);switch(U){case"-":K+=V,Y+=q;break;case"+":K-=V,Y-=q}return new Date(Date.UTC(ne,pe,J,K,Y,G))}(ee);return se?"".concat(se.toLocaleDateString(),", ").concat(se.toLocaleTimeString()):""};return r$7.createElement("div",{className:"rpv-properties__modal"},r$7.createElement(a$7,{doc:$,render:function(ee){return r$7.createElement(r$7.Fragment,null,r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.fileName:"File name",value:ee.fileName||(ie=H,ne=ie.split("/").pop(),ne?ne.split("#")[0].split("?")[0]:ie)}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.fileSize:"File size",value:(se=ee.length,de=Math.floor(Math.log(se)/Math.log(1024)),"".concat((se/Math.pow(1024,de)).toFixed(2)," ").concat(["B","kB","MB","GB","TB"][de]))})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.title:"Title",value:ee.info.Title}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.author:"Author",value:ee.info.Author}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.subject:"Subject",value:ee.info.Subject}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.keywords:"Keywords",value:ee.info.Keywords}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.creator:"Creator",value:ee.info.Creator}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.creationDate:"Creation date",value:B(ee.info.CreationDate)}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.modificationDate:"Modification date",value:B(ee.info.ModDate)})),r$7.createElement(e$7.Separator,null),r$7.createElement("div",{className:"rpv-properties__modal-section"},r$7.createElement(i$7,{label:R&&R.properties?R.properties.pdfProducer:"PDF producer",value:ee.info.Producer}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.pdfVersion:"PDF version",value:ee.info.PDFFormatVersion}),r$7.createElement(i$7,{label:R&&R.properties?R.properties.pageCount:"Page count",value:"".concat($.numPages)})));var se,de,ie,ne}}),r$7.createElement("div",{className:"rpv-properties__modal-footer"},r$7.createElement(e$7.Button,{onClick:O},R&&R.properties?R.properties.close:"Close")))},s$5={left:0,top:8},u$7=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,O=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.Tooltip,{ariaControlsSuffix:"properties",position:e$7.Position.BottomCenter,target:r$7.createElement(e$7.MinimalButton,{ariaLabel:O,testId:"properties__button",onClick:$},r$7.createElement(n$7,null)),content:function(){return O},offset:s$5})},m$5=function(A){var $=A.children,H=A.store,O=function(ee){var se=r$7.useState(ee.get("doc")),de=se[0],ie=se[1],ne=function(pe){ie(pe)};return r$7.useEffect(function(){return ee.subscribe("doc",ne),function(){ee.unsubscribe("doc",ne)}},[]),{currentDoc:de}}(H).currentDoc,R=H.get("fileName")||"",B=$||function(ee){return r$7.createElement(u$7,o$7({},ee))};return O?r$7.createElement(e$7.Modal,{ariaControlsSuffix:"properties",target:function(ee){return B({onClick:ee})},content:function(ee){return r$7.createElement(p$4,{doc:O,fileName:R,onToggle:ee})},closeOnClickOutside:!0,closeOnEscape:!0}):r$7.createElement(r$7.Fragment,null)},f$5=function(A){var $=A.onClick,H=r$7.useContext(e$7.LocalizationContext).l10n,O=H&&H.properties?H.properties.showProperties:"Show properties";return r$7.createElement(e$7.MenuItem,{icon:r$7.createElement(n$7,null),testId:"properties__menu",onClick:$},O)};properties_min.InfoIcon=n$7,properties_min.propertiesPlugin=function(){var A=r$7.useMemo(function(){return e$7.createStore({fileName:""})},[]),$=function(H){return r$7.createElement(m$5,o$7({},H,{store:A}))};return{onDocumentLoad:function(H){A.update("doc",H.doc)},onViewerStateChange:function(H){return A.update("fileName",H.file.name),H},ShowProperties:$,ShowPropertiesButton:function(){return r$7.createElement(m$5,{store:A})},ShowPropertiesMenuItem:function(H){return r$7.createElement($,null,function(O){return r$7.createElement(f$5,o$7({},O))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=properties_min})(lib$5);var libExports$4={},lib$4={get exports(){return libExports$4},set exports(A){libExports$4=A}},rotate_min={},t$6=libExports$h;function e$6(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$6=e$6(reactExports),n$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M3.434,10.537c0.141-0.438,0.316-0.864,0.523-1.274
            M3.069,14.425C3.023,14.053,3,13.679,3,13.305 c0-0.291,0.014-0.579,0.041-0.863
            M4.389,18.111c-0.341-0.539-0.623-1.112-0.843-1.711
            M7.163,20.9 c-0.543-0.345-1.048-0.747-1.506-1.2
            M10.98,22.248c-0.65-0.074-1.29-0.218-1.909-0.431
            M10,4.25h2 c4.987,0.015,9.017,4.069,9.003,9.055c-0.013,4.581-3.456,8.426-8.008,8.945
            M13.5,1.75L10,4.25l3.5,2.5`}))},o$6=function(){return r$6.createElement(t$6.Icon,{ignoreDirection:!0,size:16},r$6.createElement("path",{d:`M20.566,10.537c-0.141-0.438-0.316-0.864-0.523-1.274
            M20.931,14.425C20.977,14.053,21,13.679,21,13.305 c0-0.291-0.014-0.579-0.041-0.863
            M19.611,18.111c0.341-0.539,0.624-1.114,0.843-1.713
            M16.837,20.9 c0.543-0.345,1.048-0.747,1.506-1.2
            M13.02,22.248c0.65-0.074,1.29-0.218,1.909-0.431
            M14,4.25h-2 c-4.987,0.015-9.017,4.069-9.003,9.055c0.013,4.581,3.456,8.426,8.008,8.945
            M10.5,1.75l3.5,2.5l-3.5,2.5`}))},c$6=function(){return c$6=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$6.apply(this,arguments)},a$6={left:0,top:8},i$6=function(A){var $=A.direction,H=A.onClick,O=r$6.useContext(t$6.LocalizationContext).l10n,R=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",B=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",ee=$===t$6.RotateDirection.Backward?R:B,se=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.Tooltip,{ariaControlsSuffix:"rotate",position:t$6.Position.BottomCenter,target:r$6.createElement(t$6.MinimalButton,{ariaLabel:ee,testId:$===t$6.RotateDirection.Backward?"rotate__backward-button":"rotate__forward-button",onClick:H},se),content:function(){return ee},offset:a$6})},u$6=function(A){var $=A.children,H=A.direction,O=A.store;return($||function(R){return r$6.createElement(i$6,{direction:R.direction,onClick:R.onClick})})({direction:H,onClick:function(){var R=O.get("rotate");R&&R(H)}})},l$6=function(A){var $=A.direction,H=A.onClick,O=r$6.useContext(t$6.LocalizationContext).l10n,R=O&&O.rotate?O.rotate.rotateBackward:"Rotate counterclockwise",B=O&&O.rotate?O.rotate.rotateForward:"Rotate clockwise",ee=$===t$6.RotateDirection.Backward?R:B,se=$===t$6.RotateDirection.Backward?r$6.createElement(n$6,null):r$6.createElement(o$6,null);return r$6.createElement(t$6.MenuItem,{icon:se,testId:$===t$6.RotateDirection.Backward?"rotate__backward-menu":"rotate__forward-menu",onClick:H},ee)},d$5=function(A){var $=A.children,H=A.store;return $({onRotatePage:function(O,R){var B=H.get("rotatePage");B&&B(O,R)}})};rotate_min.RotateBackwardIcon=n$6,rotate_min.RotateForwardIcon=o$6,rotate_min.rotatePlugin=function(){var A=r$6.useMemo(function(){return t$6.createStore()},[]),$=function(H){return r$6.createElement(u$6,c$6({},H,{store:A}))};return{install:function(H){A.update("rotate",H.rotate),A.update("rotatePage",H.rotatePage)},Rotate:$,RotateBackwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateBackwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Backward},function(O){return r$6.createElement(l$6,{direction:O.direction,onClick:function(){O.onClick(),H.onClick()}})})},RotateForwardButton:function(){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(H){return r$6.createElement(i$6,c$6({},H))})},RotateForwardMenuItem:function(H){return r$6.createElement($,{direction:t$6.RotateDirection.Forward},function(O){return r$6.createElement(l$6,{direction:O.direction,onClick:function(){O.onClick(),H.onClick()}})})},RotatePage:function(H){return r$6.createElement(d$5,c$6({},H,{store:A}))}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=rotate_min})(lib$4);var libExports$3={},lib$3={get exports(){return libExports$3},set exports(A){libExports$3=A}},scrollMode_min={},e$5=libExports$h;function o$5(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var t$5=o$5(reactExports),l$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"0.5",y1:"6.497",x2:"22.5",y2:"6.497"}),t$5.createElement("line",{x1:"11.5",y1:"6.497",x2:"11.5",y2:"22.497"}))},c$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}),t$5.createElement("line",{x1:"11.5",y1:"0.497",x2:"11.5",y2:"22.497"}))},n$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M6.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M14.5,21.5c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z
            M22.5,21.5 c0,0.552-0.448,1-1,1h-4c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h4c0.552,0,1,0.448,1,1V21.5z`}))},r$5=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("rect",{x:"0.5",y:"0.497",width:"22",height:"22",rx:"1",ry:"1"}))},i$5=function(){return i$5=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i$5.apply(this,arguments)},a$5=function(A,$){A.get("switchScrollMode")($);var H=A.get("viewMode");$!==e$5.ScrollMode.Horizontal&&$!==e$5.ScrollMode.Wrapped||H===e$5.ViewMode.SinglePage||A.get("switchViewMode")(e$5.ViewMode.SinglePage)},d$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M23.5,5.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V5.5z
            M23.5,13.5c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V13.5z
            M23.5,21.5 c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-3c0-0.552,0.448-1,1-1h21c0.552,0,1,0.448,1,1V21.5z`}))},s$4=function(){return t$5.createElement(e$5.Icon,{size:16},t$5.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},u$5=function(A){var $=A.children,H=A.mode,O=A.onClick,R=t$5.useContext(e$5.LocalizationContext).l10n,B="",ee=t$5.createElement(d$4,null);switch(H){case e$5.ScrollMode.Horizontal:B=R&&R.scrollMode?R.scrollMode.horizontalScrolling:"Horizontal scrolling",ee=t$5.createElement(n$5,null);break;case e$5.ScrollMode.Page:B=R&&R.scrollMode?R.scrollMode.pageScrolling:"Page scrolling",ee=t$5.createElement(r$5,null);break;case e$5.ScrollMode.Wrapped:B=R&&R.scrollMode?R.scrollMode.wrappedScrolling:"Wrapped scrolling",ee=t$5.createElement(s$4,null);break;case e$5.ScrollMode.Vertical:default:B=R&&R.scrollMode?R.scrollMode.verticalScrolling:"Vertical scrolling",ee=t$5.createElement(d$4,null)}return $({icon:ee,label:B,onClick:O})},m$4={left:0,top:8},M$1=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-button";break;case e$5.ScrollMode.Page:B="scroll-mode__page-button";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-button";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-button"}return t$5.createElement(u$5,{mode:O,onClick:R},function(ee){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"scroll-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:ee.label,isDisabled:$,isSelected:H,testId:B,onClick:ee.onClick},ee.icon),content:function(){return ee.label},offset:m$4})})},f$4=function(A){var $=t$5.useState(A.get("scrollMode")||e$5.ScrollMode.Vertical),H=$[0],O=$[1],R=function(B){O(B)};return t$5.useEffect(function(){return A.subscribe("scrollMode",R),function(){A.unsubscribe("scrollMode",R)}},[]),{scrollMode:H}},w$1=function(A){var $=t$5.useState(A.get("viewMode")||e$5.ViewMode.SinglePage),H=$[0],O=$[1],R=function(B){O(B)};return t$5.useEffect(function(){return A.subscribe("viewMode",R),function(){A.unsubscribe("viewMode",R)}},[]),{viewMode:H}},S$3=function(A){var $=A.children,H=A.mode,O=A.store,R=w$1(O).viewMode,B=f$4(O).scrollMode===H,ee=(H===e$5.ScrollMode.Horizontal||H===e$5.ScrollMode.Wrapped)&&R!==e$5.ViewMode.SinglePage;return($||function(se){return t$5.createElement(M$1,{isDisabled:ee,isSelected:B,mode:se.mode,onClick:se.onClick})})({isDisabled:ee,isSelected:B,mode:H,onClick:function(){a$5(O,H)}})},g$3=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ScrollMode.Horizontal:B="scroll-mode__horizontal-menu";break;case e$5.ScrollMode.Page:B="scroll-mode__page-menu";break;case e$5.ScrollMode.Wrapped:B="scroll-mode__wrapped-menu";break;case e$5.ScrollMode.Vertical:default:B="scroll-mode__vertical-menu"}return t$5.createElement(u$5,{mode:O,onClick:R},function(ee){return t$5.createElement(e$5.MenuItem,{checked:H,icon:ee.icon,isDisabled:$,testId:B,onClick:ee.onClick},ee.label)})},h$3=function(A,$){A.get("switchViewMode")($);var H=A.get("scrollMode");H!==e$5.ScrollMode.Horizontal&&H!==e$5.ScrollMode.Wrapped||$===e$5.ViewMode.SinglePage||A.get("switchScrollMode")(e$5.ScrollMode.Vertical)},b$3=function(A){var $=A.children,H=A.mode,O=A.onClick,R=t$5.useContext(e$5.LocalizationContext).l10n,B="",ee=t$5.createElement(r$5,null);switch(H){case e$5.ViewMode.DualPage:B=R&&R.scrollMode?R.scrollMode.dualPage:"Dual page",ee=t$5.createElement(c$5,null);break;case e$5.ViewMode.DualPageWithCover:B=R&&R.scrollMode?R.scrollMode.dualPageCover:"Dual page with cover",ee=t$5.createElement(l$5,null);break;case e$5.ViewMode.SinglePage:default:B=R&&R.scrollMode?R.scrollMode.singlePage:"Single page",ee=t$5.createElement(r$5,null)}return $({icon:ee,label:B,onClick:O})},p$3={left:0,top:8},v$3=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ViewMode.DualPage:B="view-mode__dual-button";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-button";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-button"}return t$5.createElement(b$3,{mode:O,onClick:R},function(ee){return t$5.createElement(e$5.Tooltip,{ariaControlsSuffix:"view-mode-switch",position:e$5.Position.BottomCenter,target:t$5.createElement(e$5.MinimalButton,{ariaLabel:ee.label,isDisabled:$,isSelected:H,testId:B,onClick:ee.onClick},ee.icon),content:function(){return ee.label},offset:p$3})})},k$2=function(A){var $=A.children,H=A.mode,O=A.store,R=w$1(O).viewMode,B=f$4(O).scrollMode,ee=R===H,se=(B===e$5.ScrollMode.Horizontal||B===e$5.ScrollMode.Wrapped)&&H!==e$5.ViewMode.SinglePage;return($||function(de){return t$5.createElement(v$3,{isDisabled:se,isSelected:ee,mode:de.mode,onClick:de.onClick})})({isDisabled:se,isSelected:ee,mode:H,onClick:function(){h$3(O,H)}})},C$2=function(A){var $=A.isDisabled,H=A.isSelected,O=A.mode,R=A.onClick,B="";switch(O){case e$5.ViewMode.DualPage:B="view-mode__dual-menu";break;case e$5.ViewMode.DualPageWithCover:B="view-mode__dual-cover-menu";break;case e$5.ViewMode.SinglePage:default:B="view-mode__single-menu"}return t$5.createElement(b$3,{mode:O,onClick:R},function(ee){return t$5.createElement(e$5.MenuItem,{checked:H,icon:ee.icon,isDisabled:$,testId:B,onClick:ee.onClick},ee.label)})};scrollMode_min.DualPageCoverViewModeIcon=l$5,scrollMode_min.DualPageViewModeIcon=c$5,scrollMode_min.HorizontalScrollingIcon=n$5,scrollMode_min.PageScrollingIcon=r$5,scrollMode_min.VerticalScrollingIcon=d$4,scrollMode_min.WrappedScrollingIcon=s$4,scrollMode_min.scrollModePlugin=function(){var A=t$5.useMemo(function(){return e$5.createStore({scrollMode:e$5.ScrollMode.Vertical,viewMode:e$5.ViewMode.SinglePage,switchScrollMode:function(){},switchViewMode:function(){}})},[]),$=function(O){return t$5.createElement(S$3,i$5({},O,{store:A}))},H=function(O){return t$5.createElement(k$2,i$5({},O,{store:A}))};return{install:function(O){A.update("switchScrollMode",O.switchScrollMode),A.update("switchViewMode",O.switchViewMode)},onViewerStateChange:function(O){return A.update("scrollMode",O.scrollMode),A.update("viewMode",O.viewMode),O},switchScrollMode:function(O){a$5(A,O)},switchViewMode:function(O){h$3(A,O)},SwitchScrollMode:$,SwitchScrollModeButton:function(O){return t$5.createElement($,{mode:O.mode},function(R){return t$5.createElement(M$1,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchScrollModeMenuItem:function(O){return t$5.createElement($,{mode:O.mode},function(R){return t$5.createElement(g$3,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),O.onClick()}})})},SwitchViewMode:H,SwitchViewModeButton:function(O){return t$5.createElement(H,{mode:O.mode},function(R){return t$5.createElement(v$3,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick()}})})},SwitchViewModeMenuItem:function(O){return t$5.createElement(H,{mode:O.mode},function(R){return t$5.createElement(C$2,{isDisabled:R.isDisabled,isSelected:R.isSelected,mode:R.mode,onClick:function(){R.onClick(),O.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=scrollMode_min})(lib$3);var libExports$2={},lib$2={get exports(){return libExports$2},set exports(A){libExports$2=A}},search_min={},e$4=libExports$h;function t$4(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var r$4=t$4(reactExports),n$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M0.541,5.627L11.666,18.2c0.183,0.207,0.499,0.226,0.706,0.043c0.015-0.014,0.03-0.028,0.043-0.043
            L23.541,5.627`}))},o$4=function(){return r$4.createElement(e$4.Icon,{size:16},r$4.createElement("path",{d:`M23.535,18.373L12.409,5.8c-0.183-0.207-0.499-0.226-0.706-0.043C11.688,5.77,11.674,5.785,11.66,5.8
            L0.535,18.373`}))},a$4=function(){return r$4.createElement(e$4.Icon,{ignoreDirection:!0,size:16},r$4.createElement("path",{d:`M10.5,0.5c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.5,10.5,0.5z
            M23.5,23.5
            l-5.929-5.929`}))},c$4=function(){return c$4=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$4.apply(this,arguments)},u$4={keyword:"",regExp:new RegExp(" "),wholeWords:!1},i$4=function(A){return{left:"".concat(A.left,"%"),top:"".concat(A.top,"%"),height:"".concat(A.height,"%"),width:"".concat(A.width,"%")}},s$3=function(A){var $=A.index,H=A.area,O=A.onHighlightKeyword,R=r$4.useRef();return e$4.useIsomorphicLayoutEffect(function(){var B=R.current;O&&B&&O({highlightEle:B,keyword:H.keyword})},[]),r$4.createElement("div",{className:"rpv-search__highlight","data-index":$,ref:R,style:i$4(H),title:H.keywordStr.trim()})},l$4=function(A){var $=A.parentNode;$&&$.removeChild(A)},h$2=function(A){var $=A.parentNode;if($){var H=document.createRange();H.selectNodeContents(A),function(O,R){l$4(O);var B=R.parentNode;B&&B.insertBefore(O,R),l$4(R)}(H.extractContents(),A),$.normalize()}},d$3=function(A,$){return A.top<$.top?-1:A.top>$.top?1:A.left<$.left?-1:A.left>$.left?1:0},f$3=function(A){var $=A.numPages,H=A.pageIndex,O=A.renderHighlights,R=A.store,B=A.onHighlightKeyword,ee=r$4.useRef(),se=r$4.useCallback(function(De){return r$4.createElement(r$4.Fragment,null,De.highlightAreas.map(function(Ge,Fe){return r$4.createElement(s$3,{index:Fe,key:Fe,area:Ge,onHighlightKeyword:B})}))},[]),de=O||se,ie=r$4.useState(R.get("matchPosition")),ne=ie[0],pe=ie[1],J=r$4.useState(R.get("keyword")||[u$4]),K=J[0],Y=J[1],G=r$4.useState({pageIndex:H,scale:1,status:e$4.LayerRenderStatus.PreRender}),U=G[0],V=G[1],q=r$4.useRef(null),Q=r$4.useRef([]),Z=r$4.useState([]),W=Z[0],X=Z[1],ue=function(){return!0},_e=r$4.useCallback(function(){return R.get("targetPageFilter")||ue},[R.get("targetPageFilter")]),be=function(De){var Ge=Q.current;if(Ge.length===0)return[];var Fe=[],xe=[].slice.call(De.querySelectorAll(".rpv-core__text-layer-text")),Te=Ge.map(function(et){return et.char}).join("");return K.forEach(function(et){var Ke=et.keyword;if(Ke.trim()){for(var ye,oe=et.regExp.flags.indexOf("g")===-1?new RegExp(et.regExp,"".concat(et.regExp.flags,"g")):et.regExp,re=[];(ye=oe.exec(Te))!==null;)re.push({keyword:oe,startIndex:ye.index,endIndex:oe.lastIndex});re.map(function(fe){return{keyword:fe.keyword,indexes:Ge.slice(fe.startIndex,fe.endIndex)}}).forEach(function(fe){var Se=fe.indexes.reduce(function(Ee,Pe){return Ee[Pe.spanIndex]=(Ee[Pe.spanIndex]||[]).concat([Pe]),Ee},{});Object.values(Se).forEach(function(Ee){if(Ee.length!==1||Ee[0].char.trim()!==""){var Pe=et.wholeWords?Ee.slice(1,-1):Ee,Oe=function(He,rt,Ze,tt,ze){var ae=document.createRange(),le=tt.firstChild;if(!le||le.nodeType!==Node.TEXT_NODE)return null;var ve=le.textContent.length,Ce=ze[0].charIndexInSpan,ge=ze.length===1?Ce:ze[ze.length-1].charIndexInSpan;if(Ce>ve||ge+1>ve)return null;ae.setStart(le,Ce),ae.setEnd(le,ge+1);var ke=document.createElement("span");ae.surroundContents(ke);var Je=ke.getBoundingClientRect(),st=Ze.getBoundingClientRect(),it=st.height,Ue=st.width,ht=100*(Je.left-st.left)/Ue,lt=100*(Je.top-st.top)/it,pt=100*Je.height/it,Ct=100*Je.width/Ue;return h$2(ke),{keyword:rt,keywordStr:He,numPages:$,pageIndex:H,left:ht,top:lt,height:pt,width:Ct,pageHeight:it,pageWidth:Ue}}(Ke,fe.keyword,De,xe[Pe[0].spanIndex],Pe);Oe&&Fe.push(Oe)}})})}}),Fe.sort(d$3)},we=function(De){De&&De.length>0&&Y(De)},ce=function(De){return pe(De)},$e=function(De){if(De.has(H)){var Ge=De.get(H);Ge&&V({ele:Ge.ele,pageIndex:H,scale:Ge.scale,status:Ge.status})}},Xe=function(){return K.length===0||K.length===1&&K[0].keyword.trim()===""};return r$4.useEffect(function(){if(!Xe()&&U.status===e$4.LayerRenderStatus.DidRender&&!Q.current.length){var De=U.ele,Ge=[].slice.call(De.querySelectorAll(".rpv-core__text-layer-text")).map(function(Fe){return Fe.textContent}).reduce(function(Fe,xe,Te){return Fe.concat(xe.split("").map(function(et,Ke){return{char:et,charIndexInSpan:Ke,spanIndex:Te}}))},[{char:"",charIndexInSpan:0,spanIndex:0}]).slice(1);Q.current=Ge}},[K,U.status]),r$4.useEffect(function(){if(!Xe()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&_e()({pageIndex:H,numPages:$})){var De=U.ele,Ge=be(De);X(Ge)}},[K,ne,U.status,Q.current]),r$4.useEffect(function(){Xe()&&U.ele&&U.status===e$4.LayerRenderStatus.DidRender&&X([])},[K,U.status]),r$4.useEffect(function(){if(W.length!==0){var De=ee.current;if(ne.pageIndex===H&&De&&U.status===e$4.LayerRenderStatus.DidRender){var Ge=De.querySelector('.rpv-search__highlight[data-index="'.concat(ne.matchIndex,'"]'));if(Ge){var Fe=function(Ke,ye){for(var oe=Ke.offsetTop,re=Ke.offsetLeft,fe=Ke.parentElement;fe&&fe!==ye;)oe+=fe.offsetTop,re+=fe.offsetLeft,fe=fe.parentElement;return{left:re,top:oe}}(Ge,De),xe=Fe.left,Te=Fe.top,et=R.get("jumpToDestination");et&&(et(H,(De.getBoundingClientRect().height-Te)/U.scale,xe/U.scale,U.scale),q.current&&q.current.classList.remove("rpv-search__highlight--current"),q.current=Ge,Ge.classList.add("rpv-search__highlight--current"))}}}},[W,ne]),r$4.useEffect(function(){return R.subscribe("keyword",we),R.subscribe("matchPosition",ce),R.subscribe("renderStatus",$e),function(){R.unsubscribe("keyword",we),R.unsubscribe("matchPosition",ce),R.unsubscribe("renderStatus",$e)}},[]),r$4.createElement("div",{className:"rpv-search__highlights","data-testid":"search__highlights-".concat(H),ref:ee},de({getCssProperties:i$4,highlightAreas:W}))},p$2=function(A){var $,H=A.wholeWords?" ".concat(A.keyword," "):A.keyword,O=A.matchCase?"g":"gi";return{keyword:A.keyword,regExp:new RegExp(($=H,$.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")),O),wholeWords:A.wholeWords||!1}},g$2=function(A,$,H){return A instanceof RegExp?{keyword:A.source,regExp:A,wholeWords:H||!1}:typeof A=="string"?A===""?u$4:p$2({keyword:A,matchCase:$||!1,wholeWords:H||!1}):($!==void 0&&(A.matchCase=$),H!==void 0&&(A.wholeWords=H),p$2(A))},m$3=function(A){var $,H=A.get("initialKeyword"),O=r$4.useMemo(function(){if(H&&H.length===1){var ce=g$2(H[0]);return{matchCase:ce.regExp.flags.indexOf("i")===-1,wholeWords:ce.wholeWords}}return{matchCase:!1,wholeWords:!1}},[]),R=function(ce){var $e=r$4.useRef(ce.get("doc")),Xe=function(De){$e.current=De};return r$4.useEffect(function(){return ce.subscribe("doc",Xe),function(){ce.unsubscribe("doc",Xe)}},[]),$e}(A),B=r$4.useState(H),ee=B[0],se=B[1],de=r$4.useState([]),ie=de[0],ne=de[1],pe=r$4.useState(0),J=pe[0],K=pe[1],Y=r$4.useState(O.matchCase),G=Y[0],U=Y[1],V=r$4.useRef([]),q=r$4.useState(O.wholeWords),Q=q[0],Z=q[1],W=function(){return!0},X=r$4.useCallback(function(){return A.get("targetPageFilter")||W},[A.get("targetPageFilter")]),ue=function(ce){var $e=ie.length;if(ee.length===0||$e===0)return null;var Xe=ce===$e+1?1:Math.max(1,Math.min($e,ce));return K(Xe),be(ie[Xe-1])},_e=function(ce){return se(ce===""?[]:[ce])},be=function(ce){var $e=A.get("jumpToPage");return $e&&$e(ce.pageIndex),A.update("matchPosition",{matchIndex:ce.matchIndex,pageIndex:ce.pageIndex}),ce},we=function(ce,$e,Xe){var De=R.current;if(!De)return Promise.resolve([]);var Ge=De.numPages,Fe=ce.map(function(xe){return g$2(xe,$e,Xe)});return A.update("keyword",Fe),K(0),ne([]),new Promise(function(xe,Te){var et=V.current.length===0?function(){var Ke=R.current;if(!Ke)return Promise.resolve([]);var ye=Array(Ke.numPages).fill(0).map(function(oe,re){return e$4.getPage(Ke,re).then(function(fe){return fe.getTextContent()}).then(function(fe){var Se=fe.items.map(function(Ee){return Ee.str||""}).join("");return Promise.resolve({pageContent:Se,pageIndex:re})})});return Promise.all(ye).then(function(oe){return oe.sort(function(re,fe){return re.pageIndex-fe.pageIndex}),Promise.resolve(oe.map(function(re){return re.pageContent}))})}().then(function(Ke){return V.current=Ke,Promise.resolve(Ke)}):Promise.resolve(V.current);et.then(function(Ke){var ye=[];Ke.forEach(function(oe,re){X()({pageIndex:re,numPages:Ge})&&Fe.forEach(function(fe){for(var Se,Ee=0;(Se=fe.regExp.exec(oe))!==null;)ye.push({keyword:fe.regExp,matchIndex:Ee,pageIndex:re,pageText:oe,startIndex:Se.index,endIndex:fe.regExp.lastIndex}),Ee++})}),ne(ye),ye.length>0&&(K(1),be(ye[0])),xe(ye)})})};return r$4.useEffect(function(){V.current=[]},[R.current]),{clearKeyword:function(){A.update("keyword",[u$4]),_e(""),K(0),ne([]),U(!1),Z(!1)},changeMatchCase:function(ce){U(ce),ee.length>0&&we(ee,ce,Q)},changeWholeWords:function(ce){Z(ce),ee.length>0&&we(ee,G,ce)},currentMatch:J,jumpToMatch:ue,jumpToNextMatch:function(){return ue(J+1)},jumpToPreviousMatch:function(){return ue(J-1)},keywords:ee,matchCase:G,numberOfMatches:ie.length,wholeWords:Q,search:function(){return we(ee,G,Q)},searchFor:we,setKeywords:se,keyword:ee.length===0?"":($=ee[0],$ instanceof RegExp?$.source:typeof $=="string"?$:$.keyword),setKeyword:_e,setTargetPages:function(ce){A.update("targetPageFilter",ce)}}},v$2=function(A){var $=A.children,H=A.store,O=m$3(H),R=r$4.useState(!1),B=R[0],ee=R[1],se=function(de){return ee(!0)};return r$4.useEffect(function(){return H.subscribe("doc",se),function(){H.unsubscribe("doc",se)}},[]),$(c$4(c$4({},O),{isDocumentLoaded:B}))},x=function(A){var $=A.containerRef,H=A.store,O=r$4.useRef(!1),R=function(){O.current=!0},B=function(){O.current=!1},ee=function(se){var de=$.current;de&&(se.shiftKey||se.altKey||se.key!=="f"||(e$4.isMac()?se.metaKey&&!se.ctrlKey:se.ctrlKey)&&(O.current||document.activeElement&&de.contains(document.activeElement))&&(se.preventDefault(),H.update("areShortcutsPressed",!0)))};return r$4.useEffect(function(){var se=$.current;if(se)return document.addEventListener("keydown",ee),se.addEventListener("mouseenter",R),se.addEventListener("mouseleave",B),function(){document.removeEventListener("keydown",ee),se.removeEventListener("mouseenter",R),se.removeEventListener("mouseleave",B)}},[$.current]),r$4.createElement(r$4.Fragment,null)},y={left:0,top:8},E$2=function(A){var $=A.store,H=A.onToggle,O=r$4.useContext(e$4.LocalizationContext).l10n,R=r$4.useContext(e$4.ThemeContext).direction,B=r$4.useState(!1),ee=B[0],se=B[1],de=r$4.useState(!1),ie=de[0],ne=de[1],pe=R===e$4.TextDirection.RightToLeft,J=m$3($),K=J.clearKeyword,Y=J.changeMatchCase,G=J.changeWholeWords,U=J.currentMatch,V=J.jumpToNextMatch,q=J.jumpToPreviousMatch,Q=J.keyword,Z=J.matchCase,W=J.numberOfMatches,X=J.wholeWords,ue=J.search,_e=J.setKeyword,be=function(De){se(!0),ue().then(function(Ge){se(!1),ne(!0),De&&De()})};r$4.useEffect(function(){var De=$.get("initialKeyword");De&&De.length===1&&Q&&be(function(){$.update("initialKeyword",[])})},[]);var we=O&&O.search?O.search.enterToSearch:"Enter to search",ce=O&&O.search?O.search.previousMatch:"Previous match",$e=O&&O.search?O.search.nextMatch:"Next match",Xe=O&&O.search?O.search.close:"Close";return r$4.createElement("div",{className:"rpv-search__popover"},r$4.createElement("div",{className:"rpv-search__popover-input-counter"},r$4.createElement(e$4.TextBox,{ariaLabel:we,autoFocus:!0,placeholder:we,type:"text",value:Q,onChange:function(De){ne(!1),_e(De)},onKeyDown:function(De){De.key==="Enter"&&Q&&(ie?V():be())}}),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-counter":!0,"rpv-search__popover-counter--ltr":!pe,"rpv-search__popover-counter--rtl":pe})},ee&&r$4.createElement(e$4.Spinner,{testId:"search__popover-searching",size:"1rem"}),!ee&&r$4.createElement("span",{"data-testid":"search__popover-num-matches"},U,"/",W))),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox","data-testid":"search__popover-match-case",checked:Z,type:"checkbox",onChange:function(De){ne(!1),Y(De.target.checked)}})," ",O&&O.search?O.search.matchCase:"Match case"),r$4.createElement("label",{className:"rpv-search__popover-label"},r$4.createElement("input",{className:"rpv-search__popover-label-checkbox",checked:X,"data-testid":"search__popover-whole-words",type:"checkbox",onChange:function(De){ne(!1),G(De.target.checked)}})," ",O&&O.search?O.search.wholeWords:"Whole words"),r$4.createElement("div",{className:"rpv-search__popover-footer"},r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-previous-match",position:pe?e$4.Position.BottomRight:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:ce,isDisabled:U<=1,onClick:q},r$4.createElement(o$4,null)),content:function(){return ce},offset:y})),r$4.createElement("div",{className:"rpv-search__popover-footer-item"},r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-next-match",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaLabel:$e,isDisabled:U>W-1,onClick:V},r$4.createElement(n$4,null)),content:function(){return $e},offset:y})),r$4.createElement("div",{className:e$4.classNames({"rpv-search__popover-footer-button":!0,"rpv-search__popover-footer-button--ltr":!pe,"rpv-search__popover-footer-button--rtl":pe})},r$4.createElement(e$4.Button,{onClick:function(){H(),K()}},Xe))))},w=function(A){var $=A.children,H=A.onClick,O=r$4.useContext(e$4.LocalizationContext).l10n,R=O&&O.search?O.search.search:"Search";return $({icon:r$4.createElement(a$4,null),label:R,onClick:H})},b$2={left:0,top:8},k$1=function(A){var $=A.enableShortcuts,H=A.store,O=A.onClick,R=$?e$4.isMac()?"Meta+F":"Ctrl+F":"",B=function(ee){ee&&O()};return r$4.useEffect(function(){return H.subscribe("areShortcutsPressed",B),function(){H.unsubscribe("areShortcutsPressed",B)}},[]),r$4.createElement(w,{onClick:O},function(ee){return r$4.createElement(e$4.Tooltip,{ariaControlsSuffix:"search-popover",position:e$4.Position.BottomCenter,target:r$4.createElement(e$4.MinimalButton,{ariaKeyShortcuts:R,ariaLabel:ee.label,testId:"search__popover-button",onClick:O},ee.icon),content:function(){return ee.label},offset:b$2})})},S$2={left:0,top:8},C$1=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=r$4.useContext(e$4.ThemeContext).direction===e$4.TextDirection.RightToLeft?e$4.Position.BottomRight:e$4.Position.BottomLeft,B=$||function(ee){return r$4.createElement(k$1,c$4({enableShortcuts:H,store:O},ee))};return r$4.createElement(e$4.Popover,{ariaControlsSuffix:"search",lockScroll:!1,position:R,target:function(ee){return B({onClick:ee})},content:function(ee){return r$4.createElement(E$2,{store:O,onToggle:ee})},offset:S$2,closeOnClickOutside:!1,closeOnEscape:!0})},P$1=function(A){return Array.isArray(A)?A.map(function($){return g$2($)}):[g$2(A)]};search_min.NextIcon=n$4,search_min.PreviousIcon=o$4,search_min.SearchIcon=a$4,search_min.searchPlugin=function(A){var $=r$4.useMemo(function(){return Object.assign({},{enableShortcuts:!0,onHighlightKeyword:function(){}},A)},[]),H=r$4.useMemo(function(){return e$4.createStore({initialKeyword:A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],keyword:A&&A.keyword?P$1(A.keyword):[u$4],matchPosition:{matchIndex:-1,pageIndex:-1},renderStatus:new Map})},[]),O=m$3(H),R=O.clearKeyword,B=O.jumpToMatch,ee=O.jumpToNextMatch,se=O.jumpToPreviousMatch,de=O.searchFor,ie=O.setKeywords,ne=O.setTargetPages,pe=function(J){return r$4.createElement(C$1,c$4({enableShortcuts:$.enableShortcuts},J,{store:H}))};return{install:function(J){var K=A&&A.keyword?Array.isArray(A.keyword)?A.keyword:[A.keyword]:[],Y=A&&A.keyword?P$1(A.keyword):[u$4];H.update("initialKeyword",K),H.update("jumpToDestination",J.jumpToDestination),H.update("jumpToPage",J.jumpToPage),H.update("keyword",Y)},renderPageLayer:function(J){return r$4.createElement(f$3,{key:J.pageIndex,numPages:J.doc.numPages,pageIndex:J.pageIndex,renderHighlights:A==null?void 0:A.renderHighlights,store:H,onHighlightKeyword:$.onHighlightKeyword})},renderViewer:function(J){var K=J.slot;return K.subSlot&&(K.subSlot.children=r$4.createElement(r$4.Fragment,null,$.enableShortcuts&&r$4.createElement(x,{containerRef:J.containerRef,store:H}),K.subSlot.children)),K},uninstall:function(J){var K=H.get("renderStatus");K&&K.clear()},onDocumentLoad:function(J){H.update("doc",J.doc)},onTextLayerRender:function(J){var K=H.get("renderStatus");K&&(K=K.set(J.pageIndex,J),H.update("renderStatus",K))},Search:function(J){return r$4.createElement(v$2,c$4({},J,{store:H}))},ShowSearchPopover:pe,ShowSearchPopoverButton:function(){return r$4.createElement(pe,null,function(J){return r$4.createElement(k$1,c$4({enableShortcuts:$.enableShortcuts,store:H},J))})},clearHighlights:function(){R()},highlight:function(J){var K=Array.isArray(J)?J:[J];return ie(K),de(K)},jumpToMatch:B,jumpToNextMatch:ee,jumpToPreviousMatch:se,setTargetPages:ne}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=search_min})(lib$2);var libExports$1={},lib$1={get exports(){return libExports$1},set exports(A){libExports$1=A}},theme_min={},e$3=libExports$h;function t$3(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$3=t$3(reactExports),r$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.5,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.106l-2.4-2.4a1,1,0,0,0-1.414,0l-2.4,2.4H5.5a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.894l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4H18.5a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M10,6.349a6,6,0,0,1,0,11.3,6,6,0,1,0,0-11.3Z"}))},c$3=function(){return n$3.createElement(e$3.Icon,{size:16},n$3.createElement("path",{d:"M19.491,15.106l2.4-2.4a1,1,0,0,0,0-1.414l-2.4-2.4V5.5a1,1,0,0,0-1-1H15.1L12.7,2.1a1,1,0,0,0-1.414,0l-2.4,2.4H5.491a1,1,0,0,0-1,1V8.894l-2.4,2.4a1,1,0,0,0,0,1.414l2.4,2.4V18.5a1,1,0,0,0,1,1H8.885l2.4,2.4a1,1,0,0,0,1.414,0l2.4-2.4h3.394a1,1,0,0,0,1-1Z"}),n$3.createElement("path",{d:"M11.491,6c4,0,6,2.686,6,6s-2,6-6,6Z"}))},o$3=function(){return o$3=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},o$3.apply(this,arguments)},a$3={left:0,top:8},i$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),O=n$3.useContext(e$3.LocalizationContext).l10n,R=H.currentTheme==="dark",B=O&&O.theme?R?O.theme.switchLightTheme:O.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.Tooltip,{ariaControlsSuffix:"theme-switch",position:e$3.Position.BottomCenter,target:n$3.createElement(e$3.MinimalButton,{ariaLabel:B,testId:"theme__switch-button",onClick:$},R?n$3.createElement(c$3,null):n$3.createElement(r$3,null)),content:function(){return B},offset:a$3})},l$3=function(A){var $=A.children,H=n$3.useContext(e$3.ThemeContext);return($||function(O){return n$3.createElement(i$3,{onClick:O.onClick})})({onClick:function(){return H.setCurrentTheme(H.currentTheme==="dark"?"light":"dark")}})},u$3=function(A){var $=A.onClick,H=n$3.useContext(e$3.ThemeContext),O=n$3.useContext(e$3.LocalizationContext).l10n,R=H.currentTheme==="dark",B=O&&O.theme?R?O.theme.switchLightTheme:O.theme.switchDarkTheme:R?"Switch to the light theme":"Switch to the dark theme";return n$3.createElement(e$3.MenuItem,{icon:R?n$3.createElement(c$3,null):n$3.createElement(r$3,null),testId:"theme__switch-menu",onClick:$},B)};theme_min.DarkIcon=r$3,theme_min.LightIcon=c$3,theme_min.themePlugin=function(){var A=function($){return n$3.createElement(l$3,o$3({},$))};return{SwitchTheme:A,SwitchThemeButton:function(){return n$3.createElement(A,null,function($){return n$3.createElement(i$3,o$3({},$))})},SwitchThemeMenuItem:function($){return n$3.createElement(A,null,function(H){return n$3.createElement(u$3,{onClick:function(){H.onClick(),$.onClick()}})})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=theme_min})(lib$1);var libExports={},lib={get exports(){return libExports},set exports(A){libExports=A}},zoom_min={},e$2=libExports$h;function t$2(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var n$2=t$2(reactExports),o$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10
            M10.5,5.499v10`}))},r$2=function(){return n$2.createElement(e$2.Icon,{ignoreDirection:!0,size:16},n$2.createElement("path",{d:`M10.5,0.499c5.523,0,10,4.477,10,10s-4.477,10-10,10s-10-4.477-10-10S4.977,0.499,10.5,0.499z
            M23.5,23.499
            l-5.929-5.929
            M5.5,10.499h10`}))},c$2=function(){return c$2=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},c$2.apply(this,arguments)},a$2=function(A){var $=n$2.useState(A.get("scale")||0),H=$[0],O=$[1],R=function(B){O(B)};return n$2.useEffect(function(){return A.subscribe("scale",R),function(){A.unsubscribe("scale",R)}},[]),{scale:H}},u$2=function(A){var $=A.children,H=A.store;return($||function(O){return n$2.createElement(n$2.Fragment,null,"".concat(Math.round(100*O.scale),"%"))})({scale:a$2(H).scale})},i$2=[.1,.2,.3,.4,.5,.6,.7,.8,.9,1,1.1,1.3,1.5,1.7,1.9,2.1,2.4,2.7,3,3.3,3.7,4.1,4.6,5.1,5.7,6.3,7,7.7,8.5,9.4,10],l$2=function(A){return i$2.find(function($){return $>A})||A},m$2=function(A){var $=i$2.findIndex(function(H){return H>=A});return $===-1||$===0?A:i$2[$-1]},s$2=function(A){var $=A.containerRef,H=A.store,O=function(R){if(!R.shiftKey&&!R.altKey&&(e$2.isMac()?R.metaKey:R.ctrlKey)){var B=$.current;if(B&&document.activeElement&&B.contains(document.activeElement)){var ee=H.get("zoom");if(ee){var se=H.get("scale")||1,de=1;switch(R.key){case"-":de=m$2(se);break;case"=":de=l$2(se);break;case"0":de=1;break;default:de=se}de!==se&&(R.preventDefault(),ee(de))}}}};return n$2.useEffect(function(){if($.current)return document.addEventListener("keydown",O),function(){document.removeEventListener("keydown",O)}},[$.current]),n$2.createElement(n$2.Fragment,null)},f$2=[.5,.75,1,1.25,1.5,2,3,4],v$1={left:0,top:8},p$1=function(A){var $=A.levels,H=$===void 0?f$2:$,O=A.scale,R=A.onZoom,B=n$2.useContext(e$2.LocalizationContext).l10n,ee=n$2.useContext(e$2.ThemeContext).direction===e$2.TextDirection.RightToLeft,se=B&&B.zoom?B.zoom.zoomDocument:"Zoom document";return n$2.createElement(e$2.Popover,{ariaControlsSuffix:"zoom",ariaHasPopup:"menu",position:e$2.Position.BottomCenter,target:function(de){return n$2.createElement(e$2.MinimalButton,{ariaLabel:se,testId:"zoom__popover-target",onClick:function(){de()}},n$2.createElement("span",{className:"rpv-zoom__popover-target"},n$2.createElement("span",{"data-testid":"zoom__popover-target-scale",className:e$2.classNames({"rpv-zoom__popover-target-scale":!0,"rpv-zoom__popover-target-scale--ltr":!ee,"rpv-zoom__popover-target-scale--rtl":ee})},Math.round(100*O),"%"),n$2.createElement("span",{className:"rpv-zoom__popover-target-arrow"})))},content:function(de){return n$2.createElement(e$2.Menu,null,Object.keys(e$2.SpecialZoomLevel).map(function(ie){var ne=ie;return n$2.createElement(e$2.MenuItem,{key:ne,onClick:function(){de(),R(ne)}},function(pe){switch(pe){case e$2.SpecialZoomLevel.ActualSize:return B&&B.zoom?B.zoom.actualSize:"Actual size";case e$2.SpecialZoomLevel.PageFit:return B&&B.zoom?B.zoom.pageFit:"Page fit";case e$2.SpecialZoomLevel.PageWidth:return B&&B.zoom?B.zoom.pageWidth:"Page width"}}(ne))}),n$2.createElement(e$2.MenuDivider,null),H.map(function(ie){return n$2.createElement(e$2.MenuItem,{key:ie,onClick:function(){de(),R(ie)}},"".concat(Math.round(100*ie),"%"))}))},offset:v$1,closeOnClickOutside:!0,closeOnEscape:!0})},z=function(A){var $=A.children,H=A.levels,O=A.store;return($||function(R){return n$2.createElement(p$1,{levels:H,scale:R.scale,onZoom:R.onZoom})})({scale:a$2(O).scale,onZoom:function(R){var B=O.get("zoom");B&&B(R)}})},E$1={left:0,top:8},d$2=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$2.useContext(e$2.LocalizationContext).l10n,R=O&&O.zoom?O.zoom.zoomIn:"Zoom in",B=$?e$2.isMac()?"Meta+=":"Ctrl+=":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-in",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"zoom__in-button",onClick:H},n$2.createElement(o$2,null)),content:function(){return R},offset:E$1})},C=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=a$2(O).scale;return($||d$2)({enableShortcuts:H,onClick:function(){var B=O.get("zoom");B&&B(l$2(R))}})},h$1=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,O=H&&H.zoom?H.zoom.zoomIn:"Zoom in";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(o$2,null),testId:"zoom__in-menu",onClick:$},O)},g$1={left:0,top:8},b$1=function(A){var $=A.enableShortcuts,H=A.onClick,O=n$2.useContext(e$2.LocalizationContext).l10n,R=O&&O.zoom?O.zoom.zoomOut:"Zoom out",B=$?e$2.isMac()?"Meta+-":"Ctrl+-":"";return n$2.createElement(e$2.Tooltip,{ariaControlsSuffix:"zoom-out",position:e$2.Position.BottomCenter,target:n$2.createElement(e$2.MinimalButton,{ariaKeyShortcuts:B,ariaLabel:R,testId:"zoom__out-button",onClick:H},n$2.createElement(r$2,null)),content:function(){return R},offset:g$1})},k=function(A){var $=A.children,H=A.enableShortcuts,O=A.store,R=a$2(O).scale;return($||b$1)({enableShortcuts:H,onClick:function(){var B=O.get("zoom");B&&B(m$2(R))}})},S$1=function(A){var $=A.onClick,H=n$2.useContext(e$2.LocalizationContext).l10n,O=H&&H.zoom?H.zoom.zoomOut:"Zoom out";return n$2.createElement(e$2.MenuItem,{icon:n$2.createElement(r$2,null),testId:"zoom__out-menu",onClick:$},O)};zoom_min.ZoomInIcon=o$2,zoom_min.ZoomOutIcon=r$2,zoom_min.zoomPlugin=function(A){var $=n$2.useMemo(function(){return Object.assign({},{enableShortcuts:!0},A)},[]),H=n$2.useMemo(function(){return e$2.createStore({})},[]),O=function(ee){return n$2.createElement(C,c$2({enableShortcuts:$.enableShortcuts},ee,{store:H}))},R=function(ee){return n$2.createElement(k,c$2({enableShortcuts:$.enableShortcuts},ee,{store:H}))},B=function(ee){return n$2.createElement(z,c$2({},ee,{store:H}))};return{renderViewer:function(ee){var se=ee.slot;if(!$.enableShortcuts)return se;var de={children:n$2.createElement(n$2.Fragment,null,n$2.createElement(s$2,{containerRef:ee.containerRef,store:H}),se.children)};return c$2(c$2({},se),de)},install:function(ee){H.update("zoom",ee.zoom)},onViewerStateChange:function(ee){return H.update("scale",ee.scale),ee},zoomTo:function(ee){var se=H.get("zoom");se&&se(ee)},CurrentScale:function(ee){return n$2.createElement(u$2,c$2({},ee,{store:H}))},ZoomIn:O,ZoomInButton:function(){return n$2.createElement(O,null,function(ee){return n$2.createElement(d$2,c$2({},ee))})},ZoomInMenuItem:function(ee){return n$2.createElement(O,null,function(se){return n$2.createElement(h$1,{onClick:function(){se.onClick(),ee.onClick()}})})},ZoomOut:R,ZoomOutButton:function(){return n$2.createElement(R,null,function(ee){return n$2.createElement(b$1,c$2({},ee))})},ZoomOutMenuItem:function(ee){return n$2.createElement(R,null,function(se){return n$2.createElement(S$1,{onClick:function(){se.onClick(),ee.onClick()}})})},Zoom:B,ZoomPopover:function(ee){return n$2.createElement(B,null,function(se){return n$2.createElement(p$1,c$2({levels:ee==null?void 0:ee.levels},se))})}}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=zoom_min})(lib);var e$1=libExports$h,t$1=libExports$b,r$1=reactExports,n$1=libExports$a,o$1=libExports$9,a$1=libExports$8,l$1=libExports$7,i$1=libExports$6,c$1=libExports$5,m$1=libExports$4,u$1=libExports$3,s$1=libExports$2,d$1=libExports$1,p=libExports;function v(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var _=v(r$1),E=function(){return _.createElement(e$1.Icon,{size:16},_.createElement("path",{d:`M12,0.5c1.381,0,2.5,1.119,2.5,2.5S13.381,5.5,12,5.5S9.5,4.381,9.5,3S10.619,0.5,12,0.5z
            M12,9.5
            c1.381,0,2.5,1.119,2.5,2.5s-1.119,2.5-2.5,2.5S9.5,13.381,9.5,12S10.619,9.5,12,9.5z
            M12,18.5c1.381,0,2.5,1.119,2.5,2.5
            s-1.119,2.5-2.5,2.5S9.5,22.381,9.5,21S10.619,18.5,12,18.5z`}))},g={left:0,top:8},P=function(A){var $=A.toolbarSlot,H=_.useContext(e$1.LocalizationContext).l10n,O=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft?e$1.Position.BottomLeft:e$1.Position.BottomRight,R=$.DownloadMenuItem,B=$.EnterFullScreenMenuItem,ee=$.GoToFirstPageMenuItem,se=$.GoToLastPageMenuItem,de=$.GoToNextPageMenuItem,ie=$.GoToPreviousPageMenuItem,ne=$.OpenMenuItem,pe=$.PrintMenuItem,J=$.RotateBackwardMenuItem,K=$.RotateForwardMenuItem,Y=$.ShowPropertiesMenuItem,G=$.SwitchScrollModeMenuItem,U=$.SwitchSelectionModeMenuItem,V=$.SwitchViewModeMenuItem,q=$.SwitchThemeMenuItem;return _.createElement(e$1.Popover,{ariaControlsSuffix:"toolbar-more-actions",ariaHasPopup:"menu",position:O,target:function(Q,Z){var W=H&&H.toolbar?H.toolbar.moreActions:"More actions";return _.createElement(e$1.Tooltip,{ariaControlsSuffix:"toolbar-more-actions",position:O,target:_.createElement(e$1.MinimalButton,{ariaLabel:W,isSelected:Z,testId:"toolbar__more-actions-popover-target",onClick:Q},_.createElement(E,null)),content:function(){return W},offset:g})},content:function(Q){return _.createElement(e$1.Menu,null,_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(q,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(B,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ne,null)),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(pe,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(R,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(e$1.MenuDivider,null)),_.createElement(ee,{onClick:Q}),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(ie,{onClick:Q})),_.createElement("div",{className:"rpv-core__display--block rpv-core__display--hidden-medium"},_.createElement(de,{onClick:Q})),_.createElement(se,{onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement(K,{onClick:Q}),_.createElement(J,{onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement(U,{mode:t$1.SelectionMode.Text,onClick:Q}),_.createElement(U,{mode:t$1.SelectionMode.Hand,onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement(G,{mode:e$1.ScrollMode.Page,onClick:Q}),_.createElement(G,{mode:e$1.ScrollMode.Vertical,onClick:Q}),_.createElement(G,{mode:e$1.ScrollMode.Horizontal,onClick:Q}),_.createElement(G,{mode:e$1.ScrollMode.Wrapped,onClick:Q}),_.createElement(e$1.MenuDivider,null),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(V,{mode:e$1.ViewMode.SinglePage,onClick:Q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(V,{mode:e$1.ViewMode.DualPage,onClick:Q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(V,{mode:e$1.ViewMode.DualPageWithCover,onClick:Q})),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement(e$1.MenuDivider,null)),_.createElement(Y,{onClick:Q}))},offset:g,closeOnClickOutside:!0,closeOnEscape:!0})},M=function(){return M=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},M.apply(this,arguments)},h=function(A){return function($){var H=_.useMemo(function(){return A($)},[]),O=_.useContext(e$1.ThemeContext).direction===e$1.TextDirection.RightToLeft,R=H.CurrentPageInput,B=H.Download,ee=H.EnterFullScreen,se=H.GoToNextPage,de=H.GoToPreviousPage,ie=H.NumberOfPages,ne=H.Open,pe=H.Print,J=H.ShowSearchPopover,K=H.SwitchTheme,Y=H.Zoom,G=H.ZoomIn,U=H.ZoomOut;return _.createElement("div",{"data-testid":"toolbar",className:e$1.classNames({"rpv-toolbar":!0,"rpv-toolbar--rtl":O}),role:"toolbar","aria-orientation":"horizontal"},_.createElement("div",{className:"rpv-toolbar__left"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(J,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(de,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(R,null),_.createElement("span",{className:"rpv-toolbar__label"},_.createElement(ie,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(se,null)))),_.createElement("div",{className:"rpv-toolbar__center"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(U,null)),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-small"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(Y,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(G,null))),_.createElement("div",{className:"rpv-toolbar__right"},_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(K,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ee,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(ne,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(B,null))),_.createElement("div",{className:"rpv-core__display--hidden rpv-core__display--block-medium"},_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(pe,null))),_.createElement("div",{className:"rpv-toolbar__item"},_.createElement(P,{toolbarSlot:H}))))}},f$1=function(A){var $=A.NumberOfPages;return Object.assign({},A,{NumberOfPages:function(){return _.createElement(_.Fragment,null,"/ ",_.createElement($,null))}})},S=function(A){return h(f$1)(A)},I=function(A){var $=A.children,H=A.slot;return($||S)(H)};toolbar_min.MoreActionsPopover=P,toolbar_min.MoreIcon=E,toolbar_min.toolbarPlugin=function(A){var $=n$1.fullScreenPlugin(A?A.fullScreenPlugin:{}),H=o$1.getFilePlugin(A?A.getFilePlugin:{}),O=a$1.openPlugin(A?A.openPlugin:{}),R=l$1.pageNavigationPlugin(A?A.pageNavigationPlugin:{}),B=i$1.printPlugin(A?A.printPlugin:{}),ee=c$1.propertiesPlugin(),se=m$1.rotatePlugin(),de=u$1.scrollModePlugin(),ie=s$1.searchPlugin(A?A.searchPlugin:{}),ne=t$1.selectionModePlugin(A?A.selectionModePlugin:{}),pe=d$1.themePlugin(),J=p.zoomPlugin(A?A.zoomPlugin:{}),K=[$,H,O,R,B,ee,se,de,ie,ne,pe,J],Y=_.useCallback(function(G){var U=$.EnterFullScreen,V=$.EnterFullScreenMenuItem,q=H.Download,Q=H.DownloadMenuItem,Z=O.Open,W=O.OpenMenuItem,X=R.CurrentPageInput,ue=R.CurrentPageLabel,_e=R.GoToFirstPage,be=R.GoToFirstPageMenuItem,we=R.GoToLastPage,ce=R.GoToLastPageMenuItem,$e=R.GoToNextPage,Xe=R.GoToNextPageMenuItem,De=R.GoToPreviousPage,Ge=R.GoToPreviousPageMenuItem,Fe=R.NumberOfPages,xe=B.Print,Te=B.PrintMenuItem,et=ee.ShowProperties,Ke=ee.ShowPropertiesMenuItem,ye=se.Rotate,oe=se.RotateBackwardMenuItem,re=se.RotateForwardMenuItem,fe=de.SwitchScrollMode,Se=de.SwitchScrollModeMenuItem,Ee=de.SwitchViewMode,Pe=de.SwitchViewModeMenuItem,Oe=ie.Search,He=ie.ShowSearchPopover,rt=ne.SwitchSelectionMode,Ze=ne.SwitchSelectionModeMenuItem,tt=pe.SwitchTheme,ze=pe.SwitchThemeMenuItem,ae=J.CurrentScale,le=J.Zoom,ve=J.ZoomIn,Ce=J.ZoomInMenuItem,ge=J.ZoomOut,ke=J.ZoomOutMenuItem;return _.createElement(I,M({},G,{slot:{CurrentPageInput:X,CurrentPageLabel:ue,CurrentScale:ae,Download:q,DownloadMenuItem:Q,EnterFullScreen:U,EnterFullScreenMenuItem:V,GoToFirstPage:_e,GoToFirstPageMenuItem:be,GoToLastPage:we,GoToLastPageMenuItem:ce,GoToNextPage:$e,GoToNextPageMenuItem:Xe,GoToPreviousPage:De,GoToPreviousPageMenuItem:Ge,NumberOfPages:Fe,Open:Z,OpenMenuItem:W,Print:xe,PrintMenuItem:Te,Rotate:ye,RotateBackwardMenuItem:oe,RotateForwardMenuItem:re,Search:Oe,ShowProperties:et,ShowPropertiesMenuItem:Ke,ShowSearchPopover:He,SwitchScrollMode:fe,SwitchScrollModeMenuItem:Se,SwitchSelectionMode:rt,SwitchSelectionModeMenuItem:Ze,SwitchViewMode:Ee,SwitchViewModeMenuItem:Pe,SwitchTheme:tt,SwitchThemeMenuItem:ze,Zoom:le,ZoomIn:ve,ZoomInMenuItem:Ce,ZoomOut:ge,ZoomOutMenuItem:ke}}))},[]);return{fullScreenPluginInstance:$,getFilePluginInstance:H,openPluginInstance:O,pageNavigationPluginInstance:R,printPluginInstance:B,propertiesPluginInstance:ee,rotatePluginInstance:se,scrollModePluginInstance:de,searchPluginInstance:ie,selectionModePluginInstance:ne,themePluginInstance:pe,zoomPluginInstance:J,install:function(G){K.forEach(function(U){U.install&&U.install(G)})},renderPageLayer:function(G){return _.createElement(_.Fragment,null,K.map(function(U,V){return U.renderPageLayer?_.createElement(_.Fragment,{key:V},U.renderPageLayer(G)):_.createElement(_.Fragment,{key:V})}))},renderViewer:function(G){var U=G.slot;return K.forEach(function(V){V.renderViewer&&(U=V.renderViewer(M(M({},G),{slot:U})))}),U},uninstall:function(G){K.forEach(function(U){U.uninstall&&U.uninstall(G)})},onDocumentLoad:function(G){K.forEach(function(U){U.onDocumentLoad&&U.onDocumentLoad(G)})},onAnnotationLayerRender:function(G){K.forEach(function(U){U.onAnnotationLayerRender&&U.onAnnotationLayerRender(G)})},onTextLayerRender:function(G){K.forEach(function(U){U.onTextLayerRender&&U.onTextLayerRender(G)})},onViewerStateChange:function(G){var U=G;return K.forEach(function(V){V.onViewerStateChange&&(U=V.onViewerStateChange(U))}),U},renderDefaultToolbar:h,Toolbar:Y}};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=toolbar_min})(lib$c);var e=libExports$h,t=reactExports,n=libExports$f,a=libExports$e,r=libExports$d,o=libExports$c;function l(A){var $=Object.create(null);return A&&Object.keys(A).forEach(function(H){if(H!=="default"){var O=Object.getOwnPropertyDescriptor(A,H);Object.defineProperty($,H,O.get?O:{enumerable:!0,get:function(){return A[H]}})}}),$.default=A,Object.freeze($)}var u=l(t),c=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M11.5,1.5h11c0.552,0,1,0.448,1,1v20c0,0.552-0.448,1-1,1h-21c-0.552,0-1-0.448-1-1v-20c0-0.552,0.448-1,1-1h3
            M11.5,10.5c0,0.55-0.3,0.661-0.659,0.248L8,7.5l-2.844,3.246c-0.363,0.414-0.659,0.3-0.659-0.247v-9c0-0.552,0.448-1,1-1h5
            c0.552,0,1,0.448,1,1L11.5,10.5z
            M14.5,6.499h6
            M14.5,10.499h6
            M3.5,14.499h17
            M3.5,18.499h16.497`}))},i=function(){return i=Object.assign||function(A){for(var $,H=1,O=arguments.length;H<O;H++)for(var R in $=arguments[H])Object.prototype.hasOwnProperty.call($,R)&&(A[R]=$[R]);return A},i.apply(this,arguments)},s=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M7.618,15.345l8.666-8.666c0.78-0.812,2.071-0.838,2.883-0.058s0.838,2.071,0.058,2.883
            c-0.019,0.02-0.038,0.039-0.058,0.058L7.461,21.305c-1.593,1.593-4.175,1.592-5.767,0s-1.592-4.175,0-5.767c0,0,0,0,0,0
            L13.928,3.305c2.189-2.19,5.739-2.19,7.929-0.001s2.19,5.739,0,7.929l0,0L13.192,19.9`}))},d=function(){return u.createElement(e.Icon,{size:16},u.createElement("path",{d:`M10.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M23.5,9.5c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V9.5z
            M10.5,22.5 c0,0.552-0.448,1-1,1h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z
            M23.5,22.5c0,0.552-0.448,1-1,1 h-8c-0.552,0-1-0.448-1-1v-8c0-0.552,0.448-1,1-1h8c0.552,0,1,0.448,1,1V22.5z`}))},b={left:8,top:0},f={left:-8,top:0},m=function(A){var $=A.attachmentTabContent,H=A.bookmarkTabContent,O=A.store,R=A.thumbnailTabContent,B=A.tabs,ee=u.useRef(),se=u.useContext(e.LocalizationContext).l10n,de=u.useState(O.get("isCurrentTabOpened")||!1),ie=de[0],ne=de[1],pe=u.useState(Math.max(O.get("currentTab")||0,0)),J=pe[0],K=pe[1],Y=u.useContext(e.ThemeContext).direction===e.TextDirection.RightToLeft,G=[{content:R,icon:u.createElement(d,null),title:se&&se.defaultLayout?se.defaultLayout.thumbnail:"Thumbnail"},{content:H,icon:u.createElement(c,null),title:se&&se.defaultLayout?se.defaultLayout.bookmark:"Bookmark"},{content:$,icon:u.createElement(s,null),title:se&&se.defaultLayout?se.defaultLayout.attachment:"Attachment"}],U=B?B(G):G,V=function(Q){Q>=0&&Q<=U.length-1&&(O.update("isCurrentTabOpened",!0),K(Q))},q=function(Q){ne(Q)};return u.useEffect(function(){return O.subscribe("currentTab",V),O.subscribe("isCurrentTabOpened",q),function(){O.unsubscribe("currentTab",V),O.unsubscribe("isCurrentTabOpened",q)}},[]),U.length===0?u.createElement(u.Fragment,null):u.createElement(u.Fragment,null,u.createElement("div",{"data-testid":"default-layout__sidebar",className:e.classNames({"rpv-default-layout__sidebar":!0,"rpv-default-layout__sidebar--opened":ie,"rpv-default-layout__sidebar--ltr":!Y,"rpv-default-layout__sidebar--rtl":Y}),ref:ee},u.createElement("div",{className:"rpv-default-layout__sidebar-tabs"},u.createElement("div",{className:"rpv-default-layout__sidebar-headers",role:"tablist","aria-orientation":"vertical"},U.map(function(Q,Z){return u.createElement("div",{"aria-controls":"rpv-default-layout__sidebar-content","aria-selected":J===Z,key:Z,className:"rpv-default-layout__sidebar-header",id:"rpv-default-layout__sidebar-tab-".concat(Z),role:"tab"},u.createElement(e.Tooltip,{ariaControlsSuffix:"default-layout-sidebar-tab-".concat(Z),position:Y?e.Position.LeftCenter:e.Position.RightCenter,target:u.createElement(e.MinimalButton,{ariaLabel:Q.title,isSelected:J===Z,onClick:function(){return function(W){if(J===W){O.update("isCurrentTabOpened",!O.get("isCurrentTabOpened"));var X=ee.current;X&&X.style.width&&X.style.removeProperty("width")}else O.update("currentTab",W)}(Z)}},Q.icon),content:function(){return Q.title},offset:Y?f:b}))})),u.createElement("div",{"aria-labelledby":"rpv-default-layout__sidebar-tab-".concat(J),id:"rpv-default-layout__sidebar-content",className:e.classNames({"rpv-default-layout__sidebar-content":!0,"rpv-default-layout__sidebar-content--opened":ie,"rpv-default-layout__sidebar-content--ltr":!Y,"rpv-default-layout__sidebar-content--rtl":Y}),role:"tabpanel",tabIndex:-1},U[J].content))),ie&&u.createElement(e.Splitter,{constrain:function(Q){return Q.firstHalfPercentage>=20&&Q.firstHalfPercentage<=80}}))};defaultLayout_min.BookmarkIcon=c,defaultLayout_min.FileIcon=s,defaultLayout_min.ThumbnailIcon=d,defaultLayout_min.defaultLayoutPlugin=function(A){var $=u.useMemo(function(){return e.createStore({isCurrentTabOpened:!1,currentTab:0})},[]),H=n.attachmentPlugin(),O=a.bookmarkPlugin(),R=r.thumbnailPlugin(A?A.thumbnailPlugin:{}),B=o.toolbarPlugin(A?A.toolbarPlugin:{}),ee=H.Attachments,se=O.Bookmarks,de=R.Thumbnails,ie=B.Toolbar,ne=A?A.sidebarTabs:function(J){return J},pe=[H,O,R,B];return{attachmentPluginInstance:H,bookmarkPluginInstance:O,thumbnailPluginInstance:R,toolbarPluginInstance:B,activateTab:function(J){$.update("currentTab",J)},toggleTab:function(J){var K=$.get("currentTab");$.update("isCurrentTabOpened",!$.get("isCurrentTabOpened")),K!==J&&$.update("currentTab",J)},install:function(J){pe.forEach(function(K){K.install&&K.install(J)})},renderPageLayer:function(J){return u.createElement(u.Fragment,null,pe.map(function(K,Y){return K.renderPageLayer?u.createElement(u.Fragment,{key:Y},K.renderPageLayer(J)):u.createElement(u.Fragment,{key:Y},u.createElement(u.Fragment,null))}))},renderViewer:function(J){var K=J.slot;pe.forEach(function(G){G.renderViewer&&(K=G.renderViewer(i(i({},J),{slot:K})))});var Y=K.subSlot&&K.subSlot.attrs?{className:K.subSlot.attrs.className,"data-testid":K.subSlot.attrs["data-testid"],ref:K.subSlot.attrs.ref,style:K.subSlot.attrs.style}:{};return K.children=u.createElement("div",{className:"rpv-default-layout__container"},u.createElement("div",{"data-testid":"default-layout__main",className:e.classNames({"rpv-default-layout__main":!0,"rpv-default-layout__main--rtl":J.themeContext.direction===e.TextDirection.RightToLeft})},u.createElement(m,{attachmentTabContent:u.createElement(ee,null),bookmarkTabContent:u.createElement(se,null),store:$,thumbnailTabContent:u.createElement(de,null),tabs:ne}),u.createElement("div",{className:"rpv-default-layout__body","data-testid":"default-layout__body"},u.createElement("div",{className:"rpv-default-layout__toolbar"},A&&A.renderToolbar?A.renderToolbar(ie):u.createElement(ie,null)),u.createElement("div",i({},Y),K.subSlot.children))),K.children),K.subSlot.attrs={},K.subSlot.children=u.createElement(u.Fragment,null),K},uninstall:function(J){pe.forEach(function(K){K.uninstall&&K.uninstall(J)})},onDocumentLoad:function(J){pe.forEach(function(K){K.onDocumentLoad&&K.onDocumentLoad(J)}),A&&A.setInitialTab&&A.setInitialTab(J.doc).then(function(K){$.update("currentTab",K),$.update("isCurrentTabOpened",!0)})},onAnnotationLayerRender:function(J){pe.forEach(function(K){K.onAnnotationLayerRender&&K.onAnnotationLayerRender(J)})},onTextLayerRender:function(J){pe.forEach(function(K){K.onTextLayerRender&&K.onTextLayerRender(J)})},onViewerStateChange:function(J){var K=J;return pe.forEach(function(Y){Y.onViewerStateChange&&(K=Y.onViewerStateChange(K))}),K}}},defaultLayout_min.setInitialTabFromPageMode=function(A){return new Promise(function($,H){A.getPageMode().then(function(O){if(O)switch(O){case e.PageMode.Attachments:$(2);break;case e.PageMode.Bookmarks:$(1);break;case e.PageMode.Thumbnails:$(0);break;default:$(-1)}else $(-1)})})};/**
 * A React component to view a PDF document
 *
 * @see https://react-pdf-viewer.dev
 * @license https://react-pdf-viewer.dev/license
 * @copyright 2019-2023 Nguyen Huu Phuoc <me@phuoc.ng>
 */(function(A){A.exports=defaultLayout_min})(lib$g);export{Modal as M,libExports$7 as a,libExports$9 as b,libExports$h as c,libExports$g as l};
